(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var Df={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function uT(){if(Ty)return Ll;Ty=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var y in u)y!=="key"&&(h[y]=u[y])}else h=u;return u=h.ref,{$$typeof:r,type:s,key:d,ref:u!==void 0?u:null,props:h}}return Ll.Fragment=e,Ll.jsx=i,Ll.jsxs=i,Ll}var Ay;function oT(){return Ay||(Ay=1,Df.exports=uT()),Df.exports}var Gt=oT(),Vf={exports:{}},pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function cT(){if(Sy)return pt;Sy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),O=Symbol.iterator;function k(N){return N===null||typeof N!="object"?null:(N=O&&N[O]||N["@@iterator"],typeof N=="function"?N:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,Z={};function ft(N,Y,et){this.props=N,this.context=Y,this.refs=Z,this.updater=et||J}ft.prototype.isReactComponent={},ft.prototype.setState=function(N,Y){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Y,"setState")},ft.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function At(){}At.prototype=ft.prototype;function dt(N,Y,et){this.props=N,this.context=Y,this.refs=Z,this.updater=et||J}var Qt=dt.prototype=new At;Qt.constructor=dt,W(Qt,ft.prototype),Qt.isPureReactComponent=!0;var $t=Array.isArray;function Mt(){}var D={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(N,Y,et){var at=et.ref;return{$$typeof:r,type:N,key:Y,ref:at!==void 0?at:null,props:et}}function M(N,Y){return C(N.type,Y,N.props)}function I(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function z(N){var Y={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(et){return Y[et]})}var R=/\/+/g;function ne(N,Y){return typeof N=="object"&&N!==null&&N.key!=null?z(""+N.key):Y.toString(36)}function Ce(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Mt,Mt):(N.status="pending",N.then(function(Y){N.status==="pending"&&(N.status="fulfilled",N.value=Y)},function(Y){N.status==="pending"&&(N.status="rejected",N.reason=Y)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function G(N,Y,et,at,mt){var Et=typeof N;(Et==="undefined"||Et==="boolean")&&(N=null);var It=!1;if(N===null)It=!0;else switch(Et){case"bigint":case"string":case"number":It=!0;break;case"object":switch(N.$$typeof){case r:case e:It=!0;break;case A:return It=N._init,G(It(N._payload),Y,et,at,mt)}}if(It)return mt=mt(N),It=at===""?"."+ne(N,0):at,$t(mt)?(et="",It!=null&&(et=It.replace(R,"$&/")+"/"),G(mt,Y,et,"",function(Ba){return Ba})):mt!=null&&(I(mt)&&(mt=M(mt,et+(mt.key==null||N&&N.key===mt.key?"":(""+mt.key).replace(R,"$&/")+"/")+It)),Y.push(mt)),1;It=0;var De=at===""?".":at+":";if($t(N))for(var ie=0;ie<N.length;ie++)at=N[ie],Et=De+ne(at,ie),It+=G(at,Y,et,Et,mt);else if(ie=k(N),typeof ie=="function")for(N=ie.call(N),ie=0;!(at=N.next()).done;)at=at.value,Et=De+ne(at,ie++),It+=G(at,Y,et,Et,mt);else if(Et==="object"){if(typeof N.then=="function")return G(Ce(N),Y,et,at,mt);throw Y=String(N),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return It}function tt(N,Y,et){if(N==null)return N;var at=[],mt=0;return G(N,at,"","",function(Et){return Y.call(et,Et,mt++)}),at}function ot(N){if(N._status===-1){var Y=N._result;Y=Y(),Y.then(function(et){(N._status===0||N._status===-1)&&(N._status=1,N._result=et)},function(et){(N._status===0||N._status===-1)&&(N._status=2,N._result=et)}),N._status===-1&&(N._status=0,N._result=Y)}if(N._status===1)return N._result.default;throw N._result}var xt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Pt={map:tt,forEach:function(N,Y,et){tt(N,function(){Y.apply(this,arguments)},et)},count:function(N){var Y=0;return tt(N,function(){Y++}),Y},toArray:function(N){return tt(N,function(Y){return Y})||[]},only:function(N){if(!I(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return pt.Activity=b,pt.Children=Pt,pt.Component=ft,pt.Fragment=i,pt.Profiler=u,pt.PureComponent=dt,pt.StrictMode=s,pt.Suspense=v,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,pt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return D.H.useMemoCache(N)}},pt.cache=function(N){return function(){return N.apply(null,arguments)}},pt.cacheSignal=function(){return null},pt.cloneElement=function(N,Y,et){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var at=W({},N.props),mt=N.key;if(Y!=null)for(Et in Y.key!==void 0&&(mt=""+Y.key),Y)!S.call(Y,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&Y.ref===void 0||(at[Et]=Y[Et]);var Et=arguments.length-2;if(Et===1)at.children=et;else if(1<Et){for(var It=Array(Et),De=0;De<Et;De++)It[De]=arguments[De+2];at.children=It}return C(N.type,mt,at)},pt.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:h,_context:N},N},pt.createElement=function(N,Y,et){var at,mt={},Et=null;if(Y!=null)for(at in Y.key!==void 0&&(Et=""+Y.key),Y)S.call(Y,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(mt[at]=Y[at]);var It=arguments.length-2;if(It===1)mt.children=et;else if(1<It){for(var De=Array(It),ie=0;ie<It;ie++)De[ie]=arguments[ie+2];mt.children=De}if(N&&N.defaultProps)for(at in It=N.defaultProps,It)mt[at]===void 0&&(mt[at]=It[at]);return C(N,Et,mt)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(N){return{$$typeof:y,render:N}},pt.isValidElement=I,pt.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:ot}},pt.memo=function(N,Y){return{$$typeof:_,type:N,compare:Y===void 0?null:Y}},pt.startTransition=function(N){var Y=D.T,et={};D.T=et;try{var at=N(),mt=D.S;mt!==null&&mt(et,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Mt,xt)}catch(Et){xt(Et)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),D.T=Y}},pt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},pt.use=function(N){return D.H.use(N)},pt.useActionState=function(N,Y,et){return D.H.useActionState(N,Y,et)},pt.useCallback=function(N,Y){return D.H.useCallback(N,Y)},pt.useContext=function(N){return D.H.useContext(N)},pt.useDebugValue=function(){},pt.useDeferredValue=function(N,Y){return D.H.useDeferredValue(N,Y)},pt.useEffect=function(N,Y){return D.H.useEffect(N,Y)},pt.useEffectEvent=function(N){return D.H.useEffectEvent(N)},pt.useId=function(){return D.H.useId()},pt.useImperativeHandle=function(N,Y,et){return D.H.useImperativeHandle(N,Y,et)},pt.useInsertionEffect=function(N,Y){return D.H.useInsertionEffect(N,Y)},pt.useLayoutEffect=function(N,Y){return D.H.useLayoutEffect(N,Y)},pt.useMemo=function(N,Y){return D.H.useMemo(N,Y)},pt.useOptimistic=function(N,Y){return D.H.useOptimistic(N,Y)},pt.useReducer=function(N,Y,et){return D.H.useReducer(N,Y,et)},pt.useRef=function(N){return D.H.useRef(N)},pt.useState=function(N){return D.H.useState(N)},pt.useSyncExternalStore=function(N,Y,et){return D.H.useSyncExternalStore(N,Y,et)},pt.useTransition=function(){return D.H.useTransition()},pt.version="19.2.0",pt}var by;function md(){return by||(by=1,Vf.exports=cT()),Vf.exports}var gi=md(),If={exports:{}},Bl={},Nf={exports:{}},Of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function hT(){return Ry||(Ry=1,(function(r){function e(G,tt){var ot=G.length;G.push(tt);t:for(;0<ot;){var xt=ot-1>>>1,Pt=G[xt];if(0<u(Pt,tt))G[xt]=tt,G[ot]=Pt,ot=xt;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var tt=G[0],ot=G.pop();if(ot!==tt){G[0]=ot;t:for(var xt=0,Pt=G.length,N=Pt>>>1;xt<N;){var Y=2*(xt+1)-1,et=G[Y],at=Y+1,mt=G[at];if(0>u(et,ot))at<Pt&&0>u(mt,et)?(G[xt]=mt,G[at]=ot,xt=at):(G[xt]=et,G[Y]=ot,xt=Y);else if(at<Pt&&0>u(mt,ot))G[xt]=mt,G[at]=ot,xt=at;else break t}}return tt}function u(G,tt){var ot=G.sortIndex-tt.sortIndex;return ot!==0?ot:G.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,b=null,O=3,k=!1,J=!1,W=!1,Z=!1,ft=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Qt(G){for(var tt=i(_);tt!==null;){if(tt.callback===null)s(_);else if(tt.startTime<=G)s(_),tt.sortIndex=tt.expirationTime,e(v,tt);else break;tt=i(_)}}function $t(G){if(W=!1,Qt(G),!J)if(i(v)!==null)J=!0,Mt||(Mt=!0,z());else{var tt=i(_);tt!==null&&Ce($t,tt.startTime-G)}}var Mt=!1,D=-1,S=5,C=-1;function M(){return Z?!0:!(r.unstable_now()-C<S)}function I(){if(Z=!1,Mt){var G=r.unstable_now();C=G;var tt=!0;try{t:{J=!1,W&&(W=!1,At(D),D=-1),k=!0;var ot=O;try{e:{for(Qt(G),b=i(v);b!==null&&!(b.expirationTime>G&&M());){var xt=b.callback;if(typeof xt=="function"){b.callback=null,O=b.priorityLevel;var Pt=xt(b.expirationTime<=G);if(G=r.unstable_now(),typeof Pt=="function"){b.callback=Pt,Qt(G),tt=!0;break e}b===i(v)&&s(v),Qt(G)}else s(v);b=i(v)}if(b!==null)tt=!0;else{var N=i(_);N!==null&&Ce($t,N.startTime-G),tt=!1}}break t}finally{b=null,O=ot,k=!1}tt=void 0}}finally{tt?z():Mt=!1}}}var z;if(typeof dt=="function")z=function(){dt(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ne=R.port2;R.port1.onmessage=I,z=function(){ne.postMessage(null)}}else z=function(){ft(I,0)};function Ce(G,tt){D=ft(function(){G(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(G){switch(O){case 1:case 2:case 3:var tt=3;break;default:tt=O}var ot=O;O=tt;try{return G()}finally{O=ot}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(G,tt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ot=O;O=G;try{return tt()}finally{O=ot}},r.unstable_scheduleCallback=function(G,tt,ot){var xt=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?xt+ot:xt):ot=xt,G){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=ot+Pt,G={id:A++,callback:tt,priorityLevel:G,startTime:ot,expirationTime:Pt,sortIndex:-1},ot>xt?(G.sortIndex=ot,e(_,G),i(v)===null&&G===i(_)&&(W?(At(D),D=-1):W=!0,Ce($t,ot-xt))):(G.sortIndex=Pt,e(v,G),J||k||(J=!0,Mt||(Mt=!0,z()))),G},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(G){var tt=O;return function(){var ot=O;O=tt;try{return G.apply(this,arguments)}finally{O=ot}}}})(Of)),Of}var wy;function fT(){return wy||(wy=1,Nf.exports=hT()),Nf.exports}var Mf={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function dT(){if(Cy)return Qe;Cy=1;var r=md();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Qe.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,b=y(A,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,k=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:O,fetchPriority:k}):A==="script"&&s.d.X(v,{crossOrigin:b,integrity:O,fetchPriority:k,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=y(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Qe.requestFormReset=function(v){s.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.0",Qe}var Dy;function mT(){if(Dy)return Mf.exports;Dy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mf.exports=dT(),Mf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function gT(){if(Vy)return Bl;Vy=1;var r=fT(),e=md(),i=mT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,O=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),At=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Qt=Symbol.for("react.forward_ref"),$t=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case ft:return"Profiler";case Z:return"StrictMode";case $t:return"Suspense";case Mt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case dt:return t.displayName||"Context";case At:return(t._context.displayName||"Context")+".Consumer";case Qt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:ne(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return ne(t(n))}catch{}}return null}var Ce=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},xt=[],Pt=-1;function N(t){return{current:t}}function Y(t){0>Pt||(t.current=xt[Pt],xt[Pt]=null,Pt--)}function et(t,n){Pt++,xt[Pt]=t.current,t.current=n}var at=N(null),mt=N(null),Et=N(null),It=N(null);function De(t,n){switch(et(Et,n),et(mt,t),et(at,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Gp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Gp(n),t=Qp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(at),et(at,t)}function ie(){Y(at),Y(mt),Y(Et)}function Ba(t){t.memoizedState!==null&&et(It,t);var n=at.current,a=Qp(n,t.type);n!==a&&(et(mt,t),et(at,a))}function Rs(t){mt.current===t&&(Y(at),Y(mt)),It.current===t&&(Y(It),Ml._currentValue=ot)}var ws,Cs;function Fn(t){if(ws===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ws=n&&n[1]||"",Cs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ws+t+Cs}var Mr=!1;function qa(t,n){if(!t||Mr)return"";Mr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(j){var q=j}Reflect.construct(t,[],F)}else{try{F.call()}catch(j){q=j}t.call(F.prototype)}}else{try{throw Error()}catch(j){q=j}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(j){if(j&&q&&typeof j.stack=="string")return[j.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var w=g.split(`
`),B=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===B.length)for(l=w.length-1,c=B.length-1;1<=l&&0<=c&&w[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==B[c]){var H=`
`+w[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{Mr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Fn(a):""}function xr(t,n){switch(t.tag){case 26:case 27:case 5:return Fn(t.type);case 16:return Fn("Lazy");case 13:return t.child!==n&&n!==null?Fn("Suspense Fallback"):Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 15:return qa(t.type,!1);case 11:return qa(t.type.render,!1);case 1:return qa(t.type,!0);case 31:return Fn("Activity");default:return""}}function zr(t){try{var n="",a=null;do n+=xr(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var me=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,Qi=r.unstable_cancelCallback,Vc=r.unstable_shouldYield,cu=r.unstable_requestPaint,Ke=r.unstable_now,Pa=r.unstable_getCurrentPriorityLevel,Ur=r.unstable_ImmediatePriority,Lr=r.unstable_UserBlockingPriority,Fi=r.unstable_NormalPriority,Ic=r.unstable_LowPriority,hu=r.unstable_IdlePriority,fu=r.log,du=r.unstable_setDisableYieldValue,On=null,Ue=null;function _n(t){if(typeof fu=="function"&&du(t),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(On,t)}catch{}}var oe=Math.clz32?Math.clz32:gu,mu=Math.log,Ds=Math.LN2;function gu(t){return t>>>=0,t===0?32:31-(mu(t)/Ds|0)|0}var Yn=256,ja=262144,ge=4194304;function Xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Kn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Xn(l):(g&=E,g!==0?c=Xn(g):a||(a=E&~t,a!==0&&(c=Xn(a))))):(E=l&~f,E!==0?c=Xn(E):g!==0?c=Xn(g):a||(a=l&~t,a!==0&&(c=Xn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Mn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Nc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pu(){var t=ge;return ge<<=1,(ge&62914560)===0&&(ge=4194304),t}function Zn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ha(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Oc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var H=31-oe(a),F=1<<H;E[H]=0,w[H]=-1;var q=B[H];if(q!==null)for(B[H]=null,H=0;H<q.length;H++){var j=q[H];j!==null&&(j.lane&=-536870913)}a&=~F}l!==0&&ka(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function ka(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-oe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Br(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-oe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function qr(t,n){var a=n&-n;return a=(a&42)!==0?1:Ga(a),(a&(t.suspendedLanes|n))!==0?0:a}function Ga(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Si(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yu(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:my(t.type))}function xn(t,n){var a=tt.p;try{return tt.p=t,n()}finally{tt.p=a}}var zn=Math.random().toString(36).slice(2),pe="__reactFiber$"+zn,Oe="__reactProps$"+zn,Jn="__reactContainer$"+zn,Vs="__reactEvents$"+zn,Mc="__reactListeners$"+zn,_u="__reactHandles$"+zn,vu="__reactResources$"+zn,$n="__reactMarker$"+zn;function Is(t){delete t[pe],delete t[Oe],delete t[Vs],delete t[Mc],delete t[_u]}function Wn(t){var n=t[pe];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Jn]||a[pe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=$p(t);t!==null;){if(a=t[pe])return a;t=$p(t)}return n}t=a,a=t.parentNode}return null}function vn(t){if(t=t[pe]||t[Jn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ti(t){var n=t[vu];return n||(n=t[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ye(t){t[$n]=!0}var Pr=new Set,jr={};function ei(t,n){ni(t,n),ni(t+"Capture",n)}function ni(t,n){for(jr[t]=n,t=0;t<n.length;t++)Pr.add(n[t])}var Hr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kr={},Gr={};function Eu(t){return me.call(Gr,t)?!0:me.call(kr,t)?!1:Hr.test(t)?Gr[t]=!0:(kr[t]=!0,!1)}function Ns(t,n,a){if(Eu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function on(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function _e(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Me(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Qr(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function jt(t){if(!t._valueTracker){var n=Yi(t)?"checked":"value";t._valueTracker=Qr(t,n,""+t[n])}}function Qa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Yi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Fa=/[\n"\\]/g;function $e(t){return t.replace(Fa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Os(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Me(n)):t.value!==""+Me(n)&&(t.value=""+Me(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Fr(t,g,Me(n)):a!=null?Fr(t,g,Me(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Me(E):t.removeAttribute("name")}function Tu(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){jt(t);return}a=a!=null?""+Me(a):"",n=n!=null?""+Me(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),jt(t)}function Fr(t,n,a){n==="number"&&ii(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Xi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Me(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Au(t,n,a){if(n!=null&&(n=""+Me(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Me(a):""}function Ki(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ce(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Me(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),jt(t)}function We(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yr(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Su.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Xr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Yr(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Yr(t,f,n[f])}function Ms(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xs(t){return Zi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Un(){}var Kr=null;function En(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ji=null,ai=null;function Ya(t){var n=vn(t);if(n&&(t=n.stateNode)){var a=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Os(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+$e(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(s(90));Os(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Qa(l)}break t;case"textarea":Au(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Xi(t,!!a.multiple,n,!1)}}}var zs=!1;function $i(t,n,a){if(zs)return t(n,a);zs=!0;try{var l=t(n);return l}finally{if(zs=!1,(Ji!==null||ai!==null)&&(_o(),Ji&&(n=Ji,t=ai,ai=Ji=null,Ya(n),t)))for(n=0;n<t.length;n++)Ya(t[n])}}function Ln(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Oe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xa=!1;if(Tn)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){Xa=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch{Xa=!1}var si=null,Zr=null,Ka=null;function Jr(){if(Ka)return Ka;var t,n=Zr,a=n.length,l,c="value"in si?si.value:si.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return Ka=c.slice(t,1<l?1-l:void 0)}function Za(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function bi(){return!0}function Bn(){return!1}function Le(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?bi:Bn,this.isPropagationStopped=Bn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),n}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ri=Le(Ri),Wi=b({},Ri,{view:0,detail:0}),$r=Le(Wi),ta,Us,li,Ls=b({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(ta=t.screenX-li.screenX,Us=t.screenY-li.screenY):Us=ta=0,li=t),ta)},movementY:function(t){return"movementY"in t?t.movementY:Us}}),Wr=Le(Ls),Ja=b({},Ls,{dataTransfer:0}),Ru=Le(Ja),wu=b({},Wi,{relatedTarget:0}),$a=Le(wu),tl=b({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=Le(tl),Bs=b({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Du=Le(Bs),Vu=b({},Ri,{data:0}),ui=Le(Vu),Iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ou[t])?!!n[t]:!1}function ea(){return Mu}var Ze=b({},Wi,{key:function(t){if(t.key){var n=Iu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Za(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(t){return t.type==="keypress"?Za(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Za(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xu=Le(Ze),zu=b({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wi=Le(zu),o=b({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),m=Le(o),p=b({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Le(p),U=b({},Ls,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P=Le(U),$=b({},Ri,{newState:0,oldState:0}),_t=Le($),ce=[9,13,27,32],Lt=Tn&&"CompositionEvent"in window,ae=null;Tn&&"documentMode"in document&&(ae=document.documentMode);var An=Tn&&"TextEvent"in window&&!ae,oi=Tn&&(!Lt||ae&&8<ae&&11>=ae),qn=" ",Pn=!1;function Wa(t,n){switch(t){case"keyup":return ce.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ps=!1;function O0(t,n){switch(t){case"compositionend":return qs(n);case"keypress":return n.which!==32?null:(Pn=!0,qn);case"textInput":return t=n.data,t===qn&&Pn?null:t;default:return null}}function M0(t,n){if(Ps)return t==="compositionend"||!Lt&&Wa(t,n)?(t=Jr(),Ka=Zr=si=null,Ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return oi&&n.locale!=="ko"?null:n.data;default:return null}}var x0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function em(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!x0[t.type]:n==="textarea"}function nm(t,n,a,l){Ji?ai?ai.push(l):ai=[l]:Ji=l,n=Ro(n,"onChange"),0<n.length&&(a=new ri("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var el=null,nl=null;function z0(t){Bp(t,0)}function Uu(t){var n=un(t);if(Qa(n))return t}function im(t,n){if(t==="change")return n}var am=!1;if(Tn){var xc;if(Tn){var zc="oninput"in document;if(!zc){var sm=document.createElement("div");sm.setAttribute("oninput","return;"),zc=typeof sm.oninput=="function"}xc=zc}else xc=!1;am=xc&&(!document.documentMode||9<document.documentMode)}function rm(){el&&(el.detachEvent("onpropertychange",lm),nl=el=null)}function lm(t){if(t.propertyName==="value"&&Uu(nl)){var n=[];nm(n,nl,t,En(t)),$i(z0,n)}}function U0(t,n,a){t==="focusin"?(rm(),el=n,nl=a,el.attachEvent("onpropertychange",lm)):t==="focusout"&&rm()}function L0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu(nl)}function B0(t,n){if(t==="click")return Uu(n)}function q0(t,n){if(t==="input"||t==="change")return Uu(n)}function P0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var cn=typeof Object.is=="function"?Object.is:P0;function il(t,n){if(cn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!me.call(n,c)||!cn(t[c],n[c]))return!1}return!0}function um(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function om(t,n){var a=um(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=um(a)}}function cm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?cm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function hm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ii(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ii(t.document)}return n}function Uc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var j0=Tn&&"documentMode"in document&&11>=document.documentMode,js=null,Lc=null,al=null,Bc=!1;function fm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bc||js==null||js!==ii(l)||(l=js,"selectionStart"in l&&Uc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&il(al,l)||(al=l,l=Ro(Lc,"onSelect"),0<l.length&&(n=new ri("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=js)))}function ts(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Hs={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionrun:ts("Transition","TransitionRun"),transitionstart:ts("Transition","TransitionStart"),transitioncancel:ts("Transition","TransitionCancel"),transitionend:ts("Transition","TransitionEnd")},qc={},dm={};Tn&&(dm=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function es(t){if(qc[t])return qc[t];if(!Hs[t])return t;var n=Hs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in dm)return qc[t]=n[a];return t}var mm=es("animationend"),gm=es("animationiteration"),pm=es("animationstart"),H0=es("transitionrun"),k0=es("transitionstart"),G0=es("transitioncancel"),ym=es("transitionend"),_m=new Map,Pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pc.push("scrollEnd");function jn(t,n){_m.set(t,n),ei(n,[t])}var Lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Sn=[],ks=0,jc=0;function Bu(){for(var t=ks,n=jc=ks=0;n<t;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&vm(a,c,f)}}function qu(t,n,a,l){Sn[ks++]=t,Sn[ks++]=n,Sn[ks++]=a,Sn[ks++]=l,jc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Hc(t,n,a,l){return qu(t,n,a,l),Pu(t)}function ns(t,n){return qu(t,null,null,n),Pu(t)}function vm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-oe(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Pu(t){if(50<wl)throw wl=0,Jh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Gs={};function Q0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,n,a,l){return new Q0(t,n,a,l)}function kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ci(t,n){var a=t.alternate;return a===null?(a=hn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Em(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ju(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")kc(t)&&(g=1);else if(typeof t=="string")g=ZE(t,a,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=hn(31,a,n,c),t.elementType=C,t.lanes=f,t;case W:return is(a.children,c,f,n);case Z:g=8,c|=24;break;case ft:return t=hn(12,a,n,c|2),t.elementType=ft,t.lanes=f,t;case $t:return t=hn(13,a,n,c),t.elementType=$t,t.lanes=f,t;case Mt:return t=hn(19,a,n,c),t.elementType=Mt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dt:g=10;break t;case At:g=9;break t;case Qt:g=11;break t;case D:g=14;break t;case S:g=16,l=null;break t}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=hn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function is(t,n,a,l){return t=hn(7,t,l,n),t.lanes=a,t}function Gc(t,n,a){return t=hn(6,t,null,n),t.lanes=a,t}function Tm(t){var n=hn(18,null,null,0);return n.stateNode=t,n}function Qc(t,n,a){return n=hn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Am=new WeakMap;function bn(t,n){if(typeof t=="object"&&t!==null){var a=Am.get(t);return a!==void 0?a:(n={value:t,source:n,stack:zr(n)},Am.set(t,n),n)}return{value:t,source:n,stack:zr(n)}}var Qs=[],Fs=0,Hu=null,sl=0,Rn=[],wn=0,na=null,ci=1,hi="";function Di(t,n){Qs[Fs++]=sl,Qs[Fs++]=Hu,Hu=t,sl=n}function Sm(t,n,a){Rn[wn++]=ci,Rn[wn++]=hi,Rn[wn++]=na,na=t;var l=ci;t=hi;var c=32-oe(l)-1;l&=~(1<<c),a+=1;var f=32-oe(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,ci=1<<32-oe(n)+c|a<<c|l,hi=f+t}else ci=1<<f|a<<c|l,hi=t}function Fc(t){t.return!==null&&(Di(t,1),Sm(t,1,0))}function Yc(t){for(;t===Hu;)Hu=Qs[--Fs],Qs[Fs]=null,sl=Qs[--Fs],Qs[Fs]=null;for(;t===na;)na=Rn[--wn],Rn[wn]=null,hi=Rn[--wn],Rn[wn]=null,ci=Rn[--wn],Rn[wn]=null}function bm(t,n){Rn[wn++]=ci,Rn[wn++]=hi,Rn[wn++]=na,ci=n.id,hi=n.overflow,na=t}var Be=null,Wt=null,Vt=!1,ia=null,Cn=!1,Xc=Error(s(519));function aa(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(bn(n,t)),Xc}function Rm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[pe]=t,n[Oe]=l,a){case"dialog":bt("cancel",n),bt("close",n);break;case"iframe":case"object":case"embed":bt("load",n);break;case"video":case"audio":for(a=0;a<Dl.length;a++)bt(Dl[a],n);break;case"source":bt("error",n);break;case"img":case"image":case"link":bt("error",n),bt("load",n);break;case"details":bt("toggle",n);break;case"input":bt("invalid",n),Tu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":bt("invalid",n);break;case"textarea":bt("invalid",n),Ki(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Hp(n.textContent,a)?(l.popover!=null&&(bt("beforetoggle",n),bt("toggle",n)),l.onScroll!=null&&bt("scroll",n),l.onScrollEnd!=null&&bt("scrollend",n),l.onClick!=null&&(n.onclick=Un),n=!0):n=!1,n||aa(t,!0)}function wm(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:Be=Be.return}}function Ys(t){if(t!==Be)return!1;if(!Vt)return wm(t),Vt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||df(t.type,t.memoizedProps)),a=!a),a&&Wt&&aa(t),wm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Wt=Jp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Wt=Jp(t)}else n===27?(n=Wt,_a(t.type)?(t=_f,_f=null,Wt=t):Wt=n):Wt=Be?Vn(t.stateNode.nextSibling):null;return!0}function as(){Wt=Be=null,Vt=!1}function Kc(){var t=ia;return t!==null&&(an===null?an=t:an.push.apply(an,t),ia=null),t}function rl(t){ia===null?ia=[t]:ia.push(t)}var Zc=N(null),ss=null,Vi=null;function sa(t,n,a){et(Zc,n._currentValue),n._currentValue=a}function Ii(t){t._currentValue=Zc.current,Y(Zc)}function Jc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function $c(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Jc(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Jc(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Xs(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=c.type;cn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===It.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}c=c.return}t!==null&&$c(n,t,a,l),n.flags|=262144}function ku(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rs(t){ss=t,Vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Cm(ss,t)}function Gu(t,n){return ss===null&&rs(t),Cm(t,n)}function Cm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Vi===null){if(t===null)throw Error(s(308));Vi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Vi=Vi.next=n;return a}var F0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Y0=r.unstable_scheduleCallback,X0=r.unstable_NormalPriority,ve={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wc(){return{controller:new F0,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&Y0(X0,function(){t.controller.abort()})}var ul=null,th=0,Ks=0,Zs=null;function K0(t,n){if(ul===null){var a=ul=[];th=0,Ks=af(),Zs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return th++,n.then(Dm,Dm),n}function Dm(){if(--th===0&&ul!==null){Zs!==null&&(Zs.status="fulfilled");var t=ul;ul=null,Ks=0,Zs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Z0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Vm=G.S;G.S=function(t,n){fp=Ke(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&K0(t,n),Vm!==null&&Vm(t,n)};var ls=N(null);function eh(){var t=ls.current;return t!==null?t:Zt.pooledCache}function Qu(t,n){n===null?et(ls,ls.current):et(ls,n.pool)}function Im(){var t=eh();return t===null?null:{parent:ve._currentValue,pool:t}}var Js=Error(s(460)),nh=Error(s(474)),Fu=Error(s(542)),Yu={then:function(){}};function Nm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Om(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Un,Un),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,xm(t),t;default:if(typeof n.status=="string")n.then(Un,Un);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,xm(t),t}throw os=n,Js}}function us(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(os=a,Js):a}}var os=null;function Mm(){if(os===null)throw Error(s(459));var t=os;return os=null,t}function xm(t){if(t===Js||t===Fu)throw Error(s(483))}var $s=null,ol=0;function Xu(t){var n=ol;return ol+=1,$s===null&&($s=[]),Om($s,t,n)}function cl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ku(t,n){throw n.$$typeof===O?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function zm(t){function n(x,V){if(t){var L=x.deletions;L===null?(x.deletions=[V],x.flags|=16):L.push(V)}}function a(x,V){if(!t)return null;for(;V!==null;)n(x,V),V=V.sibling;return null}function l(x){for(var V=new Map;x!==null;)x.key!==null?V.set(x.key,x):V.set(x.index,x),x=x.sibling;return V}function c(x,V){return x=Ci(x,V),x.index=0,x.sibling=null,x}function f(x,V,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<V?(x.flags|=67108866,V):L):(x.flags|=67108866,V)):(x.flags|=1048576,V)}function g(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,V,L,Q){return V===null||V.tag!==6?(V=Gc(L,x.mode,Q),V.return=x,V):(V=c(V,L),V.return=x,V)}function w(x,V,L,Q){var lt=L.type;return lt===W?H(x,V,L.props.children,Q,L.key):V!==null&&(V.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&us(lt)===V.type)?(V=c(V,L.props),cl(V,L),V.return=x,V):(V=ju(L.type,L.key,L.props,null,x.mode,Q),cl(V,L),V.return=x,V)}function B(x,V,L,Q){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=Qc(L,x.mode,Q),V.return=x,V):(V=c(V,L.children||[]),V.return=x,V)}function H(x,V,L,Q,lt){return V===null||V.tag!==7?(V=is(L,x.mode,Q,lt),V.return=x,V):(V=c(V,L),V.return=x,V)}function F(x,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Gc(""+V,x.mode,L),V.return=x,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case k:return L=ju(V.type,V.key,V.props,null,x.mode,L),cl(L,V),L.return=x,L;case J:return V=Qc(V,x.mode,L),V.return=x,V;case S:return V=us(V),F(x,V,L)}if(Ce(V)||z(V))return V=is(V,x.mode,L,null),V.return=x,V;if(typeof V.then=="function")return F(x,Xu(V),L);if(V.$$typeof===dt)return F(x,Gu(x,V),L);Ku(x,V)}return null}function q(x,V,L,Q){var lt=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return lt!==null?null:E(x,V,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case k:return L.key===lt?w(x,V,L,Q):null;case J:return L.key===lt?B(x,V,L,Q):null;case S:return L=us(L),q(x,V,L,Q)}if(Ce(L)||z(L))return lt!==null?null:H(x,V,L,Q,null);if(typeof L.then=="function")return q(x,V,Xu(L),Q);if(L.$$typeof===dt)return q(x,V,Gu(x,L),Q);Ku(x,L)}return null}function j(x,V,L,Q,lt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(L)||null,E(V,x,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case k:return x=x.get(Q.key===null?L:Q.key)||null,w(V,x,Q,lt);case J:return x=x.get(Q.key===null?L:Q.key)||null,B(V,x,Q,lt);case S:return Q=us(Q),j(x,V,L,Q,lt)}if(Ce(Q)||z(Q))return x=x.get(L)||null,H(V,x,Q,lt,null);if(typeof Q.then=="function")return j(x,V,L,Xu(Q),lt);if(Q.$$typeof===dt)return j(x,V,L,Gu(V,Q),lt);Ku(V,Q)}return null}function st(x,V,L,Q){for(var lt=null,zt=null,rt=V,Tt=V=0,wt=null;rt!==null&&Tt<L.length;Tt++){rt.index>Tt?(wt=rt,rt=null):wt=rt.sibling;var Ut=q(x,rt,L[Tt],Q);if(Ut===null){rt===null&&(rt=wt);break}t&&rt&&Ut.alternate===null&&n(x,rt),V=f(Ut,V,Tt),zt===null?lt=Ut:zt.sibling=Ut,zt=Ut,rt=wt}if(Tt===L.length)return a(x,rt),Vt&&Di(x,Tt),lt;if(rt===null){for(;Tt<L.length;Tt++)rt=F(x,L[Tt],Q),rt!==null&&(V=f(rt,V,Tt),zt===null?lt=rt:zt.sibling=rt,zt=rt);return Vt&&Di(x,Tt),lt}for(rt=l(rt);Tt<L.length;Tt++)wt=j(rt,x,Tt,L[Tt],Q),wt!==null&&(t&&wt.alternate!==null&&rt.delete(wt.key===null?Tt:wt.key),V=f(wt,V,Tt),zt===null?lt=wt:zt.sibling=wt,zt=wt);return t&&rt.forEach(function(Sa){return n(x,Sa)}),Vt&&Di(x,Tt),lt}function ct(x,V,L,Q){if(L==null)throw Error(s(151));for(var lt=null,zt=null,rt=V,Tt=V=0,wt=null,Ut=L.next();rt!==null&&!Ut.done;Tt++,Ut=L.next()){rt.index>Tt?(wt=rt,rt=null):wt=rt.sibling;var Sa=q(x,rt,Ut.value,Q);if(Sa===null){rt===null&&(rt=wt);break}t&&rt&&Sa.alternate===null&&n(x,rt),V=f(Sa,V,Tt),zt===null?lt=Sa:zt.sibling=Sa,zt=Sa,rt=wt}if(Ut.done)return a(x,rt),Vt&&Di(x,Tt),lt;if(rt===null){for(;!Ut.done;Tt++,Ut=L.next())Ut=F(x,Ut.value,Q),Ut!==null&&(V=f(Ut,V,Tt),zt===null?lt=Ut:zt.sibling=Ut,zt=Ut);return Vt&&Di(x,Tt),lt}for(rt=l(rt);!Ut.done;Tt++,Ut=L.next())Ut=j(rt,x,Tt,Ut.value,Q),Ut!==null&&(t&&Ut.alternate!==null&&rt.delete(Ut.key===null?Tt:Ut.key),V=f(Ut,V,Tt),zt===null?lt=Ut:zt.sibling=Ut,zt=Ut);return t&&rt.forEach(function(lT){return n(x,lT)}),Vt&&Di(x,Tt),lt}function Kt(x,V,L,Q){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case k:t:{for(var lt=L.key;V!==null;){if(V.key===lt){if(lt=L.type,lt===W){if(V.tag===7){a(x,V.sibling),Q=c(V,L.props.children),Q.return=x,x=Q;break t}}else if(V.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&us(lt)===V.type){a(x,V.sibling),Q=c(V,L.props),cl(Q,L),Q.return=x,x=Q;break t}a(x,V);break}else n(x,V);V=V.sibling}L.type===W?(Q=is(L.props.children,x.mode,Q,L.key),Q.return=x,x=Q):(Q=ju(L.type,L.key,L.props,null,x.mode,Q),cl(Q,L),Q.return=x,x=Q)}return g(x);case J:t:{for(lt=L.key;V!==null;){if(V.key===lt)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){a(x,V.sibling),Q=c(V,L.children||[]),Q.return=x,x=Q;break t}else{a(x,V);break}else n(x,V);V=V.sibling}Q=Qc(L,x.mode,Q),Q.return=x,x=Q}return g(x);case S:return L=us(L),Kt(x,V,L,Q)}if(Ce(L))return st(x,V,L,Q);if(z(L)){if(lt=z(L),typeof lt!="function")throw Error(s(150));return L=lt.call(L),ct(x,V,L,Q)}if(typeof L.then=="function")return Kt(x,V,Xu(L),Q);if(L.$$typeof===dt)return Kt(x,V,Gu(x,L),Q);Ku(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(a(x,V.sibling),Q=c(V,L),Q.return=x,x=Q):(a(x,V),Q=Gc(L,x.mode,Q),Q.return=x,x=Q),g(x)):a(x,V)}return function(x,V,L,Q){try{ol=0;var lt=Kt(x,V,L,Q);return $s=null,lt}catch(rt){if(rt===Js||rt===Fu)throw rt;var zt=hn(29,rt,null,x.mode);return zt.lanes=Q,zt.return=x,zt}finally{}}}var cs=zm(!0),Um=zm(!1),ra=!1;function ih(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ah(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function la(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ua(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Bt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Pu(t),vm(t,null,a),n}return qu(t,l,n,a),Pu(t)}function hl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Br(t,a)}}function sh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var rh=!1;function fl(){if(rh){var t=Zs;if(t!==null)throw t}}function dl(t,n,a,l){rh=!1;var c=t.updateQueue;ra=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,B=w.next;w.next=null,g===null?f=B:g.next=B,g=w;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=B:E.next=B,H.lastBaseUpdate=w))}if(f!==null){var F=c.baseState;g=0,H=B=w=null,E=f;do{var q=E.lane&-536870913,j=q!==E.lane;if(j?(Rt&q)===q:(l&q)===q){q!==0&&q===Ks&&(rh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=t,ct=E;q=n;var Kt=a;switch(ct.tag){case 1:if(st=ct.payload,typeof st=="function"){F=st.call(Kt,F,q);break t}F=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ct.payload,q=typeof st=="function"?st.call(Kt,F,q):st,q==null)break t;F=b({},F,q);break t;case 2:ra=!0}}q=E.callback,q!==null&&(t.flags|=64,j&&(t.flags|=8192),j=c.callbacks,j===null?c.callbacks=[q]:j.push(q))}else j={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(B=H=j,w=F):H=H.next=j,g|=q;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);H===null&&(w=F),c.baseState=w,c.firstBaseUpdate=B,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),da|=g,t.lanes=g,t.memoizedState=F}}function Lm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Bm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Lm(a[t],n)}var Ws=N(null),Zu=N(0);function qm(t,n){t=qi,et(Zu,t),et(Ws,n),qi=t|n.baseLanes}function lh(){et(Zu,qi),et(Ws,Ws.current)}function uh(){qi=Zu.current,Y(Ws),Y(Zu)}var fn=N(null),Dn=null;function oa(t){var n=t.alternate;et(he,he.current&1),et(fn,t),Dn===null&&(n===null||Ws.current!==null||n.memoizedState!==null)&&(Dn=t)}function oh(t){et(he,he.current),et(fn,t),Dn===null&&(Dn=t)}function Pm(t){t.tag===22?(et(he,he.current),et(fn,t),Dn===null&&(Dn=t)):ca()}function ca(){et(he,he.current),et(fn,fn.current)}function dn(t){Y(fn),Dn===t&&(Dn=null),Y(he)}var he=N(0);function Ju(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||pf(a)||yf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ni=0,vt=null,Yt=null,Ee=null,$u=!1,tr=!1,hs=!1,Wu=0,ml=0,er=null,J0=0;function le(){throw Error(s(321))}function ch(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!cn(t[a],n[a]))return!1;return!0}function hh(t,n,a,l,c,f){return Ni=f,vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Sg:wh,hs=!1,f=a(l,c),hs=!1,tr&&(f=Hm(n,a,l,c)),jm(t),f}function jm(t){G.H=yl;var n=Yt!==null&&Yt.next!==null;if(Ni=0,Ee=Yt=vt=null,$u=!1,ml=0,er=null,n)throw Error(s(300));t===null||Te||(t=t.dependencies,t!==null&&ku(t)&&(Te=!0))}function Hm(t,n,a,l){vt=t;var c=0;do{if(tr&&(er=null),ml=0,tr=!1,25<=c)throw Error(s(301));if(c+=1,Ee=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=bg,f=n(a,l)}while(tr);return f}function $0(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?gl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(vt.flags|=1024),n}function fh(){var t=Wu!==0;return Wu=0,t}function dh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function mh(t){if($u){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}$u=!1}Ni=0,Ee=Yt=vt=null,tr=!1,ml=Wu=0,er=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?vt.memoizedState=Ee=t:Ee=Ee.next=t,Ee}function fe(){if(Yt===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=Ee===null?vt.memoizedState:Ee.next;if(n!==null)Ee=n,Yt=t;else{if(t===null)throw vt.alternate===null?Error(s(467)):Error(s(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Ee===null?vt.memoizedState=Ee=t:Ee=Ee.next=t}return Ee}function to(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var n=ml;return ml+=1,er===null&&(er=[]),t=Om(er,t,n),n=vt,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Sg:wh),t}function eo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===dt)return qe(t)}throw Error(s(438,String(t)))}function gh(t){var n=null,a=vt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=to(),vt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function Oi(t,n){return typeof n=="function"?n(t):n}function no(t){var n=fe();return ph(n,Yt,t)}function ph(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,w=null,B=n,H=!1;do{var F=B.lane&-536870913;if(F!==B.lane?(Rt&F)===F:(Ni&F)===F){var q=B.revertLane;if(q===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),F===Ks&&(H=!0);else if((Ni&q)===q){B=B.next,q===Ks&&(H=!0);continue}else F={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=F,g=f):w=w.next=F,vt.lanes|=q,da|=q;F=B.action,hs&&a(f,F),f=B.hasEagerState?B.eagerState:a(f,F)}else q={lane:F,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=q,g=f):w=w.next=q,vt.lanes|=F,da|=F;B=B.next}while(B!==null&&B!==n);if(w===null?g=f:w.next=E,!cn(f,t.memoizedState)&&(Te=!0,H&&(a=Zs,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function yh(t){var n=fe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);cn(f,n.memoizedState)||(Te=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function km(t,n,a){var l=vt,c=fe(),f=Vt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!cn((Yt||c).memoizedState,a);if(g&&(c.memoizedState=a,Te=!0),c=c.queue,Eh(Fm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,nr(9,{destroy:void 0},Qm.bind(null,l,c,a,n),null),Zt===null)throw Error(s(349));f||(Ni&127)!==0||Gm(l,n,a)}return a}function Gm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=vt.updateQueue,n===null?(n=to(),vt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Qm(t,n,a,l){n.value=a,n.getSnapshot=l,Ym(n)&&Xm(t)}function Fm(t,n,a){return a(function(){Ym(n)&&Xm(t)})}function Ym(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!cn(t,a)}catch{return!0}}function Xm(t){var n=ns(t,2);n!==null&&sn(n,t,2)}function _h(t){var n=Je();if(typeof t=="function"){var a=t;if(t=a(),hs){_n(!0);try{a()}finally{_n(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},n}function Km(t,n,a,l){return t.baseState=a,ph(t,Yt,typeof l=="function"?l:Oi)}function W0(t,n,a,l,c){if(so(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Zm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Zm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=a(c,l),w=G.S;w!==null&&w(g,E),Jm(t,n,E)}catch(B){vh(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=a(c,l),Jm(t,n,f)}catch(B){vh(t,n,B)}}function Jm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){$m(t,n,l)},function(l){return vh(t,n,l)}):$m(t,n,a)}function $m(t,n,a){n.status="fulfilled",n.value=a,Wm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Zm(t,a)))}function vh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Wm(n),n=n.next;while(n!==l)}t.action=null}function Wm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function tg(t,n){return n}function eg(t,n){if(Vt){var a=Zt.formState;if(a!==null){t:{var l=vt;if(Vt){if(Wt){e:{for(var c=Wt,f=Cn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Vn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Wt=Vn(c.nextSibling),l=c.data==="F!";break t}}aa(l)}l=!1}l&&(n=a[0])}}return a=Je(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tg,lastRenderedState:n},a.queue=l,a=Eg.bind(null,vt,l),l.dispatch=a,l=_h(!1),f=Rh.bind(null,vt,!1,l.queue),l=Je(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=W0.bind(null,vt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function ng(t){var n=fe();return ig(n,Yt,t)}function ig(t,n,a){if(n=ph(t,n,tg)[0],t=no(Oi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=gl(n)}catch(g){throw g===Js?Fu:g}else l=n;n=fe();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(vt.flags|=2048,nr(9,{destroy:void 0},tE.bind(null,c,a),null)),[l,f,t]}function tE(t,n){t.action=n}function ag(t){var n=fe(),a=Yt;if(a!==null)return ig(n,a,t);fe(),n=n.memoizedState,a=fe();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function nr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=vt.updateQueue,n===null&&(n=to(),vt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function sg(){return fe().memoizedState}function io(t,n,a,l){var c=Je();vt.flags|=t,c.memoizedState=nr(1|n,{destroy:void 0},a,l===void 0?null:l)}function ao(t,n,a,l){var c=fe();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&ch(l,Yt.memoizedState.deps)?c.memoizedState=nr(n,f,a,l):(vt.flags|=t,c.memoizedState=nr(1|n,f,a,l))}function rg(t,n){io(8390656,8,t,n)}function Eh(t,n){ao(2048,8,t,n)}function eE(t){vt.flags|=4;var n=vt.updateQueue;if(n===null)n=to(),vt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function lg(t){var n=fe().memoizedState;return eE({ref:n,nextImpl:t}),function(){if((Bt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function ug(t,n){return ao(4,2,t,n)}function og(t,n){return ao(4,4,t,n)}function cg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function hg(t,n,a){a=a!=null?a.concat([t]):null,ao(4,4,cg.bind(null,n,t),a)}function Th(){}function fg(t,n){var a=fe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&ch(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function dg(t,n){var a=fe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&ch(n,l[1]))return l[0];if(l=t(),hs){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l}function Ah(t,n,a){return a===void 0||(Ni&1073741824)!==0&&(Rt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=mp(),vt.lanes|=t,da|=t,a)}function mg(t,n,a,l){return cn(a,n)?a:Ws.current!==null?(t=Ah(t,a,l),cn(t,n)||(Te=!0),t):(Ni&42)===0||(Ni&1073741824)!==0&&(Rt&261930)===0?(Te=!0,t.memoizedState=a):(t=mp(),vt.lanes|=t,da|=t,n)}function gg(t,n,a,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Rh(t,!1,n,a);try{var w=c(),B=G.S;if(B!==null&&B(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var H=Z0(w,l);pl(t,n,H,pn(t))}else pl(t,n,l,pn(t))}catch(F){pl(t,n,{then:function(){},status:"rejected",reason:F},pn())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function nE(){}function Sh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=pg(t).queue;gg(t,c,n,ot,a===null?nE:function(){return yg(t),a(l)})}function pg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:ot},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function yg(t){var n=pg(t);n.next===null&&(n=t.alternate.memoizedState),pl(t,n.next.queue,{},pn())}function bh(){return qe(Ml)}function _g(){return fe().memoizedState}function vg(){return fe().memoizedState}function iE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=pn();t=la(a);var l=ua(n,t,a);l!==null&&(sn(l,n,a),hl(l,n,a)),n={cache:Wc()},t.payload=n;return}n=n.return}}function aE(t,n,a){var l=pn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},so(t)?Tg(n,a):(a=Hc(t,n,a,l),a!==null&&(sn(a,t,l),Ag(a,n,l)))}function Eg(t,n,a){var l=pn();pl(t,n,a,l)}function pl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(so(t))Tg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,cn(E,g))return qu(t,n,c,0),Zt===null&&Bu(),!1}catch{}finally{}if(a=Hc(t,n,c,l),a!==null)return sn(a,t,l),Ag(a,n,l),!0}return!1}function Rh(t,n,a,l){if(l={lane:2,revertLane:af(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},so(t)){if(n)throw Error(s(479))}else n=Hc(t,a,l,2),n!==null&&sn(n,t,2)}function so(t){var n=t.alternate;return t===vt||n!==null&&n===vt}function Tg(t,n){tr=$u=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Ag(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Br(t,a)}}var yl={readContext:qe,use:eo,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};yl.useEffectEvent=le;var Sg={readContext:qe,use:eo,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:rg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,io(4194308,4,cg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return io(4194308,4,t,n)},useInsertionEffect:function(t,n){io(4,2,t,n)},useMemo:function(t,n){var a=Je();n=n===void 0?null:n;var l=t();if(hs){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Je();if(a!==void 0){var c=a(n);if(hs){_n(!0);try{a(n)}finally{_n(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=aE.bind(null,vt,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=_h(t);var n=t.queue,a=Eg.bind(null,vt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Th,useDeferredValue:function(t,n){var a=Je();return Ah(a,t,n)},useTransition:function(){var t=_h(!1);return t=gg.bind(null,vt,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=vt,c=Je();if(Vt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Zt===null)throw Error(s(349));(Rt&127)!==0||Gm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,rg(Fm.bind(null,l,f,t),[t]),l.flags|=2048,nr(9,{destroy:void 0},Qm.bind(null,l,f,a,n),null),a},useId:function(){var t=Je(),n=Zt.identifierPrefix;if(Vt){var a=hi,l=ci;a=(l&~(1<<32-oe(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Wu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=J0++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:bh,useFormState:eg,useActionState:eg,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Rh.bind(null,vt,!0,a),a.dispatch=n,[t,n]},useMemoCache:gh,useCacheRefresh:function(){return Je().memoizedState=iE.bind(null,vt)},useEffectEvent:function(t){var n=Je(),a={impl:t};return n.memoizedState=a,function(){if((Bt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},wh={readContext:qe,use:eo,useCallback:fg,useContext:qe,useEffect:Eh,useImperativeHandle:hg,useInsertionEffect:ug,useLayoutEffect:og,useMemo:dg,useReducer:no,useRef:sg,useState:function(){return no(Oi)},useDebugValue:Th,useDeferredValue:function(t,n){var a=fe();return mg(a,Yt.memoizedState,t,n)},useTransition:function(){var t=no(Oi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:km,useId:_g,useHostTransitionStatus:bh,useFormState:ng,useActionState:ng,useOptimistic:function(t,n){var a=fe();return Km(a,Yt,t,n)},useMemoCache:gh,useCacheRefresh:vg};wh.useEffectEvent=lg;var bg={readContext:qe,use:eo,useCallback:fg,useContext:qe,useEffect:Eh,useImperativeHandle:hg,useInsertionEffect:ug,useLayoutEffect:og,useMemo:dg,useReducer:yh,useRef:sg,useState:function(){return yh(Oi)},useDebugValue:Th,useDeferredValue:function(t,n){var a=fe();return Yt===null?Ah(a,t,n):mg(a,Yt.memoizedState,t,n)},useTransition:function(){var t=yh(Oi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:km,useId:_g,useHostTransitionStatus:bh,useFormState:ag,useActionState:ag,useOptimistic:function(t,n){var a=fe();return Yt!==null?Km(a,Yt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:gh,useCacheRefresh:vg};bg.useEffectEvent=lg;function Ch(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:b({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Dh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=pn(),c=la(l);c.payload=n,a!=null&&(c.callback=a),n=ua(t,c,l),n!==null&&(sn(n,t,l),hl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=pn(),c=la(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ua(t,c,l),n!==null&&(sn(n,t,l),hl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=pn(),l=la(a);l.tag=2,n!=null&&(l.callback=n),n=ua(t,l,a),n!==null&&(sn(n,t,a),hl(n,t,a))}};function Rg(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!il(a,l)||!il(c,f):!0}function wg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Dh.enqueueReplaceState(n,n.state,null)}function fs(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=b({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Cg(t){Lu(t)}function Dg(t){console.error(t)}function Vg(t){Lu(t)}function ro(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ig(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Vh(t,n,a){return a=la(a),a.tag=3,a.payload={element:null},a.callback=function(){ro(t,n)},a}function Ng(t){return t=la(t),t.tag=3,t}function Og(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Ig(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Ig(n,a,l),typeof c!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function sE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Xs(n,a,c,!0),a=fn.current,a!==null){switch(a.tag){case 31:case 13:return Dn===null?vo():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Yu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),tf(t,l,c)),!1;case 22:return a.flags|=65536,l===Yu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),tf(t,l,c)),!1}throw Error(s(435,a.tag))}return tf(t,l,c),vo(),!1}if(Vt)return n=fn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Xc&&(t=Error(s(422),{cause:l}),rl(bn(t,a)))):(l!==Xc&&(n=Error(s(423),{cause:l}),rl(bn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=bn(l,a),c=Vh(t.stateNode,l,c),sh(t,c),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:l});if(f=bn(f,a),Rl===null?Rl=[f]:Rl.push(f),ue!==4&&(ue=2),n===null)return!0;l=bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Vh(a.stateNode,l,t),sh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ma===null||!ma.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Ng(c),Og(c,t,a,l),sh(a,c),!1}a=a.return}while(a!==null);return!1}var Ih=Error(s(461)),Te=!1;function Pe(t,n,a,l){n.child=t===null?Um(n,null,a,l):cs(n,t.child,a,l)}function Mg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return rs(n),l=hh(t,n,a,g,f,c),E=fh(),t!==null&&!Te?(dh(t,n,c),Mi(t,n,c)):(Vt&&E&&Fc(n),n.flags|=1,Pe(t,n,l,c),n.child)}function xg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!kc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,zg(t,n,f,l,c)):(t=ju(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Bh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(g,l)&&t.ref===n.ref)return Mi(t,n,c)}return n.flags|=1,t=Ci(f,l),t.ref=n.ref,t.return=n,n.child=t}function zg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(il(f,l)&&t.ref===n.ref)if(Te=!1,n.pendingProps=l=f,Bh(t,c))(t.flags&131072)!==0&&(Te=!0);else return n.lanes=t.lanes,Mi(t,n,c)}return Nh(t,n,a,l,c)}function Ug(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Lg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qu(n,f!==null?f.cachePool:null),f!==null?qm(n,f):lh(),Pm(n);else return l=n.lanes=536870912,Lg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Qu(n,f.cachePool),qm(n,f),ca(),n.memoizedState=null):(t!==null&&Qu(n,null),lh(),ca());return Pe(t,n,c,a),n.child}function _l(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Lg(t,n,a,l,c){var f=eh();return f=f===null?null:{parent:ve._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Qu(n,null),lh(),Pm(n),t!==null&&Xs(t,n,l,!0),n.childLanes=c,null}function lo(t,n){return n=oo({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Bg(t,n,a){return cs(n,t.child,null,a),t=lo(n,n.pendingProps),t.flags|=2,dn(n),n.memoizedState=null,t}function rE(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Vt){if(l.mode==="hidden")return t=lo(n,l),n.lanes=536870912,_l(null,t);if(oh(n),(t=Wt)?(t=Zp(t,Cn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:na!==null?{id:ci,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},a=Tm(t),a.return=n,n.child=a,Be=n,Wt=null)):t=null,t===null)throw aa(n);return n.lanes=536870912,null}return lo(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(oh(n),c)if(n.flags&256)n.flags&=-257,n=Bg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Te||Xs(t,n,a,!1),c=(a&t.childLanes)!==0,Te||c){if(l=Zt,l!==null&&(g=qr(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,ns(t,g),sn(l,t,g),Ih;vo(),n=Bg(t,n,a)}else t=f.treeContext,Wt=Vn(g.nextSibling),Be=n,Vt=!0,ia=null,Cn=!1,t!==null&&bm(n,t),n=lo(n,l),n.flags|=4096;return n}return t=Ci(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function uo(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Nh(t,n,a,l,c){return rs(n),a=hh(t,n,a,l,void 0,c),l=fh(),t!==null&&!Te?(dh(t,n,c),Mi(t,n,c)):(Vt&&l&&Fc(n),n.flags|=1,Pe(t,n,a,c),n.child)}function qg(t,n,a,l,c,f){return rs(n),n.updateQueue=null,a=Hm(n,l,a,c),jm(t),l=fh(),t!==null&&!Te?(dh(t,n,f),Mi(t,n,f)):(Vt&&l&&Fc(n),n.flags|=1,Pe(t,n,a,f),n.child)}function Pg(t,n,a,l,c){if(rs(n),n.stateNode===null){var f=Gs,g=a.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Dh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ih(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?qe(g):Gs,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Ch(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Dh.enqueueReplaceState(f,f.state,null),dl(n,l,f,c),fl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=fs(a,E);f.props=w;var B=f.context,H=a.contextType;g=Gs,typeof H=="object"&&H!==null&&(g=qe(H));var F=a.getDerivedStateFromProps;H=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&wg(n,f,l,g),ra=!1;var q=n.memoizedState;f.state=q,dl(n,l,f,c),fl(),B=n.memoizedState,E||q!==B||ra?(typeof F=="function"&&(Ch(n,a,F,l),B=n.memoizedState),(w=ra||Rg(n,a,w,l,q,B,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=g,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ah(t,n),g=n.memoizedProps,H=fs(a,g),f.props=H,F=n.pendingProps,q=f.context,B=a.contextType,w=Gs,typeof B=="object"&&B!==null&&(w=qe(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==F||q!==w)&&wg(n,f,l,w),ra=!1,q=n.memoizedState,f.state=q,dl(n,l,f,c),fl();var j=n.memoizedState;g!==F||q!==j||ra||t!==null&&t.dependencies!==null&&ku(t.dependencies)?(typeof E=="function"&&(Ch(n,a,E,l),j=n.memoizedState),(H=ra||Rg(n,a,H,l,q,j,w)||t!==null&&t.dependencies!==null&&ku(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,j,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,j,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=w,l=H):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,uo(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=cs(n,t.child,null,c),n.child=cs(n,null,a,c)):Pe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Mi(t,n,c),t}function jg(t,n,a,l){return as(),n.flags|=256,Pe(t,n,a,l),n.child}var Oh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mh(t){return{baseLanes:t,cachePool:Im()}}function xh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=gn),t}function Hg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(he.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Vt){if(c?oa(n):ca(),(t=Wt)?(t=Zp(t,Cn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:na!==null?{id:ci,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},a=Tm(t),a.return=n,n.child=a,Be=n,Wt=null)):t=null,t===null)throw aa(n);return yf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ca(),c=n.mode,E=oo({mode:"hidden",children:E},c),l=is(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Mh(a),l.childLanes=xh(t,g,a),n.memoizedState=Oh,_l(null,l)):(oa(n),zh(n,E))}var w=t.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(oa(n),n.flags&=-257,n=Uh(t,n,a)):n.memoizedState!==null?(ca(),n.child=t.child,n.flags|=128,n=null):(ca(),E=l.fallback,c=n.mode,l=oo({mode:"visible",children:l.children},c),E=is(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,cs(n,t.child,null,a),l=n.child,l.memoizedState=Mh(a),l.childLanes=xh(t,g,a),n.memoizedState=Oh,n=_l(null,l));else if(oa(n),yf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(s(419)),l.stack="",l.digest=g,rl({value:l,source:null,stack:null}),n=Uh(t,n,a)}else if(Te||Xs(t,n,a,!1),g=(a&t.childLanes)!==0,Te||g){if(g=Zt,g!==null&&(l=qr(g,a),l!==0&&l!==w.retryLane))throw w.retryLane=l,ns(t,l),sn(g,t,l),Ih;pf(E)||vo(),n=Uh(t,n,a)}else pf(E)?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,Wt=Vn(E.nextSibling),Be=n,Vt=!0,ia=null,Cn=!1,t!==null&&bm(n,t),n=zh(n,l.children),n.flags|=4096);return n}return c?(ca(),E=l.fallback,c=n.mode,w=t.child,B=w.sibling,l=Ci(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,B!==null?E=Ci(B,E):(E=is(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,_l(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Mh(a):(c=E.cachePool,c!==null?(w=ve._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=Im(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=xh(t,g,a),n.memoizedState=Oh,_l(t.child,l)):(oa(n),a=t.child,t=a.sibling,a=Ci(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function zh(t,n){return n=oo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function oo(t,n){return t=hn(22,t,null,n),t.lanes=0,t}function Uh(t,n,a){return cs(n,t.child,null,a),t=zh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function kg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Jc(t.return,n,a)}function Lh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function Gg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=he.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(he,g),Pe(t,n,l,a),l=Vt?sl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kg(t,a,n);else if(t.tag===19)kg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Ju(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Lh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Ju(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Lh(n,!0,a,null,f,l);break;case"together":Lh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Mi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),da|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Xs(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Ci(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ci(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Bh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ku(t)))}function lE(t,n,a){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),sa(n,ve,t.memoizedState.cache),as();break;case 27:case 5:Ba(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:sa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,oh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(oa(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Hg(t,n,a):(oa(n),t=Mi(t,n,a),t!==null?t.sibling:null);oa(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Xs(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Gg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(he,he.current),l)break;return null;case 22:return n.lanes=0,Ug(t,n,a,n.pendingProps);case 24:sa(n,ve,t.memoizedState.cache)}return Mi(t,n,a)}function Qg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Te=!0;else{if(!Bh(t,a)&&(n.flags&128)===0)return Te=!1,lE(t,n,a);Te=(t.flags&131072)!==0}else Te=!1,Vt&&(n.flags&1048576)!==0&&Sm(n,sl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=us(n.elementType),n.type=t,typeof t=="function")kc(t)?(l=fs(t,l),n.tag=1,n=Pg(null,n,t,l,a)):(n.tag=0,n=Nh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===Qt){n.tag=11,n=Mg(null,n,t,l,a);break t}else if(c===D){n.tag=14,n=xg(null,n,t,l,a);break t}}throw n=ne(t)||t,Error(s(306,n,""))}}return n;case 0:return Nh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=fs(l,n.pendingProps),Pg(t,n,l,c,a);case 3:t:{if(De(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,ah(t,n),dl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,sa(n,ve,l),l!==f.cache&&$c(n,[ve],a,!0),fl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=jg(t,n,l,a);break t}else if(l!==c){c=bn(Error(s(424)),n),rl(c),n=jg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Wt=Vn(t.firstChild),Be=n,Vt=!0,ia=null,Cn=!0,a=Um(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(as(),l===c){n=Mi(t,n,a);break t}Pe(t,n,l,a)}n=n.child}return n;case 26:return uo(t,n),t===null?(a=ny(n.type,null,n.pendingProps,null))?n.memoizedState=a:Vt||(a=n.type,t=n.pendingProps,l=wo(Et.current).createElement(a),l[pe]=n,l[Oe]=t,je(l,a,t),ye(l),n.stateNode=l):n.memoizedState=ny(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ba(n),t===null&&Vt&&(l=n.stateNode=Wp(n.type,n.pendingProps,Et.current),Be=n,Cn=!0,c=Wt,_a(n.type)?(_f=c,Wt=Vn(l.firstChild)):Wt=c),Pe(t,n,n.pendingProps.children,a),uo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Vt&&((c=l=Wt)&&(l=LE(l,n.type,n.pendingProps,Cn),l!==null?(n.stateNode=l,Be=n,Wt=Vn(l.firstChild),Cn=!1,c=!0):c=!1),c||aa(n)),Ba(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,df(c,f)?l=null:g!==null&&df(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=hh(t,n,$0,null,null,a),Ml._currentValue=c),uo(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&Vt&&((t=a=Wt)&&(a=BE(a,n.pendingProps,Cn),a!==null?(n.stateNode=a,Be=n,Wt=null,t=!0):t=!1),t||aa(n)),null;case 13:return Hg(t,n,a);case 4:return De(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=cs(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return Mg(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,sa(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,rs(n),c=qe(c),l=l(c),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return xg(t,n,n.type,n.pendingProps,a);case 15:return zg(t,n,n.type,n.pendingProps,a);case 19:return Gg(t,n,a);case 31:return rE(t,n,a);case 22:return Ug(t,n,a,n.pendingProps);case 24:return rs(n),l=qe(ve),t===null?(c=eh(),c===null&&(c=Zt,f=Wc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},ih(n),sa(n,ve,c)):((t.lanes&a)!==0&&(ah(t,n),dl(n,null,null,a),fl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),sa(n,ve,l)):(l=f.cache,sa(n,ve,l),l!==c.cache&&$c(n,[ve],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function xi(t){t.flags|=4}function qh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(_p())t.flags|=8192;else throw os=Yu,nh}else t.flags&=-16777217}function Fg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ly(n))if(_p())t.flags|=8192;else throw os=Yu,nh}function co(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?pu():536870912,t.lanes|=n,rr|=n)}function vl(t,n){if(!Vt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function uE(t,n,a){var l=n.pendingProps;switch(Yc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ii(ve),ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ys(n)?xi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kc())),te(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(xi(n),f!==null?(te(n),Fg(n,f)):(te(n),qh(n,c,null,l,a))):f?f!==t.memoizedState?(xi(n),te(n),Fg(n,f)):(te(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&xi(n),te(n),qh(n,c,t,l,a)),null;case 27:if(Rs(n),a=Et.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}t=at.current,Ys(n)?Rm(n):(t=Wp(c,l,a),n.stateNode=t,xi(n))}return te(n),null;case 5:if(Rs(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}if(f=at.current,Ys(n))Rm(n);else{var g=wo(Et.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[pe]=n,f[Oe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(je(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&xi(n)}}return te(n),qh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Et.current,Ys(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Be,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[pe]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Hp(t.nodeValue,a)),t||aa(n,!0)}else t=wo(t).createTextNode(l),t[pe]=n,n.stateNode=t}return te(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ys(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[pe]=n}else as(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),t=!1}else a=Kc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(dn(n),n):(dn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ys(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[pe]=n}else as(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),c=!1}else c=Kc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(dn(n),n):(dn(n),null)}return dn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),co(n,n.updateQueue),te(n),null);case 4:return ie(),t===null&&uf(n.stateNode.containerInfo),te(n),null;case 10:return Ii(n.type),te(n),null;case 19:if(Y(he),l=n.memoizedState,l===null)return te(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)vl(l,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Ju(t),f!==null){for(n.flags|=128,vl(l,!1),t=f.updateQueue,n.updateQueue=t,co(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Em(a,t),a=a.sibling;return et(he,he.current&1|2),Vt&&Di(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ke()>po&&(n.flags|=128,c=!0,vl(l,!1),n.lanes=4194304)}else{if(!c)if(t=Ju(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,co(n,t),vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Vt)return te(n),null}else 2*Ke()-l.renderingStartTime>po&&a!==536870912&&(n.flags|=128,c=!0,vl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ke(),t.sibling=null,a=he.current,et(he,c?a&1|2:a&1),Vt&&Di(n,l.treeForkCount),t):(te(n),null);case 22:case 23:return dn(n),uh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),a=n.updateQueue,a!==null&&co(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Y(ls),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ii(ve),te(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function oE(t,n){switch(Yc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ii(ve),ie(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Rs(n),null;case 31:if(n.memoizedState!==null){if(dn(n),n.alternate===null)throw Error(s(340));as()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(dn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));as()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(he),null;case 4:return ie(),null;case 10:return Ii(n.type),null;case 22:case 23:return dn(n),uh(),t!==null&&Y(ls),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ii(ve),null;case 25:return null;default:return null}}function Yg(t,n){switch(Yc(n),n.tag){case 3:Ii(ve),ie();break;case 26:case 27:case 5:Rs(n);break;case 4:ie();break;case 31:n.memoizedState!==null&&dn(n);break;case 13:dn(n);break;case 19:Y(he);break;case 10:Ii(n.type);break;case 22:case 23:dn(n),uh(),t!==null&&Y(ls);break;case 24:Ii(ve)}}function El(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){kt(n,n.return,E)}}function ha(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var w=a,B=E;try{B()}catch(H){kt(c,w,H)}}}l=l.next}while(l!==f)}}catch(H){kt(n,n.return,H)}}function Xg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Bm(n,a)}catch(l){kt(t,t.return,l)}}}function Kg(t,n,a){a.props=fs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){kt(t,n,l)}}function Tl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){kt(t,n,c)}}function fi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){kt(t,n,c)}else a.current=null}function Zg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){kt(t,t.return,c)}}function Ph(t,n,a){try{var l=t.stateNode;NE(l,t.type,a,n),l[Oe]=n}catch(c){kt(t,t.return,c)}}function Jg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&_a(t.type)||t.tag===4}function jh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Jg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&_a(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Un));else if(l!==4&&(l===27&&_a(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Hh(t,n,a),t=t.sibling;t!==null;)Hh(t,n,a),t=t.sibling}function ho(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&_a(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ho(t,n,a),t=t.sibling;t!==null;)ho(t,n,a),t=t.sibling}function $g(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);je(n,l,a),n[pe]=t,n[Oe]=a}catch(f){kt(t,t.return,f)}}var zi=!1,Ae=!1,kh=!1,Wg=typeof WeakSet=="function"?WeakSet:Set,xe=null;function cE(t,n){if(t=t.containerInfo,hf=Mo,t=hm(t),Uc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,w=-1,B=0,H=0,F=t,q=null;e:for(;;){for(var j;F!==a||c!==0&&F.nodeType!==3||(E=g+c),F!==f||l!==0&&F.nodeType!==3||(w=g+l),F.nodeType===3&&(g+=F.nodeValue.length),(j=F.firstChild)!==null;)q=F,F=j;for(;;){if(F===t)break e;if(q===a&&++B===c&&(E=g),q===f&&++H===l&&(w=g),(j=F.nextSibling)!==null)break;F=q,q=F.parentNode}F=j}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(ff={focusedElem:t,selectionRange:a},Mo=!1,xe=n;xe!==null;)if(n=xe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,xe=t;else for(;xe!==null;){switch(n=xe,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var st=fs(a.type,c);t=l.getSnapshotBeforeUpdate(st,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ct){kt(a,a.return,ct)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)gf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,xe=t;break}xe=n.return}}function tp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Li(t,a),l&4&&El(5,a);break;case 1:if(Li(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){kt(a,a.return,g)}else{var c=fs(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){kt(a,a.return,g)}}l&64&&Xg(a),l&512&&Tl(a,a.return);break;case 3:if(Li(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Bm(t,n)}catch(g){kt(a,a.return,g)}}break;case 27:n===null&&l&4&&$g(a);case 26:case 5:Li(t,a),n===null&&l&4&&Zg(a),l&512&&Tl(a,a.return);break;case 12:Li(t,a);break;case 31:Li(t,a),l&4&&ip(t,a);break;case 13:Li(t,a),l&4&&ap(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=vE.bind(null,a),qE(t,a))));break;case 22:if(l=a.memoizedState!==null||zi,!l){n=n!==null&&n.memoizedState!==null||Ae,c=zi;var f=Ae;zi=l,(Ae=n)&&!f?Bi(t,a,(a.subtreeFlags&8772)!==0):Li(t,a),zi=c,Ae=f}break;case 30:break;default:Li(t,a)}}function ep(t){var n=t.alternate;n!==null&&(t.alternate=null,ep(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Is(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var se=null,tn=!1;function Ui(t,n,a){for(a=a.child;a!==null;)np(t,n,a),a=a.sibling}function np(t,n,a){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(On,a)}catch{}switch(a.tag){case 26:Ae||fi(a,n),Ui(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ae||fi(a,n);var l=se,c=tn;_a(a.type)&&(se=a.stateNode,tn=!1),Ui(t,n,a),Il(a.stateNode),se=l,tn=c;break;case 5:Ae||fi(a,n);case 6:if(l=se,c=tn,se=null,Ui(t,n,a),se=l,tn=c,se!==null)if(tn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(f){kt(a,n,f)}else try{se.removeChild(a.stateNode)}catch(f){kt(a,n,f)}break;case 18:se!==null&&(tn?(t=se,Xp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),mr(t)):Xp(se,a.stateNode));break;case 4:l=se,c=tn,se=a.stateNode.containerInfo,tn=!0,Ui(t,n,a),se=l,tn=c;break;case 0:case 11:case 14:case 15:ha(2,a,n),Ae||ha(4,a,n),Ui(t,n,a);break;case 1:Ae||(fi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Kg(a,n,l)),Ui(t,n,a);break;case 21:Ui(t,n,a);break;case 22:Ae=(l=Ae)||a.memoizedState!==null,Ui(t,n,a),Ae=l;break;default:Ui(t,n,a)}}function ip(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{mr(t)}catch(a){kt(n,n.return,a)}}}function ap(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{mr(t)}catch(a){kt(n,n.return,a)}}function hE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Wg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Wg),n;default:throw Error(s(435,t.tag))}}function fo(t,n){var a=hE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=EE.bind(null,t,l);l.then(c,c)}})}function en(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(_a(E.type)){se=E.stateNode,tn=!1;break t}break;case 5:se=E.stateNode,tn=!1;break t;case 3:case 4:se=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(se===null)throw Error(s(160));np(f,g,c),se=null,tn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)sp(n,t),n=n.sibling}var Hn=null;function sp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:en(n,t),nn(t),l&4&&(ha(3,t,t.return),El(3,t),ha(5,t,t.return));break;case 1:en(n,t),nn(t),l&512&&(Ae||a===null||fi(a,a.return)),l&64&&zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Hn;if(en(n,t),nn(t),l&512&&(Ae||a===null||fi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[$n]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),je(f,l,a),f[pe]=t,ye(f),l=f;break t;case"link":var g=sy("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),je(f,l,a),c.head.appendChild(f);break;case"meta":if(g=sy("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),je(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[pe]=t,ye(f),l=f}t.stateNode=l}else ry(c,t.type,t.stateNode);else t.stateNode=ay(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?ry(c,t.type,t.stateNode):ay(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ph(t,t.memoizedProps,a.memoizedProps)}break;case 27:en(n,t),nn(t),l&512&&(Ae||a===null||fi(a,a.return)),a!==null&&l&4&&Ph(t,t.memoizedProps,a.memoizedProps);break;case 5:if(en(n,t),nn(t),l&512&&(Ae||a===null||fi(a,a.return)),t.flags&32){c=t.stateNode;try{We(c,"")}catch(st){kt(t,t.return,st)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Ph(t,c,a!==null?a.memoizedProps:c)),l&1024&&(kh=!0);break;case 6:if(en(n,t),nn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(st){kt(t,t.return,st)}}break;case 3:if(Vo=null,c=Hn,Hn=Co(n.containerInfo),en(n,t),Hn=c,nn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{mr(n.containerInfo)}catch(st){kt(t,t.return,st)}kh&&(kh=!1,rp(t));break;case 4:l=Hn,Hn=Co(t.stateNode.containerInfo),en(n,t),nn(t),Hn=l;break;case 12:en(n,t),nn(t);break;case 31:en(n,t),nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fo(t,l)));break;case 13:en(n,t),nn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(go=Ke()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fo(t,l)));break;case 22:c=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,B=zi,H=Ae;if(zi=B||c,Ae=H||w,en(n,t),Ae=H,zi=B,nn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||w||zi||Ae||ds(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(f=w.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var F=w.memoizedProps.style,q=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(st){kt(w,w.return,st)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(st){kt(w,w.return,st)}}}else if(n.tag===18){if(a===null){w=n;try{var j=w.stateNode;c?Kp(j,!0):Kp(w.stateNode,!1)}catch(st){kt(w,w.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fo(t,a))));break;case 19:en(n,t),nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fo(t,l)));break;case 30:break;case 21:break;default:en(n,t),nn(t)}}function nn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Jg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=jh(t);ho(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(We(g,""),a.flags&=-33);var E=jh(t);ho(t,E,g);break;case 3:case 4:var w=a.stateNode.containerInfo,B=jh(t);Hh(t,B,w);break;default:throw Error(s(161))}}catch(H){kt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function rp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;rp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Li(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)tp(t,n.alternate,n),n=n.sibling}function ds(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ha(4,n,n.return),ds(n);break;case 1:fi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Kg(n,n.return,a),ds(n);break;case 27:Il(n.stateNode);case 26:case 5:fi(n,n.return),ds(n);break;case 22:n.memoizedState===null&&ds(n);break;case 30:ds(n);break;default:ds(n)}t=t.sibling}}function Bi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Bi(c,f,a),El(4,f);break;case 1:if(Bi(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){kt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Lm(w[c],E)}catch(B){kt(l,l.return,B)}}a&&g&64&&Xg(f),Tl(f,f.return);break;case 27:$g(f);case 26:case 5:Bi(c,f,a),a&&l===null&&g&4&&Zg(f),Tl(f,f.return);break;case 12:Bi(c,f,a);break;case 31:Bi(c,f,a),a&&g&4&&ip(c,f);break;case 13:Bi(c,f,a),a&&g&4&&ap(c,f);break;case 22:f.memoizedState===null&&Bi(c,f,a),Tl(f,f.return);break;case 30:break;default:Bi(c,f,a)}n=n.sibling}}function Gh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ll(a))}function Qh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t))}function kn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)lp(t,n,a,l),n=n.sibling}function lp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:kn(t,n,a,l),c&2048&&El(9,n);break;case 1:kn(t,n,a,l);break;case 3:kn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t)));break;case 12:if(c&2048){kn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){kt(n,n.return,w)}}else kn(t,n,a,l);break;case 31:kn(t,n,a,l);break;case 13:kn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?kn(t,n,a,l):Al(t,n):f._visibility&2?kn(t,n,a,l):(f._visibility|=2,ir(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Gh(g,n);break;case 24:kn(t,n,a,l),c&2048&&Qh(n.alternate,n);break;default:kn(t,n,a,l)}}function ir(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,w=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:ir(f,g,E,w,c),El(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?ir(f,g,E,w,c):Al(f,g):(H._visibility|=2,ir(f,g,E,w,c)),c&&B&2048&&Gh(g.alternate,g);break;case 24:ir(f,g,E,w,c),c&&B&2048&&Qh(g.alternate,g);break;default:ir(f,g,E,w,c)}n=n.sibling}}function Al(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Al(a,l),c&2048&&Gh(l.alternate,l);break;case 24:Al(a,l),c&2048&&Qh(l.alternate,l);break;default:Al(a,l)}n=n.sibling}}var Sl=8192;function ar(t,n,a){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)up(t,n,a),t=t.sibling}function up(t,n,a){switch(t.tag){case 26:ar(t,n,a),t.flags&Sl&&t.memoizedState!==null&&JE(a,Hn,t.memoizedState,t.memoizedProps);break;case 5:ar(t,n,a);break;case 3:case 4:var l=Hn;Hn=Co(t.stateNode.containerInfo),ar(t,n,a),Hn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Sl,Sl=16777216,ar(t,n,a),Sl=l):ar(t,n,a));break;default:ar(t,n,a)}}function op(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function bl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];xe=l,hp(l,t)}op(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cp(t),t=t.sibling}function cp(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&ha(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,mo(t)):bl(t);break;default:bl(t)}}function mo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];xe=l,hp(l,t)}op(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ha(8,n,n.return),mo(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,mo(n));break;default:mo(n)}t=t.sibling}}function hp(t,n){for(;xe!==null;){var a=xe;switch(a.tag){case 0:case 11:case 15:ha(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xe=l;else t:for(a=t;xe!==null;){l=xe;var c=l.sibling,f=l.return;if(ep(l),l===a){xe=null;break t}if(c!==null){c.return=f,xe=c;break t}xe=f}}}var fE={getCacheForType:function(t){var n=qe(ve),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(ve).controller.signal}},dE=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Zt=null,St=null,Rt=0,Ht=0,mn=null,fa=!1,sr=!1,Fh=!1,qi=0,ue=0,da=0,ms=0,Yh=0,gn=0,rr=0,Rl=null,an=null,Xh=!1,go=0,fp=0,po=1/0,yo=null,ma=null,Ie=0,ga=null,lr=null,Pi=0,Kh=0,Zh=null,dp=null,wl=0,Jh=null;function pn(){return(Bt&2)!==0&&Rt!==0?Rt&-Rt:G.T!==null?af():yu()}function mp(){if(gn===0)if((Rt&536870912)===0||Vt){var t=ja;ja<<=1,(ja&3932160)===0&&(ja=262144),gn=t}else gn=536870912;return t=fn.current,t!==null&&(t.flags|=32),gn}function sn(t,n,a){(t===Zt&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(ur(t,0),pa(t,Rt,gn,!1)),Ha(t,a),((Bt&2)===0||t!==Zt)&&(t===Zt&&((Bt&2)===0&&(ms|=a),ue===4&&pa(t,Rt,gn,!1)),di(t))}function gp(t,n,a){if((Bt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Mn(t,n),c=l?pE(t,n):Wh(t,n,!0),f=l;do{if(c===0){sr&&!l&&pa(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!mE(a)){c=Wh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Rl;var w=E.current.memoizedState.isDehydrated;if(w&&(ur(E,g).flags|=256),g=Wh(E,g,!1),g!==2){if(Fh&&!w){E.errorRecoveryDisabledLanes|=f,ms|=f,c=4;break t}f=an,an=c,f!==null&&(an===null?an=f:an.push.apply(an,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){ur(t,0),pa(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:pa(l,n,gn,!fa);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=go+300-Ke(),10<c)){if(pa(l,n,gn,!fa),Kn(l,0,!0)!==0)break t;Pi=n,l.timeoutHandle=Fp(pp.bind(null,l,a,an,yo,Xh,n,gn,ms,rr,fa,f,"Throttled",-0,0),c);break t}pp(l,a,an,yo,Xh,n,gn,ms,rr,fa,f,null,-0,0)}}break}while(!0);di(t)}function pp(t,n,a,l,c,f,g,E,w,B,H,F,q,j){if(t.timeoutHandle=-1,F=n.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},up(n,f,F);var st=(f&62914560)===f?go-Ke():(f&4194048)===f?fp-Ke():0;if(st=$E(F,st),st!==null){Pi=f,t.cancelPendingCommit=st(bp.bind(null,t,n,f,a,l,c,g,E,w,H,F,null,q,j)),pa(t,f,g,!B);return}}bp(t,n,f,a,l,c,g,E,w)}function mE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!cn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function pa(t,n,a,l){n&=~Yh,n&=~ms,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-oe(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&ka(t,a,n)}function _o(){return(Bt&6)===0?(Cl(0),!1):!0}function $h(){if(St!==null){if(Ht===0)var t=St.return;else t=St,Vi=ss=null,mh(t),$s=null,ol=0,t=St;for(;t!==null;)Yg(t.alternate,t),t=t.return;St=null}}function ur(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,xE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Pi=0,$h(),Zt=t,St=a=Ci(t.current,null),Rt=n,Ht=0,mn=null,fa=!1,sr=Mn(t,n),Fh=!1,rr=gn=Yh=ms=da=ue=0,an=Rl=null,Xh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-oe(l),f=1<<c;n|=t[c],l&=~f}return qi=n,Bu(),a}function yp(t,n){vt=null,G.H=yl,n===Js||n===Fu?(n=Mm(),Ht=3):n===nh?(n=Mm(),Ht=4):Ht=n===Ih?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mn=n,St===null&&(ue=1,ro(t,bn(n,t.current)))}function _p(){var t=fn.current;return t===null?!0:(Rt&4194048)===Rt?Dn===null:(Rt&62914560)===Rt||(Rt&536870912)!==0?t===Dn:!1}function vp(){var t=G.H;return G.H=yl,t===null?yl:t}function Ep(){var t=G.A;return G.A=fE,t}function vo(){ue=4,fa||(Rt&4194048)!==Rt&&fn.current!==null||(sr=!0),(da&134217727)===0&&(ms&134217727)===0||Zt===null||pa(Zt,Rt,gn,!1)}function Wh(t,n,a){var l=Bt;Bt|=2;var c=vp(),f=Ep();(Zt!==t||Rt!==n)&&(yo=null,ur(t,n)),n=!1;var g=ue;t:do try{if(Ht!==0&&St!==null){var E=St,w=mn;switch(Ht){case 8:$h(),g=6;break t;case 3:case 2:case 9:case 6:fn.current===null&&(n=!0);var B=Ht;if(Ht=0,mn=null,or(t,E,w,B),a&&sr){g=0;break t}break;default:B=Ht,Ht=0,mn=null,or(t,E,w,B)}}gE(),g=ue;break}catch(H){yp(t,H)}while(!0);return n&&t.shellSuspendCounter++,Vi=ss=null,Bt=l,G.H=c,G.A=f,St===null&&(Zt=null,Rt=0,Bu()),g}function gE(){for(;St!==null;)Tp(St)}function pE(t,n){var a=Bt;Bt|=2;var l=vp(),c=Ep();Zt!==t||Rt!==n?(yo=null,po=Ke()+500,ur(t,n)):sr=Mn(t,n);t:do try{if(Ht!==0&&St!==null){n=St;var f=mn;e:switch(Ht){case 1:Ht=0,mn=null,or(t,n,f,1);break;case 2:case 9:if(Nm(f)){Ht=0,mn=null,Ap(n);break}n=function(){Ht!==2&&Ht!==9||Zt!==t||(Ht=7),di(t)},f.then(n,n);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:Nm(f)?(Ht=0,mn=null,Ap(n)):(Ht=0,mn=null,or(t,n,f,7));break;case 5:var g=null;switch(St.tag){case 26:g=St.memoizedState;case 5:case 27:var E=St;if(g?ly(g):E.stateNode.complete){Ht=0,mn=null;var w=E.sibling;if(w!==null)St=w;else{var B=E.return;B!==null?(St=B,Eo(B)):St=null}break e}}Ht=0,mn=null,or(t,n,f,5);break;case 6:Ht=0,mn=null,or(t,n,f,6);break;case 8:$h(),ue=6;break t;default:throw Error(s(462))}}yE();break}catch(H){yp(t,H)}while(!0);return Vi=ss=null,G.H=l,G.A=c,Bt=a,St!==null?0:(Zt=null,Rt=0,Bu(),ue)}function yE(){for(;St!==null&&!Vc();)Tp(St)}function Tp(t){var n=Qg(t.alternate,t,qi);t.memoizedProps=t.pendingProps,n===null?Eo(t):St=n}function Ap(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=qg(a,n,n.pendingProps,n.type,void 0,Rt);break;case 11:n=qg(a,n,n.pendingProps,n.type.render,n.ref,Rt);break;case 5:mh(n);default:Yg(a,n),n=St=Em(n,qi),n=Qg(a,n,qi)}t.memoizedProps=t.pendingProps,n===null?Eo(t):St=n}function or(t,n,a,l){Vi=ss=null,mh(n),$s=null,ol=0;var c=n.return;try{if(sE(t,c,n,a,Rt)){ue=1,ro(t,bn(a,t.current)),St=null;return}}catch(f){if(c!==null)throw St=c,f;ue=1,ro(t,bn(a,t.current)),St=null;return}n.flags&32768?(Vt||l===1?t=!0:sr||(Rt&536870912)!==0?t=!1:(fa=t=!0,(l===2||l===9||l===3||l===6)&&(l=fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sp(n,t)):Eo(n)}function Eo(t){var n=t;do{if((n.flags&32768)!==0){Sp(n,fa);return}t=n.return;var a=uE(n.alternate,n,qi);if(a!==null){St=a;return}if(n=n.sibling,n!==null){St=n;return}St=n=t}while(n!==null);ue===0&&(ue=5)}function Sp(t,n){do{var a=oE(t.alternate,t);if(a!==null){a.flags&=32767,St=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){St=t;return}St=t=a}while(t!==null);ue=6,St=null}function bp(t,n,a,l,c,f,g,E,w){t.cancelPendingCommit=null;do To();while(Ie!==0);if((Bt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=jc,Oc(t,a,f,g,E,w),t===Zt&&(St=Zt=null,Rt=0),lr=n,ga=t,Pi=a,Kh=f,Zh=c,dp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,TE(Fi,function(){return Vp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=tt.p,tt.p=2,g=Bt,Bt|=4;try{cE(t,n,a)}finally{Bt=g,tt.p=c,G.T=l}}Ie=1,Rp(),wp(),Cp()}}function Rp(){if(Ie===1){Ie=0;var t=ga,n=lr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=tt.p;tt.p=2;var c=Bt;Bt|=4;try{sp(n,t);var f=ff,g=hm(t.containerInfo),E=f.focusedElem,w=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&cm(E.ownerDocument.documentElement,E)){if(w!==null&&Uc(E)){var B=w.start,H=w.end;if(H===void 0&&(H=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(H,E.value.length);else{var F=E.ownerDocument||document,q=F&&F.defaultView||window;if(q.getSelection){var j=q.getSelection(),st=E.textContent.length,ct=Math.min(w.start,st),Kt=w.end===void 0?ct:Math.min(w.end,st);!j.extend&&ct>Kt&&(g=Kt,Kt=ct,ct=g);var x=om(E,ct),V=om(E,Kt);if(x&&V&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==V.node||j.focusOffset!==V.offset)){var L=F.createRange();L.setStart(x.node,x.offset),j.removeAllRanges(),ct>Kt?(j.addRange(L),j.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),j.addRange(L))}}}}for(F=[],j=E;j=j.parentNode;)j.nodeType===1&&F.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Q=F[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Mo=!!hf,ff=hf=null}finally{Bt=c,tt.p=l,G.T=a}}t.current=n,Ie=2}}function wp(){if(Ie===2){Ie=0;var t=ga,n=lr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=tt.p;tt.p=2;var c=Bt;Bt|=4;try{tp(t,n.alternate,n)}finally{Bt=c,tt.p=l,G.T=a}}Ie=3}}function Cp(){if(Ie===4||Ie===3){Ie=0,cu();var t=ga,n=lr,a=Pi,l=dp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ie=5:(Ie=0,lr=ga=null,Dp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ma=null),Si(a),n=n.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(On,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=tt.p,tt.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,tt.p=c}}(Pi&3)!==0&&To(),di(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===Jh?wl++:(wl=0,Jh=t):wl=0,Cl(0)}}function Dp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ll(n)))}function To(){return Rp(),wp(),Cp(),Vp()}function Vp(){if(Ie!==5)return!1;var t=ga,n=Kh;Kh=0;var a=Si(Pi),l=G.T,c=tt.p;try{tt.p=32>a?32:a,G.T=null,a=Zh,Zh=null;var f=ga,g=Pi;if(Ie=0,lr=ga=null,Pi=0,(Bt&6)!==0)throw Error(s(331));var E=Bt;if(Bt|=4,cp(f.current),lp(f,f.current,g,a),Bt=E,Cl(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(On,f)}catch{}return!0}finally{tt.p=c,G.T=l,Dp(t,n)}}function Ip(t,n,a){n=bn(a,n),n=Vh(t.stateNode,n,2),t=ua(t,n,2),t!==null&&(Ha(t,2),di(t))}function kt(t,n,a){if(t.tag===3)Ip(t,t,a);else for(;n!==null;){if(n.tag===3){Ip(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ma===null||!ma.has(l))){t=bn(a,t),a=Ng(2),l=ua(n,a,2),l!==null&&(Og(a,l,n,t),Ha(l,2),di(l));break}}n=n.return}}function tf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new dE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Fh=!0,c.add(a),t=_E.bind(null,t,n,a),n.then(t,t))}function _E(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Zt===t&&(Rt&a)===a&&(ue===4||ue===3&&(Rt&62914560)===Rt&&300>Ke()-go?(Bt&2)===0&&ur(t,0):Yh|=a,rr===Rt&&(rr=0)),di(t)}function Np(t,n){n===0&&(n=pu()),t=ns(t,n),t!==null&&(Ha(t,n),di(t))}function vE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Np(t,a)}function EE(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Np(t,a)}function TE(t,n){return Ve(t,n)}var Ao=null,cr=null,ef=!1,So=!1,nf=!1,ya=0;function di(t){t!==cr&&t.next===null&&(cr===null?Ao=cr=t:cr=cr.next=t),So=!0,ef||(ef=!0,SE())}function Cl(t,n){if(!nf&&So){nf=!0;do for(var a=!1,l=Ao;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-oe(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,zp(l,f))}else f=Rt,f=Kn(l,l===Zt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Mn(l,f)||(a=!0,zp(l,f));l=l.next}while(a);nf=!1}}function AE(){Op()}function Op(){So=ef=!1;var t=0;ya!==0&&ME()&&(t=ya);for(var n=Ke(),a=null,l=Ao;l!==null;){var c=l.next,f=Mp(l,n);f===0?(l.next=null,a===null?Ao=c:a.next=c,c===null&&(cr=a)):(a=l,(t!==0||(f&3)!==0)&&(So=!0)),l=c}Ie!==0&&Ie!==5||Cl(t),ya!==0&&(ya=0)}function Mp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-oe(f),E=1<<g,w=c[g];w===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Nc(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=Zt,a=Rt,a=Kn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Qi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Mn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Qi(l),Si(a)){case 2:case 8:a=Lr;break;case 32:a=Fi;break;case 268435456:a=hu;break;default:a=Fi}return l=xp.bind(null,t),a=Ve(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Qi(l),t.callbackPriority=2,t.callbackNode=null,2}function xp(t,n){if(Ie!==0&&Ie!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(To()&&t.callbackNode!==a)return null;var l=Rt;return l=Kn(t,t===Zt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(gp(t,l,n),Mp(t,Ke()),t.callbackNode!=null&&t.callbackNode===a?xp.bind(null,t):null)}function zp(t,n){if(To())return null;gp(t,n,!0)}function SE(){zE(function(){(Bt&6)!==0?Ve(Ur,AE):Op()})}function af(){if(ya===0){var t=Ks;t===0&&(t=Yn,Yn<<=1,(Yn&261888)===0&&(Yn=256)),ya=t}return ya}function Up(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xs(""+t)}function Lp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function bE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Up((c[Oe]||null).action),g=l.submitter;g&&(n=(n=g[Oe]||null)?Up(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new ri("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ya!==0){var w=g?Lp(c,g):new FormData(c);Sh(a,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=g?Lp(c,g):new FormData(c),Sh(a,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var sf=0;sf<Pc.length;sf++){var rf=Pc[sf],RE=rf.toLowerCase(),wE=rf[0].toUpperCase()+rf.slice(1);jn(RE,"on"+wE)}jn(mm,"onAnimationEnd"),jn(gm,"onAnimationIteration"),jn(pm,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(H0,"onTransitionRun"),jn(k0,"onTransitionStart"),jn(G0,"onTransitionCancel"),jn(ym,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function Bp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],w=E.instance,B=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(H){Lu(H)}c.currentTarget=null,f=w}else for(g=0;g<l.length;g++){if(E=l[g],w=E.instance,B=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(H){Lu(H)}c.currentTarget=null,f=w}}}}function bt(t,n){var a=n[Vs];a===void 0&&(a=n[Vs]=new Set);var l=t+"__bubble";a.has(l)||(qp(n,t,2,!1),a.add(l))}function lf(t,n,a){var l=0;n&&(l|=4),qp(a,t,l,n)}var bo="_reactListening"+Math.random().toString(36).slice(2);function uf(t){if(!t[bo]){t[bo]=!0,Pr.forEach(function(a){a!=="selectionchange"&&(CE.has(a)||lf(a,!1,t),lf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[bo]||(n[bo]=!0,lf("selectionchange",!1,n))}}function qp(t,n,a,l){switch(my(n)){case 2:var c=eT;break;case 8:c=nT;break;default:c=Sf}a=c.bind(null,n,a,t),c=void 0,!Xa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function of(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=Wn(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){l=f=g;continue t}E=E.parentNode}}l=l.return}$i(function(){var B=f,H=En(a),F=[];t:{var q=_m.get(t);if(q!==void 0){var j=ri,st=t;switch(t){case"keypress":if(Za(a)===0)break t;case"keydown":case"keyup":j=xu;break;case"focusin":st="focus",j=$a;break;case"focusout":st="blur",j=$a;break;case"beforeblur":case"afterblur":j=$a;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case mm:case gm:case pm:j=Cu;break;case ym:j=T;break;case"scroll":case"scrollend":j=$r;break;case"wheel":j=P;break;case"copy":case"cut":case"paste":j=Du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=wi;break;case"toggle":case"beforetoggle":j=_t}var ct=(n&4)!==0,Kt=!ct&&(t==="scroll"||t==="scrollend"),x=ct?q!==null?q+"Capture":null:q;ct=[];for(var V=B,L;V!==null;){var Q=V;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||x===null||(Q=Ln(V,x),Q!=null&&ct.push(Vl(V,Q,L))),Kt)break;V=V.return}0<ct.length&&(q=new j(q,st,null,a,H),F.push({event:q,listeners:ct}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",q&&a!==Kr&&(st=a.relatedTarget||a.fromElement)&&(Wn(st)||st[Jn]))break t;if((j||q)&&(q=H.window===H?H:(q=H.ownerDocument)?q.defaultView||q.parentWindow:window,j?(st=a.relatedTarget||a.toElement,j=B,st=st?Wn(st):null,st!==null&&(Kt=h(st),ct=st.tag,st!==Kt||ct!==5&&ct!==27&&ct!==6)&&(st=null)):(j=null,st=B),j!==st)){if(ct=Wr,Q="onMouseLeave",x="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ct=wi,Q="onPointerLeave",x="onPointerEnter",V="pointer"),Kt=j==null?q:un(j),L=st==null?q:un(st),q=new ct(Q,V+"leave",j,a,H),q.target=Kt,q.relatedTarget=L,Q=null,Wn(H)===B&&(ct=new ct(x,V+"enter",st,a,H),ct.target=L,ct.relatedTarget=Kt,Q=ct),Kt=Q,j&&st)e:{for(ct=DE,x=j,V=st,L=0,Q=x;Q;Q=ct(Q))L++;Q=0;for(var lt=V;lt;lt=ct(lt))Q++;for(;0<L-Q;)x=ct(x),L--;for(;0<Q-L;)V=ct(V),Q--;for(;L--;){if(x===V||V!==null&&x===V.alternate){ct=x;break e}x=ct(x),V=ct(V)}ct=null}else ct=null;j!==null&&Pp(F,q,j,ct,!1),st!==null&&Kt!==null&&Pp(F,Kt,st,ct,!0)}}t:{if(q=B?un(B):window,j=q.nodeName&&q.nodeName.toLowerCase(),j==="select"||j==="input"&&q.type==="file")var zt=im;else if(em(q))if(am)zt=q0;else{zt=L0;var rt=U0}else j=q.nodeName,!j||j.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Ms(B.elementType)&&(zt=im):zt=B0;if(zt&&(zt=zt(t,B))){nm(F,zt,a,H);break t}rt&&rt(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Fr(q,"number",q.value)}switch(rt=B?un(B):window,t){case"focusin":(em(rt)||rt.contentEditable==="true")&&(js=rt,Lc=B,al=null);break;case"focusout":al=Lc=js=null;break;case"mousedown":Bc=!0;break;case"contextmenu":case"mouseup":case"dragend":Bc=!1,fm(F,a,H);break;case"selectionchange":if(j0)break;case"keydown":case"keyup":fm(F,a,H)}var Tt;if(Lt)t:{switch(t){case"compositionstart":var wt="onCompositionStart";break t;case"compositionend":wt="onCompositionEnd";break t;case"compositionupdate":wt="onCompositionUpdate";break t}wt=void 0}else Ps?Wa(t,a)&&(wt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(wt="onCompositionStart");wt&&(oi&&a.locale!=="ko"&&(Ps||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&Ps&&(Tt=Jr()):(si=H,Zr="value"in si?si.value:si.textContent,Ps=!0)),rt=Ro(B,wt),0<rt.length&&(wt=new ui(wt,t,null,a,H),F.push({event:wt,listeners:rt}),Tt?wt.data=Tt:(Tt=qs(a),Tt!==null&&(wt.data=Tt)))),(Tt=An?O0(t,a):M0(t,a))&&(wt=Ro(B,"onBeforeInput"),0<wt.length&&(rt=new ui("onBeforeInput","beforeinput",null,a,H),F.push({event:rt,listeners:wt}),rt.data=Tt)),bE(F,t,B,a,H)}Bp(F,n)})}function Vl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ro(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ln(t,a),c!=null&&l.unshift(Vl(t,c,f)),c=Ln(t,n),c!=null&&l.push(Vl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function DE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pp(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,w=E.alternate,B=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||B===null||(w=B,c?(B=Ln(a,f),B!=null&&g.unshift(Vl(a,B,w))):c||(B=Ln(a,f),B!=null&&g.push(Vl(a,B,w)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var VE=/\r\n?/g,IE=/\u0000|\uFFFD/g;function jp(t){return(typeof t=="string"?t:""+t).replace(VE,`
`).replace(IE,"")}function Hp(t,n){return n=jp(n),jp(t)===n}function Xt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||We(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&We(t,""+l);break;case"className":on(t,"class",l);break;case"tabIndex":on(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":on(t,a,l);break;case"style":Xr(t,l,f);break;case"data":if(n!=="object"){on(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=xs(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=xs(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Un);break;case"onScroll":l!=null&&bt("scroll",t);break;case"onScrollEnd":l!=null&&bt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=xs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":bt("beforetoggle",t),bt("toggle",t),Ns(t,"popover",l);break;case"xlinkActuate":_e(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_e(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_e(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_e(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_e(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_e(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_e(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_e(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_e(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ns(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bu.get(a)||a,Ns(t,a,l))}}function cf(t,n,a,l,c,f){switch(a){case"style":Xr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?We(t,l):(typeof l=="number"||typeof l=="bigint")&&We(t,""+l);break;case"onScroll":l!=null&&bt("scroll",t);break;case"onScrollEnd":l!=null&&bt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Oe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ns(t,a,l)}}}function je(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",t),bt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,f,g,a,null)}}c&&Xt(t,n,"srcSet",a.srcSet,a,null),l&&Xt(t,n,"src",a.src,a,null);return;case"input":bt("invalid",t);var E=f=g=c=null,w=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var H=a[l];if(H!=null)switch(l){case"name":c=H;break;case"type":g=H;break;case"checked":w=H;break;case"defaultChecked":B=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Xt(t,n,l,H,a,null)}}Tu(t,f,E,w,B,g,c,!1);return;case"select":bt("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Xt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Xi(t,!!l,n,!1):a!=null&&Xi(t,!!l,a,!0);return;case"textarea":bt("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Xt(t,n,g,E,a,null)}Ki(t,l,c,f);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,w,l,a,null)}return;case"dialog":bt("beforetoggle",t),bt("toggle",t),bt("cancel",t),bt("close",t);break;case"iframe":case"object":bt("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)bt(Dl[l],t);break;case"image":bt("error",t),bt("load",t);break;case"details":bt("toggle",t);break;case"embed":case"source":case"link":bt("error",t),bt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,B,l,a,null)}return;default:if(Ms(n)){for(H in a)a.hasOwnProperty(H)&&(l=a[H],l!==void 0&&cf(t,n,H,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Xt(t,n,E,l,a,null))}function NE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,w=null,B=null,H=null;for(j in a){var F=a[j];if(a.hasOwnProperty(j)&&F!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":w=F;default:l.hasOwnProperty(j)||Xt(t,n,j,null,l,F)}}for(var q in l){var j=l[q];if(F=a[q],l.hasOwnProperty(q)&&(j!=null||F!=null))switch(q){case"type":f=j;break;case"name":c=j;break;case"checked":B=j;break;case"defaultChecked":H=j;break;case"value":g=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:j!==F&&Xt(t,n,q,j,l,F)}}Os(t,g,E,w,B,H,f,c);return;case"select":j=g=E=q=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":j=w;default:l.hasOwnProperty(f)||Xt(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=a[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==w&&Xt(t,n,c,f,l,w)}n=E,a=g,l=j,q!=null?Xi(t,!!a,q,!1):!!l!=!!a&&(n!=null?Xi(t,!!a,n,!0):Xi(t,!!a,a?[]:"",!1));return;case"textarea":j=q=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":q=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Xt(t,n,g,c,l,f)}Au(t,q,j);return;case"option":for(var st in a)if(q=a[st],a.hasOwnProperty(st)&&q!=null&&!l.hasOwnProperty(st))switch(st){case"selected":t.selected=!1;break;default:Xt(t,n,st,null,l,q)}for(w in l)if(q=l[w],j=a[w],l.hasOwnProperty(w)&&q!==j&&(q!=null||j!=null))switch(w){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Xt(t,n,w,q,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in a)q=a[ct],a.hasOwnProperty(ct)&&q!=null&&!l.hasOwnProperty(ct)&&Xt(t,n,ct,null,l,q);for(B in l)if(q=l[B],j=a[B],l.hasOwnProperty(B)&&q!==j&&(q!=null||j!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:Xt(t,n,B,q,l,j)}return;default:if(Ms(n)){for(var Kt in a)q=a[Kt],a.hasOwnProperty(Kt)&&q!==void 0&&!l.hasOwnProperty(Kt)&&cf(t,n,Kt,void 0,l,q);for(H in l)q=l[H],j=a[H],!l.hasOwnProperty(H)||q===j||q===void 0&&j===void 0||cf(t,n,H,q,l,j);return}}for(var x in a)q=a[x],a.hasOwnProperty(x)&&q!=null&&!l.hasOwnProperty(x)&&Xt(t,n,x,null,l,q);for(F in l)q=l[F],j=a[F],!l.hasOwnProperty(F)||q===j||q==null&&j==null||Xt(t,n,F,q,l,j)}function kp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&kp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var w=a[l],B=w.startTime;if(B>E)break;var H=w.transferSize,F=w.initiatorType;H&&kp(F)&&(w=w.responseEnd,g+=H*(w<E?1:(E-B)/(w-B)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var hf=null,ff=null;function wo(t){return t.nodeType===9?t:t.ownerDocument}function Gp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function df(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var mf=null;function ME(){var t=window.event;return t&&t.type==="popstate"?t===mf?!1:(mf=t,!0):(mf=null,!1)}var Fp=typeof setTimeout=="function"?setTimeout:void 0,xE=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,zE=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(t){return Yp.resolve(null).then(t).catch(UE)}:Fp;function UE(t){setTimeout(function(){throw t})}function _a(t){return t==="head"}function Xp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),mr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Il(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Il(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[$n]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Il(t.ownerDocument.body);a=c}while(a);mr(n)}function Kp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function gf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gf(a),Is(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function LE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[$n])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function BE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Vn(t.nextSibling),t===null))return null;return t}function Zp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vn(t.nextSibling),t===null))return null;return t}function pf(t){return t.data==="$?"||t.data==="$~"}function yf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function qE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Vn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var _f=null;function Jp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Vn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function $p(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Wp(t,n,a){switch(n=wo(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Il(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Is(t)}var In=new Map,ty=new Set;function Co(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ji=tt.d;tt.d={f:PE,r:jE,D:HE,C:kE,L:GE,m:QE,X:YE,S:FE,M:XE};function PE(){var t=ji.f(),n=_o();return t||n}function jE(t){var n=vn(t);n!==null&&n.tag===5&&n.type==="form"?yg(n):ji.r(t)}var hr=typeof document>"u"?null:document;function ey(t,n,a){var l=hr;if(l&&typeof n=="string"&&n){var c=$e(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),ty.has(c)||(ty.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),je(n,"link",t),ye(n),l.head.appendChild(n)))}}function HE(t){ji.D(t),ey("dns-prefetch",t,null)}function kE(t,n){ji.C(t,n),ey("preconnect",t,n)}function GE(t,n,a){ji.L(t,n,a);var l=hr;if(l&&t&&n){var c='link[rel="preload"][as="'+$e(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+$e(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+$e(a.imageSizes)+'"]')):c+='[href="'+$e(t)+'"]';var f=c;switch(n){case"style":f=fr(t);break;case"script":f=dr(t)}In.has(f)||(t=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),In.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Nl(f))||n==="script"&&l.querySelector(Ol(f))||(n=l.createElement("link"),je(n,"link",t),ye(n),l.head.appendChild(n)))}}function QE(t,n){ji.m(t,n);var a=hr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+$e(l)+'"][href="'+$e(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=dr(t)}if(!In.has(f)&&(t=b({rel:"modulepreload",href:t},n),In.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(f)))return}l=a.createElement("link"),je(l,"link",t),ye(l),a.head.appendChild(l)}}}function FE(t,n,a){ji.S(t,n,a);var l=hr;if(l&&t){var c=ti(l).hoistableStyles,f=fr(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Nl(f)))E.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},a),(a=In.get(f))&&vf(t,a);var w=g=l.createElement("link");ye(w),je(w,"link",t),w._p=new Promise(function(B,H){w.onload=B,w.onerror=H}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Do(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function YE(t,n){ji.X(t,n);var a=hr;if(a&&t){var l=ti(a).hoistableScripts,c=dr(t),f=l.get(c);f||(f=a.querySelector(Ol(c)),f||(t=b({src:t,async:!0},n),(n=In.get(c))&&Ef(t,n),f=a.createElement("script"),ye(f),je(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function XE(t,n){ji.M(t,n);var a=hr;if(a&&t){var l=ti(a).hoistableScripts,c=dr(t),f=l.get(c);f||(f=a.querySelector(Ol(c)),f||(t=b({src:t,async:!0,type:"module"},n),(n=In.get(c))&&Ef(t,n),f=a.createElement("script"),ye(f),je(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ny(t,n,a,l){var c=(c=Et.current)?Co(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=fr(a.href),a=ti(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=fr(a.href);var f=ti(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Nl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),In.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},In.set(t,a),f||KE(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=dr(a),a=ti(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function fr(t){return'href="'+$e(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function iy(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function KE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),je(n,"link",a),ye(n),t.head.appendChild(n))}function dr(t){return'[src="'+$e(t)+'"]'}function Ol(t){return"script[async]"+t}function ay(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+$e(a.href)+'"]');if(l)return n.instance=l,ye(l),l;var c=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ye(l),je(l,"style",c),Do(l,a.precedence,t),n.instance=l;case"stylesheet":c=fr(a.href);var f=t.querySelector(Nl(c));if(f)return n.state.loading|=4,n.instance=f,ye(f),f;l=iy(a),(c=In.get(c))&&vf(l,c),f=(t.ownerDocument||t).createElement("link"),ye(f);var g=f;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),je(f,"link",l),n.state.loading|=4,Do(f,a.precedence,t),n.instance=f;case"script":return f=dr(a.src),(c=t.querySelector(Ol(f)))?(n.instance=c,ye(c),c):(l=a,(c=In.get(f))&&(l=b({},a),Ef(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ye(c),je(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Do(l,a.precedence,t));return n.instance}function Do(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Vo=null;function sy(t,n,a){if(Vo===null){var l=new Map,c=Vo=new Map;c.set(a,l)}else c=Vo,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[$n]||f[pe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function ry(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function ZE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ly(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function JE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=fr(l.href),f=n.querySelector(Nl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Io.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,ye(f);return}f=n.ownerDocument||n,l=iy(l),(c=In.get(c))&&vf(l,c),f=f.createElement("link"),ye(f);var g=f;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),je(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Io.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Tf=0;function $E(t,n){return t.stylesheets&&t.count===0&&Oo(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Oo(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Tf===0&&(Tf=62500*OE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Oo(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Tf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Io(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var No=null;function Oo(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,No=new Map,n.forEach(WE,t),No=null,Io.call(t))}function WE(t,n){if(!(n.state.loading&4)){var a=No.get(t);if(a)var l=a.get(null);else{a=new Map,No.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Io.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ml={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function tT(t,n,a,l,c,f,g,E,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function uy(t,n,a,l,c,f,g,E,w,B,H,F){return t=new tT(t,n,a,g,w,B,H,F,E),n=1,f===!0&&(n|=24),f=hn(3,null,null,n),t.current=f,f.stateNode=t,n=Wc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},ih(f),t}function oy(t){return t?(t=Gs,t):Gs}function cy(t,n,a,l,c,f){c=oy(c),l.context===null?l.context=c:l.pendingContext=c,l=la(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ua(t,l,n),a!==null&&(sn(a,t,n),hl(a,t,n))}function hy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Af(t,n){hy(t,n),(t=t.alternate)&&hy(t,n)}function fy(t){if(t.tag===13||t.tag===31){var n=ns(t,67108864);n!==null&&sn(n,t,67108864),Af(t,67108864)}}function dy(t){if(t.tag===13||t.tag===31){var n=pn();n=Ga(n);var a=ns(t,n);a!==null&&sn(a,t,n),Af(t,n)}}var Mo=!0;function eT(t,n,a,l){var c=G.T;G.T=null;var f=tt.p;try{tt.p=2,Sf(t,n,a,l)}finally{tt.p=f,G.T=c}}function nT(t,n,a,l){var c=G.T;G.T=null;var f=tt.p;try{tt.p=8,Sf(t,n,a,l)}finally{tt.p=f,G.T=c}}function Sf(t,n,a,l){if(Mo){var c=bf(l);if(c===null)of(t,n,l,xo,a),gy(t,l);else if(aT(c,t,n,a,l))l.stopPropagation();else if(gy(t,l),n&4&&-1<iT.indexOf(t)){for(;c!==null;){var f=vn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Xn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-oe(g);E.entanglements[1]|=w,g&=~w}di(f),(Bt&6)===0&&(po=Ke()+500,Cl(0))}}break;case 31:case 13:E=ns(f,2),E!==null&&sn(E,f,2),_o(),Af(f,2)}if(f=bf(l),f===null&&of(t,n,l,xo,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else of(t,n,l,null,a)}}function bf(t){return t=En(t),Rf(t)}var xo=null;function Rf(t){if(xo=null,t=Wn(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xo=t,null}function my(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pa()){case Ur:return 2;case Lr:return 8;case Fi:case Ic:return 32;case hu:return 268435456;default:return 32}default:return 32}}var wf=!1,va=null,Ea=null,Ta=null,xl=new Map,zl=new Map,Aa=[],iT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gy(t,n){switch(t){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":Ea=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function Ul(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=vn(n),n!==null&&fy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function aT(t,n,a,l,c){switch(n){case"focusin":return va=Ul(va,t,n,a,l,c),!0;case"dragenter":return Ea=Ul(Ea,t,n,a,l,c),!0;case"mouseover":return Ta=Ul(Ta,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return xl.set(f,Ul(xl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,zl.set(f,Ul(zl.get(f)||null,t,n,a,l,c)),!0}return!1}function py(t){var n=Wn(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,xn(t.priority,function(){dy(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,xn(t.priority,function(){dy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=bf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Kr=l,a.target.dispatchEvent(l),Kr=null}else return n=vn(a),n!==null&&fy(n),t.blockedOn=a,!1;n.shift()}return!0}function yy(t,n,a){zo(t)&&a.delete(n)}function sT(){wf=!1,va!==null&&zo(va)&&(va=null),Ea!==null&&zo(Ea)&&(Ea=null),Ta!==null&&zo(Ta)&&(Ta=null),xl.forEach(yy),zl.forEach(yy)}function Uo(t,n){t.blockedOn===n&&(t.blockedOn=null,wf||(wf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,sT)))}var Lo=null;function _y(t){Lo!==t&&(Lo=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Lo===t&&(Lo=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Rf(l||a)===null)continue;break}var f=vn(a);f!==null&&(t.splice(n,3),n-=3,Sh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function mr(t){function n(w){return Uo(w,t)}va!==null&&Uo(va,t),Ea!==null&&Uo(Ea,t),Ta!==null&&Uo(Ta,t),xl.forEach(n),zl.forEach(n);for(var a=0;a<Aa.length;a++){var l=Aa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Aa.length&&(a=Aa[0],a.blockedOn===null);)py(a),a.blockedOn===null&&Aa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[Oe]||null;if(typeof f=="function")g||_y(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Oe]||null)E=g.formAction;else if(Rf(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),_y(a)}}}function vy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Cf(t){this._internalRoot=t}Bo.prototype.render=Cf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=pn();cy(a,l,t,n,null,null)},Bo.prototype.unmount=Cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;cy(t.current,2,null,t,null,null),_o(),n[Jn]=null}};function Bo(t){this._internalRoot=t}Bo.prototype.unstable_scheduleHydration=function(t){if(t){var n=yu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Aa.length&&n!==0&&n<Aa[a].priority;a++);Aa.splice(a,0,t),a===0&&py(t)}};var Ey=e.version;if(Ey!=="19.2.0")throw Error(s(527,Ey,"19.2.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var rT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qo.isDisabled&&qo.supportsFiber)try{On=qo.inject(rT),Ue=qo}catch{}}return Bl.createRoot=function(t,n){if(!u(t))throw Error(s(299));var a=!1,l="",c=Cg,f=Dg,g=Vg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=uy(t,1,!1,null,null,a,l,null,c,f,g,vy),t[Jn]=n.current,uf(t),new Cf(n)},Bl.hydrateRoot=function(t,n,a){if(!u(t))throw Error(s(299));var l=!1,c="",f=Cg,g=Dg,E=Vg,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),n=uy(t,1,!0,n,a??null,l,c,w,f,g,E,vy),n.context=oy(null),a=n.current,l=pn(),l=Ga(l),c=la(l),c.callback=null,ua(a,c,l),a=l,n.current.lanes=a,Ha(n,a),di(n),t[Jn]=n.current,uf(t),new Bo(n)},Bl.version="19.2.0",Bl}var Iy;function pT(){if(Iy)return If.exports;Iy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),If.exports=gT(),If.exports}var yT=pT();const _T=()=>{};var Ny={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let u=r.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},vT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const u=r[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const h=r[i++];e[s++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=r[i++],d=r[i++],y=r[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Q_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<r.length;u+=3){const h=r[u],d=u+1<r.length,y=d?r[u+1]:0,v=u+2<r.length,_=v?r[u+2]:0,A=h>>2,b=(h&3)<<4|y>>4;let O=(y&15)<<2|_>>6,k=_&63;v||(k=64,d||(O=64)),s.push(i[A],i[b],i[O],i[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(G_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):vT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<r.length;){const h=i[r.charAt(u++)],y=u<r.length?i[r.charAt(u)]:0;++u;const _=u<r.length?i[r.charAt(u)]:64;++u;const b=u<r.length?i[r.charAt(u)]:64;if(++u,h==null||y==null||_==null||b==null)throw new ET;const O=h<<2|y>>4;if(s.push(O),_!==64){const k=y<<4&240|_>>2;if(s.push(k),b!==64){const J=_<<6&192|b;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ET extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TT=function(r){const e=G_(r);return Q_.encodeByteArray(e,!0)},$o=function(r){return TT(r).replace(/\./g,"")},AT=function(r){try{return Q_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=()=>ST().__FIREBASE_DEFAULTS__,RT=()=>{if(typeof process>"u"||typeof Ny>"u")return;const r=Ny.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},wT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&AT(r[1]);return e&&JSON.parse(e)},gd=()=>{try{return _T()||bT()||RT()||wT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},CT=r=>gd()?.emulatorHosts?.[r],DT=r=>{const e=CT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},F_=()=>gd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function IT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[$o(JSON.stringify(i)),$o(JSON.stringify(d)),""].join(".")}const kl={};function OT(){const r={prod:[],emulator:[]};for(const e of Object.keys(kl))kl[e]?r.emulator.push(e):r.prod.push(e);return r}function MT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Oy=!1;function xT(r,e){if(typeof window>"u"||typeof document>"u"||!pd(window.location.host)||kl[r]===e||kl[r]||Oy)return;kl[r]=e;function i(O){return`__firebase__banner__${O}`}const s="__firebase__banner",h=OT().prod.length>0;function d(){const O=document.getElementById(s);O&&O.remove()}function y(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,k){O.setAttribute("width","24"),O.setAttribute("id",k),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{Oy=!0,d()},O}function A(O,k){O.setAttribute("id",k),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function b(){const O=MT(s),k=i("text"),J=document.getElementById(k)||document.createElement("span"),W=i("learnmore"),Z=document.getElementById(W)||document.createElement("a"),ft=i("preprendIcon"),At=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const dt=O.element;y(dt),A(Z,W);const Qt=_();v(At,ft),dt.append(At,J,Z,Qt),document.body.appendChild(dt)}h?(J.innerText="Preview backend disconnected.",At.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(At.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UT(){const r=gd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LT(){return!UT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BT(){try{return typeof indexedDB=="object"}catch{return!1}}function qT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="FirebaseError";class Dr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=PT,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Y_.prototype.create)}}class Y_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?jT(h,s):"Error",y=`${this.serviceName}: ${d} (${u}).`;return new Dr(u,y,s)}}function jT(r,e){return r.replace(HT,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const HT=/\{\$([^}]+)}/g;function Wo(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const h=r[u],d=e[u];if(My(h)&&My(d)){if(!Wo(h,d))return!1}else if(h!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function My(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(r){return r&&r._delegate?r._delegate:r}class Xl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new VT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QT(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});s.resolve(h)}catch{}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);s===y&&d.resolve(u)}return u}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(s)??new Set;u.add(e),this.onInitCallbacks.set(s,u);const h=this.instances.get(s);return h&&e(h,s),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:GT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GT(r){return r===gs?void 0:r}function QT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new kT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const YT={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},XT=Ot.INFO,KT={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},ZT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),u=KT[e];if(u)console[u](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class X_{constructor(e){this.name=e,this._logLevel=XT,this._logHandler=ZT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...e),this._logHandler(this,Ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...e),this._logHandler(this,Ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...e),this._logHandler(this,Ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...e),this._logHandler(this,Ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...e),this._logHandler(this,Ot.ERROR,...e)}}const JT=(r,e)=>e.some(i=>r instanceof i);let xy,zy;function $T(){return xy||(xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WT(){return zy||(zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K_=new WeakMap,kf=new WeakMap,Z_=new WeakMap,xf=new WeakMap,yd=new WeakMap;function t1(r){const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Ra(r.result)),u()},d=()=>{s(r.error),u()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&K_.set(i,r)}).catch(()=>{}),yd.set(e,r),e}function e1(r){if(kf.has(r))return;const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});kf.set(r,e)}let Gf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return kf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Z_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ra(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function n1(r){Gf=r(Gf)}function i1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(zf(this),e,...i);return Z_.set(s,e.sort?e.sort():[e]),Ra(s)}:WT().includes(r)?function(...e){return r.apply(zf(this),e),Ra(K_.get(this))}:function(...e){return Ra(r.apply(zf(this),e))}}function a1(r){return typeof r=="function"?i1(r):(r instanceof IDBTransaction&&e1(r),JT(r,$T())?new Proxy(r,Gf):r)}function Ra(r){if(r instanceof IDBRequest)return t1(r);if(xf.has(r))return xf.get(r);const e=a1(r);return e!==r&&(xf.set(r,e),yd.set(e,r)),e}const zf=r=>yd.get(r);function s1(r,e,{blocked:i,upgrade:s,blocking:u,terminated:h}={}){const d=indexedDB.open(r,e),y=Ra(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Ra(d.result),v.oldVersion,v.newVersion,Ra(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const r1=["get","getKey","getAll","getAllKeys","count"],l1=["put","add","delete","clear"],Uf=new Map;function Uy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=l1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||r1.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),u&&v.done]))[0]};return Uf.set(e,h),h}n1(r=>({...r,get:(e,i,s)=>Uy(e,i)||r.get(e,i,s),has:(e,i)=>!!Uy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(o1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function o1(r){return r.getComponent()?.type==="VERSION"}const Qf="@firebase/app",Ly="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new X_("@firebase/app"),c1="@firebase/app-compat",h1="@firebase/analytics-compat",f1="@firebase/analytics",d1="@firebase/app-check-compat",m1="@firebase/app-check",g1="@firebase/auth",p1="@firebase/auth-compat",y1="@firebase/database",_1="@firebase/data-connect",v1="@firebase/database-compat",E1="@firebase/functions",T1="@firebase/functions-compat",A1="@firebase/installations",S1="@firebase/installations-compat",b1="@firebase/messaging",R1="@firebase/messaging-compat",w1="@firebase/performance",C1="@firebase/performance-compat",D1="@firebase/remote-config",V1="@firebase/remote-config-compat",I1="@firebase/storage",N1="@firebase/storage-compat",O1="@firebase/firestore",M1="@firebase/ai",x1="@firebase/firestore-compat",z1="firebase",U1="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="[DEFAULT]",L1={[Qf]:"fire-core",[c1]:"fire-core-compat",[f1]:"fire-analytics",[h1]:"fire-analytics-compat",[m1]:"fire-app-check",[d1]:"fire-app-check-compat",[g1]:"fire-auth",[p1]:"fire-auth-compat",[y1]:"fire-rtdb",[_1]:"fire-data-connect",[v1]:"fire-rtdb-compat",[E1]:"fire-fn",[T1]:"fire-fn-compat",[A1]:"fire-iid",[S1]:"fire-iid-compat",[b1]:"fire-fcm",[R1]:"fire-fcm-compat",[w1]:"fire-perf",[C1]:"fire-perf-compat",[D1]:"fire-rc",[V1]:"fire-rc-compat",[I1]:"fire-gcs",[N1]:"fire-gcs-compat",[O1]:"fire-fst",[x1]:"fire-fst-compat",[M1]:"fire-vertex","fire-js":"fire-js",[z1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new Map,B1=new Map,Yf=new Map;function By(r,e){try{r.container.addComponent(e)}catch(i){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function ec(r){const e=r.name;if(Yf.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;Yf.set(e,r);for(const i of tc.values())By(i,r);for(const i of B1.values())By(i,r);return!0}function q1(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function P1(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wa=new Y_("app","Firebase",j1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=U1;function J_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Ff,automaticDataCollectionEnabled:!0,...e},u=s.name;if(typeof u!="string"||!u)throw wa.create("bad-app-name",{appName:String(u)});if(i||(i=F_()),!i)throw wa.create("no-options");const h=tc.get(u);if(h){if(Wo(i,h.options)&&Wo(s,h.config))return h;throw wa.create("duplicate-app",{appName:u})}const d=new FT(u);for(const v of Yf.values())d.addComponent(v);const y=new H1(i,s,d);return tc.set(u,y),y}function G1(r=Ff){const e=tc.get(r);if(!e&&r===Ff&&F_())return J_();if(!e)throw wa.create("no-app",{appName:r});return e}function Er(r,e,i){let s=L1[r]??r;i&&(s+=`-${i}`);const u=s.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${s}" with version "${e}":`];u&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(d.join(" "));return}ec(new Xl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="firebase-heartbeat-database",F1=1,Kl="firebase-heartbeat-store";let Lf=null;function $_(){return Lf||(Lf=s1(Q1,F1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Kl)}catch(i){console.warn(i)}}}}).catch(r=>{throw wa.create("idb-open",{originalErrorMessage:r.message})})),Lf}async function Y1(r){try{const i=(await $_()).transaction(Kl),s=await i.objectStore(Kl).get(W_(r));return await i.done,s}catch(e){if(e instanceof Dr)Hi.warn(e.message);else{const i=wa.create("idb-get",{originalErrorMessage:e?.message});Hi.warn(i.message)}}}async function qy(r,e){try{const s=(await $_()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,W_(r)),await s.done}catch(i){if(i instanceof Dr)Hi.warn(i.message);else{const s=wa.create("idb-set",{originalErrorMessage:i?.message});Hi.warn(s.message)}}}function W_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=1024,K1=30;class Z1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new $1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Py();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(u=>u.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>K1){const u=W1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Hi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Py(),{heartbeatsToSend:i,unsentEntries:s}=J1(this._heartbeatsCache.heartbeats),u=$o(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return Hi.warn(e),""}}}function Py(){return new Date().toISOString().substring(0,10)}function J1(r,e=X1){const i=[];let s=r.slice();for(const u of r){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),jy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),jy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class $1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BT()?qT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Y1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function jy(r){return $o(JSON.stringify({version:2,heartbeats:r})).length}function W1(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(r){ec(new Xl("platform-logger",e=>new u1(e),"PRIVATE")),ec(new Xl("heartbeat",e=>new Z1(e),"PRIVATE")),Er(Qf,Ly,r),Er(Qf,Ly,"esm2020"),Er("fire-js","")}tA("");var Hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ca,tv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function C(){}C.prototype=S.prototype,D.F=S.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(M,I,z){for(var R=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)R[ne-2]=arguments[ne];return S.prototype[I].apply(M,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(D,S,C){C||(C=0);const M=Array(16);if(typeof S=="string")for(var I=0;I<16;++I)M[I]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(I=0;I<16;++I)M[I]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=D.g[0],C=D.g[1],I=D.g[2];let z=D.g[3],R;R=S+(z^C&(I^z))+M[0]+3614090360&4294967295,S=C+(R<<7&4294967295|R>>>25),R=z+(I^S&(C^I))+M[1]+3905402710&4294967295,z=S+(R<<12&4294967295|R>>>20),R=I+(C^z&(S^C))+M[2]+606105819&4294967295,I=z+(R<<17&4294967295|R>>>15),R=C+(S^I&(z^S))+M[3]+3250441966&4294967295,C=I+(R<<22&4294967295|R>>>10),R=S+(z^C&(I^z))+M[4]+4118548399&4294967295,S=C+(R<<7&4294967295|R>>>25),R=z+(I^S&(C^I))+M[5]+1200080426&4294967295,z=S+(R<<12&4294967295|R>>>20),R=I+(C^z&(S^C))+M[6]+2821735955&4294967295,I=z+(R<<17&4294967295|R>>>15),R=C+(S^I&(z^S))+M[7]+4249261313&4294967295,C=I+(R<<22&4294967295|R>>>10),R=S+(z^C&(I^z))+M[8]+1770035416&4294967295,S=C+(R<<7&4294967295|R>>>25),R=z+(I^S&(C^I))+M[9]+2336552879&4294967295,z=S+(R<<12&4294967295|R>>>20),R=I+(C^z&(S^C))+M[10]+4294925233&4294967295,I=z+(R<<17&4294967295|R>>>15),R=C+(S^I&(z^S))+M[11]+2304563134&4294967295,C=I+(R<<22&4294967295|R>>>10),R=S+(z^C&(I^z))+M[12]+1804603682&4294967295,S=C+(R<<7&4294967295|R>>>25),R=z+(I^S&(C^I))+M[13]+4254626195&4294967295,z=S+(R<<12&4294967295|R>>>20),R=I+(C^z&(S^C))+M[14]+2792965006&4294967295,I=z+(R<<17&4294967295|R>>>15),R=C+(S^I&(z^S))+M[15]+1236535329&4294967295,C=I+(R<<22&4294967295|R>>>10),R=S+(I^z&(C^I))+M[1]+4129170786&4294967295,S=C+(R<<5&4294967295|R>>>27),R=z+(C^I&(S^C))+M[6]+3225465664&4294967295,z=S+(R<<9&4294967295|R>>>23),R=I+(S^C&(z^S))+M[11]+643717713&4294967295,I=z+(R<<14&4294967295|R>>>18),R=C+(z^S&(I^z))+M[0]+3921069994&4294967295,C=I+(R<<20&4294967295|R>>>12),R=S+(I^z&(C^I))+M[5]+3593408605&4294967295,S=C+(R<<5&4294967295|R>>>27),R=z+(C^I&(S^C))+M[10]+38016083&4294967295,z=S+(R<<9&4294967295|R>>>23),R=I+(S^C&(z^S))+M[15]+3634488961&4294967295,I=z+(R<<14&4294967295|R>>>18),R=C+(z^S&(I^z))+M[4]+3889429448&4294967295,C=I+(R<<20&4294967295|R>>>12),R=S+(I^z&(C^I))+M[9]+568446438&4294967295,S=C+(R<<5&4294967295|R>>>27),R=z+(C^I&(S^C))+M[14]+3275163606&4294967295,z=S+(R<<9&4294967295|R>>>23),R=I+(S^C&(z^S))+M[3]+4107603335&4294967295,I=z+(R<<14&4294967295|R>>>18),R=C+(z^S&(I^z))+M[8]+1163531501&4294967295,C=I+(R<<20&4294967295|R>>>12),R=S+(I^z&(C^I))+M[13]+2850285829&4294967295,S=C+(R<<5&4294967295|R>>>27),R=z+(C^I&(S^C))+M[2]+4243563512&4294967295,z=S+(R<<9&4294967295|R>>>23),R=I+(S^C&(z^S))+M[7]+1735328473&4294967295,I=z+(R<<14&4294967295|R>>>18),R=C+(z^S&(I^z))+M[12]+2368359562&4294967295,C=I+(R<<20&4294967295|R>>>12),R=S+(C^I^z)+M[5]+4294588738&4294967295,S=C+(R<<4&4294967295|R>>>28),R=z+(S^C^I)+M[8]+2272392833&4294967295,z=S+(R<<11&4294967295|R>>>21),R=I+(z^S^C)+M[11]+1839030562&4294967295,I=z+(R<<16&4294967295|R>>>16),R=C+(I^z^S)+M[14]+4259657740&4294967295,C=I+(R<<23&4294967295|R>>>9),R=S+(C^I^z)+M[1]+2763975236&4294967295,S=C+(R<<4&4294967295|R>>>28),R=z+(S^C^I)+M[4]+1272893353&4294967295,z=S+(R<<11&4294967295|R>>>21),R=I+(z^S^C)+M[7]+4139469664&4294967295,I=z+(R<<16&4294967295|R>>>16),R=C+(I^z^S)+M[10]+3200236656&4294967295,C=I+(R<<23&4294967295|R>>>9),R=S+(C^I^z)+M[13]+681279174&4294967295,S=C+(R<<4&4294967295|R>>>28),R=z+(S^C^I)+M[0]+3936430074&4294967295,z=S+(R<<11&4294967295|R>>>21),R=I+(z^S^C)+M[3]+3572445317&4294967295,I=z+(R<<16&4294967295|R>>>16),R=C+(I^z^S)+M[6]+76029189&4294967295,C=I+(R<<23&4294967295|R>>>9),R=S+(C^I^z)+M[9]+3654602809&4294967295,S=C+(R<<4&4294967295|R>>>28),R=z+(S^C^I)+M[12]+3873151461&4294967295,z=S+(R<<11&4294967295|R>>>21),R=I+(z^S^C)+M[15]+530742520&4294967295,I=z+(R<<16&4294967295|R>>>16),R=C+(I^z^S)+M[2]+3299628645&4294967295,C=I+(R<<23&4294967295|R>>>9),R=S+(I^(C|~z))+M[0]+4096336452&4294967295,S=C+(R<<6&4294967295|R>>>26),R=z+(C^(S|~I))+M[7]+1126891415&4294967295,z=S+(R<<10&4294967295|R>>>22),R=I+(S^(z|~C))+M[14]+2878612391&4294967295,I=z+(R<<15&4294967295|R>>>17),R=C+(z^(I|~S))+M[5]+4237533241&4294967295,C=I+(R<<21&4294967295|R>>>11),R=S+(I^(C|~z))+M[12]+1700485571&4294967295,S=C+(R<<6&4294967295|R>>>26),R=z+(C^(S|~I))+M[3]+2399980690&4294967295,z=S+(R<<10&4294967295|R>>>22),R=I+(S^(z|~C))+M[10]+4293915773&4294967295,I=z+(R<<15&4294967295|R>>>17),R=C+(z^(I|~S))+M[1]+2240044497&4294967295,C=I+(R<<21&4294967295|R>>>11),R=S+(I^(C|~z))+M[8]+1873313359&4294967295,S=C+(R<<6&4294967295|R>>>26),R=z+(C^(S|~I))+M[15]+4264355552&4294967295,z=S+(R<<10&4294967295|R>>>22),R=I+(S^(z|~C))+M[6]+2734768916&4294967295,I=z+(R<<15&4294967295|R>>>17),R=C+(z^(I|~S))+M[13]+1309151649&4294967295,C=I+(R<<21&4294967295|R>>>11),R=S+(I^(C|~z))+M[4]+4149444226&4294967295,S=C+(R<<6&4294967295|R>>>26),R=z+(C^(S|~I))+M[11]+3174756917&4294967295,z=S+(R<<10&4294967295|R>>>22),R=I+(S^(z|~C))+M[2]+718787259&4294967295,I=z+(R<<15&4294967295|R>>>17),R=C+(z^(I|~S))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+I&4294967295,D.g[3]=D.g[3]+z&4294967295}s.prototype.v=function(D,S){S===void 0&&(S=D.length);const C=S-this.blockSize,M=this.C;let I=this.h,z=0;for(;z<S;){if(I==0)for(;z<=C;)u(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<S;)if(M[I++]=D.charCodeAt(z++),I==this.blockSize){u(this,M),I=0;break}}else for(;z<S;)if(M[I++]=D[z++],I==this.blockSize){u(this,M),I=0;break}}this.h=I,this.o+=S},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;S=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=S&255,S/=256;for(this.v(D),D=Array(16),S=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)D[S++]=this.g[C]>>>M&255;return D};function h(D,S){var C=y;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=S(D)}function d(D,S){this.h=S;const C=[];let M=!0;for(let I=D.length-1;I>=0;I--){const z=D[I]|0;M&&z==S||(C[I]=z,M=!1)}this.g=C}var y={};function v(D){return-128<=D&&D<128?h(D,function(S){return new d([S|0],S<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return Z(_(-D));const S=[];let C=1;for(let M=0;D>=C;M++)S[M]=D/C|0,C*=4294967296;return new d(S,0)}function A(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return Z(A(D.substring(1),S));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(S,8));let M=b;for(let z=0;z<D.length;z+=8){var I=Math.min(8,D.length-z);const R=parseInt(D.substring(z,z+I),S);I<8?(I=_(Math.pow(S,I)),M=M.j(I).add(_(R))):(M=M.j(C),M=M.add(_(R)))}return M}var b=v(0),O=v(1),k=v(16777216);r=d.prototype,r.m=function(){if(W(this))return-Z(this).m();let D=0,S=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);D+=(M>=0?M:4294967296+M)*S,S*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(J(this))return"0";if(W(this))return"-"+Z(this).toString(D);const S=_(Math.pow(D,6));var C=this;let M="";for(;;){const I=Qt(C,S).g;C=ft(C,I.j(S));let z=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=I,J(C))return z+M;for(;z.length<6;)z="0"+z;M=z+M}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function J(D){if(D.h!=0)return!1;for(let S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function W(D){return D.h==-1}r.l=function(D){return D=ft(this,D),W(D)?-1:J(D)?0:1};function Z(D){const S=D.g.length,C=[];for(let M=0;M<S;M++)C[M]=~D.g[M];return new d(C,~D.h).add(O)}r.abs=function(){return W(this)?Z(this):this},r.add=function(D){const S=Math.max(this.g.length,D.g.length),C=[];let M=0;for(let I=0;I<=S;I++){let z=M+(this.i(I)&65535)+(D.i(I)&65535),R=(z>>>16)+(this.i(I)>>>16)+(D.i(I)>>>16);M=R>>>16,z&=65535,R&=65535,C[I]=R<<16|z}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ft(D,S){return D.add(Z(S))}r.j=function(D){if(J(this)||J(D))return b;if(W(this))return W(D)?Z(this).j(Z(D)):Z(Z(this).j(D));if(W(D))return Z(this.j(Z(D)));if(this.l(k)<0&&D.l(k)<0)return _(this.m()*D.m());const S=this.g.length+D.g.length,C=[];for(var M=0;M<2*S;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<D.g.length;I++){const z=this.i(M)>>>16,R=this.i(M)&65535,ne=D.i(I)>>>16,Ce=D.i(I)&65535;C[2*M+2*I]+=R*Ce,At(C,2*M+2*I),C[2*M+2*I+1]+=z*Ce,At(C,2*M+2*I+1),C[2*M+2*I+1]+=R*ne,At(C,2*M+2*I+1),C[2*M+2*I+2]+=z*ne,At(C,2*M+2*I+2)}for(D=0;D<S;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=S;D<2*S;D++)C[D]=0;return new d(C,0)};function At(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function dt(D,S){this.g=D,this.h=S}function Qt(D,S){if(J(S))throw Error("division by zero");if(J(D))return new dt(b,b);if(W(D))return S=Qt(Z(D),S),new dt(Z(S.g),Z(S.h));if(W(S))return S=Qt(D,Z(S)),new dt(Z(S.g),S.h);if(D.g.length>30){if(W(D)||W(S))throw Error("slowDivide_ only works with positive integers.");for(var C=O,M=S;M.l(D)<=0;)C=$t(C),M=$t(M);var I=Mt(C,1),z=Mt(M,1);for(M=Mt(M,2),C=Mt(C,2);!J(M);){var R=z.add(M);R.l(D)<=0&&(I=I.add(C),z=R),M=Mt(M,1),C=Mt(C,1)}return S=ft(D,I.j(S)),new dt(I,S)}for(I=b;D.l(S)>=0;){for(C=Math.max(1,Math.floor(D.m()/S.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),z=_(C),R=z.j(S);W(R)||R.l(D)>0;)C-=M,z=_(C),R=z.j(S);J(z)&&(z=O),I=I.add(z),D=ft(D,R)}return new dt(I,D)}r.B=function(D){return Qt(this,D).h},r.and=function(D){const S=Math.max(this.g.length,D.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)&D.i(M);return new d(C,this.h&D.h)},r.or=function(D){const S=Math.max(this.g.length,D.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)|D.i(M);return new d(C,this.h|D.h)},r.xor=function(D){const S=Math.max(this.g.length,D.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)^D.i(M);return new d(C,this.h^D.h)};function $t(D){const S=D.g.length+1,C=[];for(let M=0;M<S;M++)C[M]=D.i(M)<<1|D.i(M-1)>>>31;return new d(C,D.h)}function Mt(D,S){const C=S>>5;S%=32;const M=D.g.length-C,I=[];for(let z=0;z<M;z++)I[z]=S>0?D.i(z+C)>>>S|D.i(z+C+1)<<32-S:D.i(z+C);return new d(I,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,tv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ca=d}).apply(typeof Hy<"u"?Hy:typeof self<"u"?self:typeof window<"u"?window:{});var Po=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ev,ql,nv,Fo,Xf,iv,av,sv;(function(){var r,e=Object.defineProperty;function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Po=="object"&&Po];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var p=s;o=o.split(".");for(var T=0;T<o.length-1;T++){var U=o[T];if(!(U in p))break t;p=p[U]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}u("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(o){return o||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function v(o,m,p){return o.call.apply(o.bind,arguments)}function _(o,m,p){return _=v,_.apply(null,arguments)}function A(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function b(o,m){function p(){}p.prototype=m.prototype,o.Z=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Ob=function(T,U,P){for(var $=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)$[_t-2]=arguments[_t];return m.prototype[U].apply(T,$)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function k(o){const m=o.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function J(o,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var p=typeof U;if(p=p!="object"?p:U?Array.isArray(U)?"array":p:"null",p=="array"||p=="object"&&typeof U.length=="number"){p=o.length||0;const P=U.length||0;o.length=p+P;for(let $=0;$<P;$++)o[p+$]=U[$]}else o.push(U)}}class W{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(o){d.setTimeout(()=>{throw o},0)}function ft(){var o=D;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class At{constructor(){this.h=this.g=null}add(m,p){const T=dt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new W(()=>new Qt,o=>o.reset());class Qt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let $t,Mt=!1,D=new At,S=()=>{const o=Promise.resolve(void 0);$t=()=>{o.then(C)}};function C(){for(var o;o=ft();){try{o.h.call(o.g)}catch(p){Z(p)}var m=dt;m.j(o),m.h<100&&(m.h++,o.next=m.g,m.g=o)}Mt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return o})();function R(o){return/^[\s\xa0]*$/.test(o)}function ne(o,m){I.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,m)}b(ne,I),ne.prototype.init=function(o,m){const p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget,m||(p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),G=0;function tt(o,m,p,T,U){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++G,this.da=this.fa=!1}function ot(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function xt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function Pt(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function N(o){const m={};for(const p in o)m[p]=o[p];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(o,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)o[p]=T[p];for(let P=0;P<Y.length;P++)p=Y[P],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function at(o){this.src=o,this.g={},this.h=0}at.prototype.add=function(o,m,p,T,U){const P=o.toString();o=this.g[P],o||(o=this.g[P]=[],this.h++);const $=Et(o,m,T,U);return $>-1?(m=o[$],p||(m.fa=!1)):(m=new tt(m,this.src,P,!!T,U),m.fa=p,o.push(m)),m};function mt(o,m){const p=m.type;if(p in o.g){var T=o.g[p],U=Array.prototype.indexOf.call(T,m,void 0),P;(P=U>=0)&&Array.prototype.splice.call(T,U,1),P&&(ot(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function Et(o,m,p,T){for(let U=0;U<o.length;++U){const P=o[U];if(!P.da&&P.listener==m&&P.capture==!!p&&P.ha==T)return U}return-1}var It="closure_lm_"+(Math.random()*1e6|0),De={};function ie(o,m,p,T,U){if(Array.isArray(m)){for(let P=0;P<m.length;P++)ie(o,m[P],p,T,U);return null}return p=zr(p),o&&o[Ce]?o.J(m,p,y(T)?!!T.capture:!1,U):Ba(o,m,p,!1,T,U)}function Ba(o,m,p,T,U,P){if(!m)throw Error("Invalid event type");const $=y(U)?!!U.capture:!!U;let _t=qa(o);if(_t||(o[It]=_t=new at(o)),p=_t.add(m,p,T,$,P),p.proxy)return p;if(T=Rs(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)z||(U=$),U===void 0&&(U=!1),o.addEventListener(m.toString(),T,U);else if(o.attachEvent)o.attachEvent(Fn(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Rs(){function o(p){return m.call(o.src,o.listener,p)}const m=Mr;return o}function ws(o,m,p,T,U){if(Array.isArray(m))for(var P=0;P<m.length;P++)ws(o,m[P],p,T,U);else T=y(T)?!!T.capture:!!T,p=zr(p),o&&o[Ce]?(o=o.i,P=String(m).toString(),P in o.g&&(m=o.g[P],p=Et(m,p,T,U),p>-1&&(ot(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete o.g[P],o.h--)))):o&&(o=qa(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Et(m,p,T,U)),(p=o>-1?m[o]:null)&&Cs(p))}function Cs(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Ce])mt(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Fn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=qa(m))?(mt(p,o),p.h==0&&(p.src=null,m[It]=null)):ot(o)}}}function Fn(o){return o in De?De[o]:De[o]="on"+o}function Mr(o,m){if(o.da)o=!0;else{m=new ne(m,this);const p=o.listener,T=o.ha||o.src;o.fa&&Cs(o),o=p.call(T,m)}return o}function qa(o){return o=o[It],o instanceof at?o:null}var xr="__closure_events_fn_"+(Math.random()*1e9>>>0);function zr(o){return typeof o=="function"?o:(o[xr]||(o[xr]=function(m){return o.handleEvent(m)}),o[xr])}function me(){M.call(this),this.i=new at(this),this.M=this,this.G=null}b(me,M),me.prototype[Ce]=!0,me.prototype.removeEventListener=function(o,m,p,T){ws(this,o,m,p,T)};function Ve(o,m){var p,T=o.G;if(T)for(p=[];T;T=T.G)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new I(m,o);else if(m instanceof I)m.target=m.target||o;else{var U=m;m=new I(T,o),et(m,U)}U=!0;let P,$;if(p)for($=p.length-1;$>=0;$--)P=m.g=p[$],U=Qi(P,T,!0,m)&&U;if(P=m.g=o,U=Qi(P,T,!0,m)&&U,U=Qi(P,T,!1,m)&&U,p)for($=0;$<p.length;$++)P=m.g=p[$],U=Qi(P,T,!1,m)&&U}me.prototype.N=function(){if(me.Z.N.call(this),this.i){var o=this.i;for(const m in o.g){const p=o.g[m];for(let T=0;T<p.length;T++)ot(p[T]);delete o.g[m],o.h--}}this.G=null},me.prototype.J=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},me.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function Qi(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let P=0;P<m.length;++P){const $=m[P];if($&&!$.da&&$.capture==p){const _t=$.listener,ce=$.ha||$.src;$.fa&&mt(o.i,$),U=_t.call(ce,T)!==!1&&U}}return U&&!T.defaultPrevented}function Vc(o,m){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=_(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(o,m||0)}function cu(o){o.g=Vc(()=>{o.g=null,o.i&&(o.i=!1,cu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Ke extends M{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:cu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(o){M.call(this),this.h=o,this.g={}}b(Pa,M);var Ur=[];function Lr(o){xt(o.g,function(m,p){this.g.hasOwnProperty(p)&&Cs(m)},o),o.g={}}Pa.prototype.N=function(){Pa.Z.N.call(this),Lr(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fi=d.JSON.stringify,Ic=d.JSON.parse,hu=class{stringify(o){return d.JSON.stringify(o,void 0)}parse(o){return d.JSON.parse(o,void 0)}};function fu(){}function du(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ue(){I.call(this,"d")}b(Ue,I);function _n(){I.call(this,"c")}b(_n,I);var oe={},mu=null;function Ds(){return mu=mu||new me}oe.Ia="serverreachability";function gu(o){I.call(this,oe.Ia,o)}b(gu,I);function Yn(o){const m=Ds();Ve(m,new gu(m))}oe.STAT_EVENT="statevent";function ja(o,m){I.call(this,oe.STAT_EVENT,o),this.stat=m}b(ja,I);function ge(o){const m=Ds();Ve(m,new ja(m,o))}oe.Ja="timingevent";function Xn(o,m){I.call(this,oe.Ja,o),this.size=m}b(Xn,I);function Kn(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){o()},m)}function Mn(){this.g=!0}Mn.prototype.ua=function(){this.g=!1};function Nc(o,m,p,T,U,P){o.info(function(){if(o.g)if(P){var $="",_t=P.split("&");for(let Lt=0;Lt<_t.length;Lt++){var ce=_t[Lt].split("=");if(ce.length>1){const ae=ce[0];ce=ce[1];const An=ae.split("_");$=An.length>=2&&An[1]=="type"?$+(ae+"="+ce+"&"):$+(ae+"=redacted&")}}}else $=null;else $=P;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+$})}function pu(o,m,p,T,U,P,$){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+P+" "+$})}function Zn(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oc(o,p)+(T?" "+T:"")})}function Ha(o,m){o.info(function(){return"TIMEOUT: "+m})}Mn.prototype.info=function(){};function Oc(o,m){if(!o.g)return m;if(!m)return null;try{const P=JSON.parse(m);if(P){for(o=0;o<P.length;o++)if(Array.isArray(P[o])){var p=P[o];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let $=1;$<T.length;$++)T[$]=""}}}}return Fi(P)}catch{return m}}var ka={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Br={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qr;function Ga(){}b(Ga,fu),Ga.prototype.g=function(){return new XMLHttpRequest},qr=new Ga;function Si(o){return encodeURIComponent(String(o))}function yu(o){var m=1;o=o.split(":");const p=[];for(;m>0&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function xn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.S=T||1,this.V=new Pa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var pe={},Oe={};function Jn(o,m,p){o.M=1,o.A=Qa(_e(m)),o.u=p,o.R=!0,Vs(o,null)}function Vs(o,m){o.F=Date.now(),$n(o),o.B=_e(o.A);var p=o.B,T=o.S;Array.isArray(T)||(T=[String(T)]),Ms(p.i,"t",T),o.C=0,p=o.j.L,o.h=new zn,o.g=Ou(o.j,p?m:null,!o.u),o.P>0&&(o.O=new Ke(_(o.Y,o,o.g),o.P)),m=o.V,p=o.g,T=o.ba;var U="readystatechange";Array.isArray(U)||(U&&(Ur[0]=U.toString()),U=Ur);for(let P=0;P<U.length;P++){const $=ie(p,U[P],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=o.J?N(o.J):{},o.u?(o.v||(o.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,m)):(o.v="GET",o.g.ea(o.B,o.v,null,m)),Yn(),Nc(o.i,o.v,o.B,o.l,o.S,o.u)}xn.prototype.ba=function(o){o=o.target;const m=this.O;m&&Bn(o)==3?m.j():this.Y(o)},xn.prototype.Y=function(o){try{if(o==this.g)t:{const _t=Bn(this.g),ce=this.g.ya(),Lt=this.g.ca();if(!(_t<3)&&(_t!=3||this.g&&(this.h.h||this.g.la()||Le(this.g)))){this.K||_t!=4||ce==7||(ce==8||Lt<=0?Yn(3):Yn(2)),Wn(this);var m=this.g.ca();this.X=m;var p=Mc(this);if(this.o=m==200,pu(this.i,this.v,this.B,this.l,this.S,_t,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var P=T;break e}}P=null}if(o=P)Zn(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ti(this,o);else{this.o=!1,this.m=3,ge(12),un(this),vn(this);break t}}if(this.R){o=!0;let ae;for(;!this.K&&this.C<p.length;)if(ae=vu(this,p),ae==Oe){_t==4&&(this.m=4,ge(14),o=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==pe){this.m=4,ge(15),Zn(this.i,this.l,p,"[Invalid Chunk]"),o=!1;break}else Zn(this.i,this.l,ae,null),ti(this,ae);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||p.length!=0||this.h.h||(this.m=1,ge(16),o=!1),this.o=this.o&&o,!o)Zn(this.i,this.l,p,"[Invalid Chunked Response]"),un(this),vn(this);else if(p.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),tl($),$.P=!0,ge(11))}}else Zn(this.i,this.l,p,null),ti(this,p);_t==4&&un(this),this.o&&!this.K&&(_t==4?Du(this.j,this):(this.o=!1,$n(this)))}else Ri(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),un(this),vn(this)}}}catch{}finally{}};function Mc(o){if(!_u(o))return o.g.la();const m=Le(o.g);if(m==="")return"";let p="";const T=m.length,U=Bn(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return un(o),vn(o),"";o.h.i=new d.TextDecoder}for(let P=0;P<T;P++)o.h.h=!0,p+=o.h.i.decode(m[P],{stream:!(U&&P==T-1)});return m.length=0,o.h.g+=p,o.C=0,o.h.g}function _u(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function vu(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Oe:(p=Number(m.substring(p,T)),isNaN(p)?pe:(T+=1,T+p>m.length?Oe:(m=m.slice(T,T+p),o.C=T+p,m)))}xn.prototype.cancel=function(){this.K=!0,un(this)};function $n(o){o.T=Date.now()+o.H,Is(o,o.H)}function Is(o,m){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Kn(_(o.aa,o),m)}function Wn(o){o.D&&(d.clearTimeout(o.D),o.D=null)}xn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Ha(this.i,this.B),this.M!=2&&(Yn(),ge(17)),un(this),this.m=2,vn(this)):Is(this,this.T-o)};function vn(o){o.j.I==0||o.K||Du(o.j,o)}function un(o){Wn(o);var m=o.O;m&&typeof m.dispose=="function"&&m.dispose(),o.O=null,Lr(o.V),o.g&&(m=o.g,o.g=null,m.abort(),m.dispose())}function ti(o,m){try{var p=o.j;if(p.I!=0&&(p.g==o||ni(p.h,o))){if(!o.L&&ni(p.h,o)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<o.F)Bs(p),ta(p);else break t;$a(p),ge(18)}}else p.xa=U[1],0<p.xa-p.K&&U[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Kn(_(p.Va,p),6e3));ei(p.h)<=1&&p.ta&&(p.ta=void 0)}else ui(p,11)}else if((o.L||p.g==o)&&Bs(p),!R(m))for(U=p.Ba.g.parse(m),m=0;m<U.length;m++){let Lt=U[m];const ae=Lt[0];if(!(ae<=p.K))if(p.K=ae,Lt=Lt[1],p.I==2)if(Lt[0]=="c"){p.M=Lt[1],p.ba=Lt[2];const An=Lt[3];An!=null&&(p.ka=An,p.j.info("VER="+p.ka));const oi=Lt[4];oi!=null&&(p.za=oi,p.j.info("SVER="+p.za));const qn=Lt[5];qn!=null&&typeof qn=="number"&&qn>0&&(T=1.5*qn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Pn=o.g;if(Pn){const Wa=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wa){var P=T.h;P.g||Wa.indexOf("spdy")==-1&&Wa.indexOf("quic")==-1&&Wa.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Hr(P,P.h),P.h=null))}if(T.G){const qs=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;qs&&(T.wa=qs,jt(T.J,T.G,qs))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-o.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var $=o;if(T.na=Nu(T,T.L?T.ba:null,T.W),$.L){kr(T.h,$);var _t=$,ce=T.O;ce&&(_t.H=ce),_t.D&&(Wn(_t),$n(_t)),T.g=$}else wu(T);p.i.length>0&&li(p)}else Lt[0]!="stop"&&Lt[0]!="close"||ui(p,7);else p.I==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?ui(p,7):$r(p):Lt[0]!="noop"&&p.l&&p.l.qa(Lt),p.A=0)}}Yn(4)}catch{}}var ye=class{constructor(o,m){this.g=o,this.map=m}};function Pr(o){this.l=o||10,d.PerformanceNavigationTiming?(o=d.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jr(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ei(o){return o.h?1:o.g?o.g.size:0}function ni(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Hr(o,m){o.g?o.g.add(m):o.h=m}function kr(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Pr.prototype.cancel=function(){if(this.i=Gr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Gr(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.G);return m}return k(o.i)}var Eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ns(o,m){if(o){o=o.split("&");for(let p=0;p<o.length;p++){const T=o[p].indexOf("=");let U,P=null;T>=0?(U=o[p].substring(0,T),P=o[p].substring(T+1)):U=o[p],m(U,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function on(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;o instanceof on?(this.l=o.l,Me(this,o.j),this.o=o.o,this.g=o.g,Yi(this,o.u),this.h=o.h,Qr(this,bu(o.i)),this.m=o.m):o&&(m=String(o).match(Eu))?(this.l=!1,Me(this,m[1]||"",!0),this.o=ii(m[2]||""),this.g=ii(m[3]||"",!0),Yi(this,m[4]),this.h=ii(m[5]||"",!0),Qr(this,m[6]||"",!0),this.m=ii(m[7]||"")):(this.l=!1,this.i=new Ki(null,this.l))}on.prototype.toString=function(){const o=[];var m=this.j;m&&o.push(Fa(m,Os,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Fa(m,Os,!0),"@"),o.push(Si(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&o.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Fa(p,p.charAt(0)=="/"?Fr:Tu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Fa(p,Au)),o.join("")},on.prototype.resolve=function(o){const m=_e(this);let p=!!o.j;p?Me(m,o.j):p=!!o.o,p?m.o=o.o:p=!!o.g,p?m.g=o.g:p=o.u!=null;var T=o.h;if(p)Yi(m,o.u);else if(p=!!o.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const P=[];for(let $=0;$<U.length;){const _t=U[$++];_t=="."?T&&$==U.length&&P.push(""):_t==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),T&&$==U.length&&P.push("")):(P.push(_t),T=!0)}T=P.join("/")}else T=U}return p?m.h=T:p=o.i.toString()!=="",p?Qr(m,bu(o.i)):p=!!o.m,p&&(m.m=o.m),m};function _e(o){return new on(o)}function Me(o,m,p){o.j=p?ii(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Yi(o,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);o.u=m}else o.u=null}function Qr(o,m,p){m instanceof Ki?(o.i=m,xs(o.i,o.l)):(p||(m=Fa(m,Xi)),o.i=new Ki(m,o.l))}function jt(o,m,p){o.i.set(m,p)}function Qa(o){return jt(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function ii(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Fa(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,$e),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function $e(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Os=/[#\/\?@]/g,Tu=/[#\?:]/g,Fr=/[#\?]/g,Xi=/[#\?@]/g,Au=/#/g;function Ki(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function We(o){o.g||(o.g=new Map,o.h=0,o.i&&Ns(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=Ki.prototype,r.add=function(o,m){We(this),this.i=null,o=Zi(this,o);let p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function Su(o,m){We(o),m=Zi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function Yr(o,m){return We(o),m=Zi(o,m),o.g.has(m)}r.forEach=function(o,m){We(this),this.g.forEach(function(p,T){p.forEach(function(U){o.call(m,U,T,this)},this)},this)};function Xr(o,m){We(o);let p=[];if(typeof m=="string")Yr(o,m)&&(p=p.concat(o.g.get(Zi(o,m))));else for(o=Array.from(o.g.values()),m=0;m<o.length;m++)p=p.concat(o[m]);return p}r.set=function(o,m){return We(this),this.i=null,o=Zi(this,o),Yr(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},r.get=function(o,m){return o?(o=Xr(this,o),o.length>0?String(o[0]):m):m};function Ms(o,m,p){Su(o,m),p.length>0&&(o.i=null,o.g.set(Zi(o,m),k(p)),o.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const U=Si(p);p=Xr(this,p);for(let P=0;P<p.length;P++){let $=U;p[P]!==""&&($+="="+Si(p[P])),o.push($)}}return this.i=o.join("&")};function bu(o){const m=new Ki;return m.i=o.i,o.g&&(m.g=new Map(o.g),m.h=o.h),m}function Zi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function xs(o,m){m&&!o.j&&(We(o),o.i=null,o.g.forEach(function(p,T){const U=T.toLowerCase();T!=U&&(Su(this,T),Ms(this,U,p))},o)),o.j=m}function Un(o,m){const p=new Mn;if(d.Image){const T=new Image;T.onload=A(En,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(En,p,"TestLoadImage: error",!1,m,T),T.onabort=A(En,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(En,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Kr(o,m){const p=new Mn,T=new AbortController,U=setTimeout(()=>{T.abort(),En(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(P=>{clearTimeout(U),P.ok?En(p,"TestPingServer: ok",!0,m):En(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),En(p,"TestPingServer: error",!1,m)})}function En(o,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function Ji(){this.g=new hu}function ai(o){this.i=o.Sb||null,this.h=o.ab||!1}b(ai,fu),ai.prototype.g=function(){return new Ya(this.i,this.h)};function Ya(o,m){me.call(this),this.H=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ya,me),r=Ya.prototype,r.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=m,this.readyState=1,Ln(this)},r.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(m.body=o),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$i(this)),this.readyState=0},r.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Ln(this)),this.g&&(this.readyState=3,Ln(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zs(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function zs(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}r.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?$i(this):Ln(this),this.readyState==3&&zs(this)}},r.Oa=function(o){this.g&&(this.response=this.responseText=o,$i(this))},r.Na=function(o){this.g&&(this.response=o,$i(this))},r.ga=function(){this.g&&$i(this)};function $i(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Ln(o)}r.setRequestHeader=function(o,m){this.A.append(o,m)},r.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Ln(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ya.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Tn(o){let m="";return xt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Xa(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Tn(p),typeof o=="string"?p!=null&&Si(p):jt(o,m,p))}function Ft(o){me.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ft,me);var si=/^https?$/i,Zr=["POST","PUT"];r=Ft.prototype,r.Fa=function(o){this.H=o},r.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qr.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(P){Ka(this,P);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const P of T.keys())p.set(P,T.get(P));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(P=>P.toLowerCase()=="content-type"),U=d.FormData&&o instanceof d.FormData,!(Array.prototype.indexOf.call(Zr,m,void 0)>=0)||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,$]of p)this.g.setRequestHeader(P,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(P){Ka(this,P)}};function Ka(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.o=5,Jr(o),bi(o)}function Jr(o){o.A||(o.A=!0,Ve(o,"complete"),Ve(o,"error"))}r.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,Ve(this,"complete"),Ve(this,"abort"),bi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),Ft.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Za(this):this.Xa())},r.Xa=function(){Za(this)};function Za(o){if(o.h&&typeof h<"u"){if(o.v&&Bn(o)==4)setTimeout(o.Ca.bind(o),0);else if(Ve(o,"readystatechange"),Bn(o)==4){o.h=!1;try{const P=o.ca();t:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=P===0){let $=String(o.D).match(Eu)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),T=!si.test($?$.toLowerCase():"")}p=T}if(p)Ve(o,"complete"),Ve(o,"success");else{o.o=6;try{var U=Bn(o)>2?o.g.statusText:""}catch{U=""}o.l=U+" ["+o.ca()+"]",Jr(o)}}finally{bi(o)}}}}function bi(o,m){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const p=o.g;o.g=null,m||Ve(o,"ready");try{p.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Bn(o){return o.g?o.g.readyState:0}r.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Ic(m)}};function Le(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ri(o){const m={};o=(o.g&&Bn(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(R(o[T]))continue;var p=yu(o[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const P=m[U]||[];m[U]=P,P.push(p)}Pt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ri(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Wi(o){this.za=0,this.i=[],this.j=new Mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ri("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ri("baseRetryDelayMs",5e3,o),this.Za=ri("retryDelaySeedMs",1e4,o),this.Ta=ri("forwardChannelMaxRetries",2,o),this.va=ri("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Pr(o&&o.concurrentRequestLimit),this.Ba=new Ji,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Wi.prototype,r.ka=8,r.I=1,r.connect=function(o,m,p,T){ge(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=Nu(this,null,this.W),li(this)};function $r(o){if(Us(o),o.I==3){var m=o.V++,p=_e(o.J);if(jt(p,"SID",o.M),jt(p,"RID",m),jt(p,"TYPE","terminate"),Ja(o,p),m=new xn(o,o.j,m),m.M=2,m.A=Qa(_e(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Ou(m.j,null),m.g.ea(m.A)),m.F=Date.now(),$n(m)}Iu(o)}function ta(o){o.g&&(tl(o),o.g.cancel(),o.g=null)}function Us(o){ta(o),o.v&&(d.clearTimeout(o.v),o.v=null),Bs(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&d.clearTimeout(o.m),o.m=null)}function li(o){if(!jr(o.h)&&!o.m){o.m=!0;var m=o.Ea;$t||S(),Mt||($t(),Mt=!0),D.add(m,o),o.D=0}}function Ls(o,m){return ei(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=m.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Kn(_(o.Ea,o,m),Vu(o,o.D)),o.D++,!0)}r.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const U=new xn(this,this.j,o);let P=this.o;if(this.U&&(P?(P=N(P),et(P,this.U)):P=this.U),this.u!==null||this.R||(U.J=P,P=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Ru(this,U,m),p=_e(this.J),jt(p,"RID",o),jt(p,"CVER",22),this.G&&jt(p,"X-HTTP-Session-Id",this.G),Ja(this,p),P&&(this.R?m="headers="+Si(Tn(P))+"&"+m:this.u&&Xa(p,this.u,P)),Hr(this.h,U),this.Ra&&jt(p,"TYPE","init"),this.S?(jt(p,"$req",m),jt(p,"SID","null"),U.U=!0,Jn(U,p,null)):Jn(U,p,m),this.I=2}}else this.I==3&&(o?Wr(this,o):this.i.length==0||jr(this.h)||Wr(this))};function Wr(o,m){var p;m?p=m.l:p=o.V++;const T=_e(o.J);jt(T,"SID",o.M),jt(T,"RID",p),jt(T,"AID",o.K),Ja(o,T),o.u&&o.o&&Xa(T,o.u,o.o),p=new xn(o,o.j,p,o.D+1),o.u===null&&(p.J=o.o),m&&(o.i=m.G.concat(o.i)),m=Ru(o,p,1e3),p.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Hr(o.h,p),Jn(p,T,m)}function Ja(o,m){o.H&&xt(o.H,function(p,T){jt(m,T,p)}),o.l&&xt({},function(p,T){jt(m,T,p)})}function Ru(o,m,p){p=Math.min(o.i.length,p);const T=o.l?_(o.l.Ka,o.l,o):null;t:{var U=o.i;let _t=-1;for(;;){const ce=["count="+p];_t==-1?p>0?(_t=U[0].g,ce.push("ofs="+_t)):_t=0:ce.push("ofs="+_t);let Lt=!0;for(let ae=0;ae<p;ae++){var P=U[ae].g;const An=U[ae].map;if(P-=_t,P<0)_t=Math.max(0,U[ae].g-100),Lt=!1;else try{P="req"+P+"_"||"";try{var $=An instanceof Map?An:Object.entries(An);for(const[oi,qn]of $){let Pn=qn;y(qn)&&(Pn=Fi(qn)),ce.push(P+oi+"="+encodeURIComponent(Pn))}}catch(oi){throw ce.push(P+"type="+encodeURIComponent("_badmap")),oi}}catch{T&&T(An)}}if(Lt){$=ce.join("&");break t}}$=void 0}return o=o.i.splice(0,p),m.G=o,$}function wu(o){if(!o.g&&!o.v){o.Y=1;var m=o.Da;$t||S(),Mt||($t(),Mt=!0),D.add(m,o),o.A=0}}function $a(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Kn(_(o.Da,o),Vu(o,o.A)),o.A++,!0)}r.Da=function(){if(this.v=null,Cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Kn(_(this.Wa,this),o)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),ta(this),Cu(this))};function tl(o){o.B!=null&&(d.clearTimeout(o.B),o.B=null)}function Cu(o){o.g=new xn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var m=_e(o.na);jt(m,"RID","rpc"),jt(m,"SID",o.M),jt(m,"AID",o.K),jt(m,"CI",o.F?"0":"1"),!o.F&&o.ia&&jt(m,"TO",o.ia),jt(m,"TYPE","xmlhttp"),Ja(o,m),o.u&&o.o&&Xa(m,o.u,o.o),o.O&&(o.g.H=o.O);var p=o.g;o=o.ba,p.M=1,p.A=Qa(_e(m)),p.u=null,p.R=!0,Vs(p,o)}r.Va=function(){this.C!=null&&(this.C=null,ta(this),$a(this),ge(19))};function Bs(o){o.C!=null&&(d.clearTimeout(o.C),o.C=null)}function Du(o,m){var p=null;if(o.g==m){Bs(o),tl(o),o.g=null;var T=2}else if(ni(o.h,m))p=m.G,kr(o.h,m),T=1;else return;if(o.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var U=o.D;T=Ds(),Ve(T,new Xn(T,p)),li(o)}else wu(o);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Ls(o,m)||T==2&&$a(o)))switch(p&&p.length>0&&(m=o.h,m.i=m.i.concat(p)),U){case 1:ui(o,5);break;case 4:ui(o,10);break;case 3:ui(o,6);break;default:ui(o,2)}}}function Vu(o,m){let p=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(p*=2),p*m}function ui(o,m){if(o.j.info("Error code "+m),m==2){var p=_(o.bb,o),T=o.Ua;const U=!T;T=new on(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(T,"https"),Qa(T),U?Un(T.toString(),p):Kr(T.toString(),p)}else ge(2);o.I=0,o.l&&o.l.pa(m),Iu(o),Us(o)}r.bb=function(o){o?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function Iu(o){if(o.I=0,o.ja=[],o.l){const m=Gr(o.h);(m.length!=0||o.i.length!=0)&&(J(o.ja,m),J(o.ja,o.i),o.h.i.length=0,k(o.i),o.i.length=0),o.l.oa()}}function Nu(o,m,p){var T=p instanceof on?_e(p):new on(p);if(T.g!="")m&&(T.g=m+"."+T.g),Yi(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const P=new on(null);T&&Me(P,T),m&&(P.g=m),U&&Yi(P,U),p&&(P.h=p),T=P}return p=o.G,m=o.wa,p&&m&&jt(T,p,m),jt(T,"VER",o.ka),Ja(o,T),T}function Ou(o,m,p){if(m&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Aa&&!o.ma?new Ft(new ai({ab:p})):new Ft(o.ma),m.Fa(o.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}r=Mu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ea(){}ea.prototype.g=function(o,m){return new Ze(o,m)};function Ze(o,m){me.call(this),this.g=new Wi(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(o?o["X-WebChannel-Client-Profile"]=m.sa:o={"X-WebChannel-Client-Profile":m.sa}),this.g.U=o,(o=m&&m.Qb)&&!R(o)&&(this.g.u=o),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new wi(this)}b(Ze,me),Ze.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){$r(this.g)},Ze.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.v&&(p={},p.__data__=Fi(o),o=p);m.i.push(new ye(m.Ya++,o)),m.I==3&&li(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,$r(this.g),delete this.g,Ze.Z.N.call(this)};function xu(o){Ue.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}b(xu,Ue);function zu(){_n.call(this),this.status=1}b(zu,_n);function wi(o){this.g=o}b(wi,Mu),wi.prototype.ra=function(){Ve(this.g,"a")},wi.prototype.qa=function(o){Ve(this.g,new xu(o))},wi.prototype.pa=function(o){Ve(this.g,new zu)},wi.prototype.oa=function(){Ve(this.g,"b")},ea.prototype.createWebChannel=ea.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,sv=function(){return new ea},av=function(){return Ds()},iv=oe,Xf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ka.NO_ERROR=0,ka.TIMEOUT=8,ka.HTTP_ERROR=6,Fo=ka,Br.COMPLETE="complete",nv=Br,du.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",me.prototype.listen=me.prototype.J,ql=du,Ft.prototype.listenOnce=Ft.prototype.K,Ft.prototype.getLastError=Ft.prototype.Ha,Ft.prototype.getLastErrorCode=Ft.prototype.ya,Ft.prototype.getStatus=Ft.prototype.ca,Ft.prototype.getResponseJson=Ft.prototype.La,Ft.prototype.getResponseText=Ft.prototype.la,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Fa,ev=Ft}).apply(typeof Po<"u"?Po:typeof self<"u"?self:typeof window<"u"?window:{});const ky="@firebase/firestore",Gy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vr="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new X_("@firebase/firestore");function pr(){return vs.logLevel}function it(r,...e){if(vs.logLevel<=Ot.DEBUG){const i=e.map(_d);vs.debug(`Firestore (${Vr}): ${r}`,...i)}}function ki(r,...e){if(vs.logLevel<=Ot.ERROR){const i=e.map(_d);vs.error(`Firestore (${Vr}): ${r}`,...i)}}function Ar(r,...e){if(vs.logLevel<=Ot.WARN){const i=e.map(_d);vs.warn(`Firestore (${Vr}): ${r}`,...i)}}function _d(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,rv(r,s,i)}function rv(r,e,i){let s=`FIRESTORE (${Vr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw ki(s),new Error(s)}function qt(r,e,i,s){let u="Unexpected state";typeof i=="string"?u=i:s=i,r||rv(e,u,s)}function yt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends Dr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class nA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class iA{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let s=this.i;const u=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new Da;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Da,e.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},y=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Da)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new lv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class aA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new aA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Qy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,P1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const s=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Qy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Qy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=lA(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<i&&(s+=e.charAt(u[h]%62))}return s}}function Ct(r,e){return r<e?-1:r>e?1:0}function Kf(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const u=r.charAt(s),h=e.charAt(s);if(u!==h)return Bf(u)===Bf(h)?Ct(u,h):Bf(u)?1:-1}return Ct(r.length,e.length)}const uA=55296,oA=57343;function Bf(r){const e=r.charCodeAt(0);return e>=uA&&e<=oA}function Sr(r,e,i){return r.length===e.length&&r.every(((s,u)=>i(s,e[u])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="__name__";class mi{constructor(e,i,s){i===void 0?i=0:i>e.length&&ht(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&ht(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const h=mi.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Ct(e.length,i.length)}static compareSegments(e,i){const s=mi.isNumericId(e),u=mi.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?mi.extractNumericId(e).compare(mi.extractNumericId(i)):Kf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ca.fromString(e.substring(4,e.length-2))}}class Jt extends mi{construct(e,i,s){return new Jt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new nt(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((u=>u.length>0)))}return new Jt(i)}static emptyPath(){return new Jt([])}}const cA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends mi{construct(e,i,s){return new ke(e,i,s)}static isValidIdentifier(e){return cA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fy}static keyField(){return new ke([Fy])}static fromServerFormat(e){const i=[];let s="",u=0;const h=()=>{if(s.length===0)throw new nt(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const y=e[u];if(y==="\\"){if(u+1===e.length)throw new nt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new nt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,u+=2}else y==="`"?(d=!d,u++):y!=="."||d?(s+=y,u++):(h(),u++)}if(h(),d)throw new nt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Jt.fromString(e))}static fromName(e){return new ut(Jt.fromString(e).popFirst(5))}static empty(){return new ut(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(r,e,i){if(!i)throw new nt(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function hA(r,e,i,s){if(e===!0&&s===!0)throw new nt(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Yy(r){if(!ut.isDocumentKey(r))throw new nt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Xy(r){if(ut.isDocumentKey(r))throw new nt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ov(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function dc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ht(12329,{type:typeof r})}function pi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new nt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dc(r);throw new nt(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(r,e){const i={typeString:r};return e&&(i.value=e),i}function iu(r,e){if(!ov(r))throw new nt(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const u=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(u&&typeof d!==u){i=`JSON field '${s}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new nt(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=-62135596800,Zy=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(e){return ee.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Zy);return new ee(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new nt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new nt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ky)throw new nt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zy}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,ee._jsonSchema))return new ee(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ky;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:Re("string",ee._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static fromTimestamp(e){return new gt(e)}static min(){return new gt(new ee(0,0))}static max(){return new gt(new ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function fA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,u=gt.fromTimestamp(s===1e9?new ee(i+1,0):new ee(i,s));return new Ia(u,ut.empty(),e)}function dA(r){return new Ia(r.readTime,r.key,Zl)}class Ia{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ia(gt.min(),ut.empty(),Zl)}static max(){return new Ia(gt.max(),ut.empty(),Zl)}}function mA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ut.comparator(r.documentKey,e.documentKey),i!==0?i:Ct(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ir(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==gA)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K(((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,u)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):K.reject(i)}static resolve(e){return new K(((i,s)=>{i(e)}))}static reject(e){return new K(((i,s)=>{s(e)}))}static waitFor(e){return new K(((i,s)=>{let u=0,h=0,d=!1;e.forEach((y=>{++u,y.next((()=>{++h,d&&h===u&&i()}),(v=>s(v)))})),d=!0,h===u&&i()}))}static or(e){let i=K.resolve(!1);for(const s of e)i=i.next((u=>u?K.resolve(u):s()));return i}static forEach(e,i){const s=[];return e.forEach(((u,h)=>{s.push(i.call(this,u,h))})),this.waitFor(s)}static mapArray(e,i){return new K(((s,u)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===h&&s(d)}),(A=>u(A)))}}))}static doWhile(e,i){return new K(((s,u)=>{const h=()=>{e()===!0?i().next((()=>{h()}),u):s()};h()}))}}function yA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Nr(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=-1;function gc(r){return r==null}function nc(r){return r===0&&1/r==-1/0}function _A(r){return typeof r=="number"&&Number.isInteger(r)&&!nc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="";function vA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Jy(e)),e=EA(r.get(i),e);return Jy(e)}function EA(r,e){let i=e;const s=r.length;for(let u=0;u<s;u++){const h=r.charAt(u);switch(h){case"\0":i+="";break;case cv:i+="";break;default:i+=h}}return i}function Jy(r){return r+cv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ua(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function hv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jo(this.root,e,this.comparator,!1)}getReverseIterator(){return new jo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jo(this.root,e,this.comparator,!0)}}class jo{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,s,u,h){this.key=e,this.value=i,this.color=s??He.RED,this.left=u??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,h){return new He(e??this.key,i??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,s),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return He.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ht(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ht(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw ht(57766)}get value(){throw ht(16141)}get color(){throw ht(16727)}get left(){throw ht(29726)}get right(){throw ht(36894)}copy(e,i,s,u,h){return this}insert(e,i,s){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Wy(this.data.getIterator())}getIteratorFrom(e){return new Wy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ne)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ne(this.comparator);return i.data=e,i}}class Wy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new yn([])}unionWith(e){let i=new Ne(ke.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new yn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Sr(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new fv("Invalid base64 string: "+h):h}})(e);return new Ge(i)}static fromUint8Array(e){const i=(function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h})(e);return new Ge(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const TA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(r){if(qt(!!r,39018),typeof r=="string"){let e=0;const i=TA.exec(r);if(qt(!!i,46558,{timestamp:r}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Oa(r){return typeof r=="string"?Ge.fromBase64String(r):Ge.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="server_timestamp",mv="__type__",gv="__previous_value__",pv="__local_write_time__";function Td(r){return(r?.mapValue?.fields||{})[mv]?.stringValue===dv}function pc(r){const e=r.mapValue.fields[gv];return Td(e)?pc(e):e}function Jl(r){const e=Na(r.mapValue.fields[pv].timestampValue);return new ee(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,i,s,u,h,d,y,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const ic="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||ic}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===ic}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="__type__",SA="__max__",Ho={mapValue:{}},_v="__vector__",ac="value";function Ma(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Td(r)?4:RA(r)?9007199254740991:bA(r)?10:11:ht(28295,{value:r})}function Ai(r,e){if(r===e)return!0;const i=Ma(r);if(i!==Ma(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Jl(r).isEqual(Jl(e));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Na(u.timestampValue),y=Na(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(u,h){return Oa(u.bytesValue).isEqual(Oa(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(u,h){return de(u.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(u.geoPointValue.longitude)===de(h.geoPointValue.longitude)})(r,e);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return de(u.integerValue)===de(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=de(u.doubleValue),y=de(h.doubleValue);return d===y?nc(d)===nc(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return Sr(r.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return(function(u,h){const d=u.mapValue.fields||{},y=h.mapValue.fields||{};if($y(d)!==$y(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Ai(d[v],y[v])))return!1;return!0})(r,e);default:return ht(52216,{left:r})}}function Wl(r,e){return(r.values||[]).find((i=>Ai(i,e)))!==void 0}function br(r,e){if(r===e)return 0;const i=Ma(r),s=Ma(e);if(i!==s)return Ct(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ct(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=de(h.integerValue||h.doubleValue),v=de(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return t_(r.timestampValue,e.timestampValue);case 4:return t_(Jl(r),Jl(e));case 5:return Kf(r.stringValue,e.stringValue);case 6:return(function(h,d){const y=Oa(h),v=Oa(d);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=Ct(y[_],v[_]);if(A!==0)return A}return Ct(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Ct(de(h.latitude),de(d.latitude));return y!==0?y:Ct(de(h.longitude),de(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return e_(r.arrayValue,e.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},_=y[ac]?.arrayValue,A=v[ac]?.arrayValue,b=Ct(_?.values?.length||0,A?.values?.length||0);return b!==0?b:e_(_,A)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Ho.mapValue&&d===Ho.mapValue)return 0;if(h===Ho.mapValue)return 1;if(d===Ho.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let b=0;b<v.length&&b<A.length;++b){const O=Kf(v[b],A[b]);if(O!==0)return O;const k=br(y[v[b]],_[A[b]]);if(k!==0)return k}return Ct(v.length,A.length)})(r.mapValue,e.mapValue);default:throw ht(23264,{he:i})}}function t_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ct(r,e);const i=Na(r),s=Na(e),u=Ct(i.seconds,s.seconds);return u!==0?u:Ct(i.nanos,s.nanos)}function e_(r,e){const i=r.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const h=br(i[u],s[u]);if(h)return h}return Ct(i.length,s.length)}function Rr(r){return Zf(r)}function Zf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Na(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Oa(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ut.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",u=!0;for(const h of i.values||[])u?u=!1:s+=",",s+=Zf(h);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of s)h?h=!1:u+=",",u+=`${d}:${Zf(i.fields[d])}`;return u+"}"})(r.mapValue):ht(61005,{value:r})}function Yo(r){switch(Ma(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pc(r);return e?16+Yo(e):16;case 5:return 2*r.stringValue.length;case 6:return Oa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((u,h)=>u+Yo(h)),0)})(r.arrayValue);case 10:case 11:return(function(s){let u=0;return Ua(s.fields,((h,d)=>{u+=h.length+Yo(d)})),u})(r.mapValue);default:throw ht(13486,{value:r})}}function n_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Jf(r){return!!r&&"integerValue"in r}function Ad(r){return!!r&&"arrayValue"in r}function i_(r){return!!r&&"nullValue"in r}function a_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Xo(r){return!!r&&"mapValue"in r}function bA(r){return(r?.mapValue?.fields||{})[yv]?.stringValue===_v}function Gl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ua(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Gl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Gl(r.arrayValue.values[i]);return e}return{...r}}function RA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===SA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Xo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(i)}setAll(e){let i=ke.emptyPath(),s={},u=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,s,u),s={},u=[],i=y.popLast()}d?s[y.lastSegment()]=Gl(d):u.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,u)}delete(e){const i=this.field(e.popLast());Xo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];Xo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){Ua(i,((u,h)=>e[u]=h));for(const u of s)delete e[u]}clone(){return new ln(Gl(this.value))}}function vv(r){const e=[];return Ua(r.fields,((i,s)=>{const u=new ke([i]);if(Xo(s)){const h=vv(s.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)})),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,s,u,h,d,y){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Xe(e,0,gt.min(),gt.min(),gt.min(),ln.empty(),0)}static newFoundDocument(e,i,s,u){return new Xe(e,1,i,gt.min(),s,u,0)}static newNoDocument(e,i){return new Xe(e,2,i,gt.min(),gt.min(),ln.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,gt.min(),gt.min(),ln.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i){this.position=e,this.inclusive=i}}function s_(r,e,i){let s=0;for(let u=0;u<r.position.length;u++){const h=e[u],d=r.position[u];if(h.field.isKeyField()?s=ut.comparator(ut.fromName(d.referenceValue),i.key):s=br(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function r_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ai(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i="asc"){this.field=e,this.dir=i}}function wA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{}class be extends Ev{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new DA(e,i,s):i==="array-contains"?new NA(e,s):i==="in"?new OA(e,s):i==="not-in"?new MA(e,s):i==="array-contains-any"?new xA(e,s):new be(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new VA(e,s):new IA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(br(i,this.value)):i!==null&&Ma(this.value)===Ma(i)&&this.matchesComparison(br(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends Ev{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Qn(e,i)}matches(e){return Tv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Tv(r){return r.op==="and"}function Av(r){return CA(r)&&Tv(r)}function CA(r){for(const e of r.filters)if(e instanceof Qn)return!1;return!0}function $f(r){if(r instanceof be)return r.field.canonicalString()+r.op.toString()+Rr(r.value);if(Av(r))return r.filters.map((e=>$f(e))).join(",");{const e=r.filters.map((i=>$f(i))).join(",");return`${r.op}(${e})`}}function Sv(r,e){return r instanceof be?(function(s,u){return u instanceof be&&s.op===u.op&&s.field.isEqual(u.field)&&Ai(s.value,u.value)})(r,e):r instanceof Qn?(function(s,u){return u instanceof Qn&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce(((h,d,y)=>h&&Sv(d,u.filters[y])),!0):!1})(r,e):void ht(19439)}function bv(r){return r instanceof be?(function(i){return`${i.field.canonicalString()} ${i.op} ${Rr(i.value)}`})(r):r instanceof Qn?(function(i){return i.op.toString()+" {"+i.getFilters().map(bv).join(" ,")+"}"})(r):"Filter"}class DA extends be{constructor(e,i,s){super(e,i,s),this.key=ut.fromName(s.referenceValue)}matches(e){const i=ut.comparator(e.key,this.key);return this.matchesComparison(i)}}class VA extends be{constructor(e,i){super(e,"in",i),this.keys=Rv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class IA extends be{constructor(e,i){super(e,"not-in",i),this.keys=Rv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Rv(r,e){return(e.arrayValue?.values||[]).map((i=>ut.fromName(i.referenceValue)))}class NA extends be{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ad(i)&&Wl(i.arrayValue,this.value)}}class OA extends be{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Wl(this.value.arrayValue,i)}}class MA extends be{constructor(e,i){super(e,"not-in",i)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Wl(this.value.arrayValue,i)}}class xA extends be{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ad(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Wl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,i=null,s=[],u=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function l_(r,e=null,i=[],s=[],u=null,h=null,d=null){return new zA(r,e,i,s,u,h,d)}function Sd(r){const e=yt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>$f(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),gc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Rr(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Rr(s))).join(",")),e.Te=i}return e.Te}function bd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!wA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Sv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!r_(r.startAt,e.startAt)&&r_(r.endAt,e.endAt)}function Wf(r){return ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,i=null,s=[],u=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function UA(r,e,i,s,u,h,d,y){return new au(r,e,i,s,u,h,d,y)}function Rd(r){return new au(r)}function u_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function wv(r){return r.collectionGroup!==null}function Ql(r){const e=yt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ne(ke.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new rc(h,s))})),i.has(ke.keyField().canonicalString())||e.Ie.push(new rc(ke.keyField(),s))}return e.Ie}function yi(r){const e=yt(r);return e.Ee||(e.Ee=LA(e,Ql(r))),e.Ee}function LA(r,e){if(r.limitType==="F")return l_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new rc(u.field,h)}));const i=r.endAt?new sc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new sc(r.startAt.position,r.startAt.inclusive):null;return l_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function td(r,e){const i=r.filters.concat([e]);return new au(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function ed(r,e,i){return new au(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function yc(r,e){return bd(yi(r),yi(e))&&r.limitType===e.limitType}function Cv(r){return`${Sd(yi(r))}|lt:${r.limitType}`}function yr(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((u=>bv(u))).join(", ")}]`),gc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((u=>Rr(u))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((u=>Rr(u))).join(",")),`Target(${s})`})(yi(r))}; limitType=${r.limitType})`}function _c(r,e){return e.isFoundDocument()&&(function(s,u){const h=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ut.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(r,e)&&(function(s,u){for(const h of Ql(s))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0})(r,e)&&(function(s,u){return!(s.startAt&&!(function(d,y,v){const _=s_(d,y,v);return d.inclusive?_<=0:_<0})(s.startAt,Ql(s),u)||s.endAt&&!(function(d,y,v){const _=s_(d,y,v);return d.inclusive?_>=0:_>0})(s.endAt,Ql(s),u))})(r,e)}function BA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Dv(r){return(e,i)=>{let s=!1;for(const u of Ql(r)){const h=qA(u,e,i);if(h!==0)return h;s=s||u.field.isKeyField()}return 0}}function qA(r,e,i){const s=r.field.isKeyField()?ut.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?br(v,_):ht(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ht(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,h]of s)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ua(this.inner,((i,s)=>{for(const[u,h]of s)e(u,h)}))}isEmpty(){return hv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=new re(ut.comparator);function Gi(){return PA}const Vv=new re(ut.comparator);function Pl(...r){let e=Vv;for(const i of r)e=e.insert(i.key,i);return e}function Iv(r){let e=Vv;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function ps(){return Fl()}function Nv(){return Fl()}function Fl(){return new As((r=>r.toString()),((r,e)=>r.isEqual(e)))}const jA=new re(ut.comparator),HA=new Ne(ut.comparator);function Dt(...r){let e=HA;for(const i of r)e=e.add(i);return e}const kA=new Ne(Ct);function GA(){return kA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nc(e)?"-0":e}}function Ov(r){return{integerValue:""+r}}function Mv(r,e){return _A(e)?Ov(e):wd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this._=void 0}}function QA(r,e,i){return r instanceof lc?(function(u,h){const d={fields:{[mv]:{stringValue:dv},[pv]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Td(h)&&(h=pc(h)),h&&(d.fields[gv]=h),{mapValue:d}})(i,e):r instanceof tu?zv(r,e):r instanceof eu?Uv(r,e):(function(u,h){const d=xv(u,h),y=o_(d)+o_(u.Ae);return Jf(d)&&Jf(u.Ae)?Ov(y):wd(u.serializer,y)})(r,e)}function FA(r,e,i){return r instanceof tu?zv(r,e):r instanceof eu?Uv(r,e):i}function xv(r,e){return r instanceof nu?(function(s){return Jf(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class lc extends vc{}class tu extends vc{constructor(e){super(),this.elements=e}}function zv(r,e){const i=Lv(e);for(const s of r.elements)i.some((u=>Ai(u,s)))||i.push(s);return{arrayValue:{values:i}}}class eu extends vc{constructor(e){super(),this.elements=e}}function Uv(r,e){let i=Lv(e);for(const s of r.elements)i=i.filter((u=>!Ai(u,s)));return{arrayValue:{values:i}}}class nu extends vc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function o_(r){return de(r.integerValue||r.doubleValue)}function Lv(r){return Ad(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,i){this.field=e,this.transform=i}}function XA(r,e){return r.field.isEqual(e.field)&&(function(s,u){return s instanceof tu&&u instanceof tu||s instanceof eu&&u instanceof eu?Sr(s.elements,u.elements,Ai):s instanceof nu&&u instanceof nu?Ai(s.Ae,u.Ae):s instanceof lc&&u instanceof lc})(r.transform,e.transform)}class KA{constructor(e,i){this.version=e,this.transformResults=i}}class Gn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ko(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ec{}function Bv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Cd(r.key,Gn.none()):new su(r.key,r.data,Gn.none());{const i=r.data,s=ln.empty();let u=new Ne(ke.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),u=u.add(h)}return new La(r.key,s,new yn(u.toArray()),Gn.none())}}function ZA(r,e,i){r instanceof su?(function(u,h,d){const y=u.value.clone(),v=h_(u.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof La?(function(u,h,d){if(!Ko(u.precondition,h))return void h.convertToUnknownDocument(d.version);const y=h_(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(qv(u)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Yl(r,e,i,s){return r instanceof su?(function(h,d,y,v){if(!Ko(h.precondition,d))return y;const _=h.value.clone(),A=f_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof La?(function(h,d,y,v){if(!Ko(h.precondition,d))return y;const _=f_(h.fieldTransforms,v,d),A=d.data;return A.setAll(qv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((b=>b.field)))})(r,e,i,s):(function(h,d,y){return Ko(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function JA(r,e){let i=null;for(const s of r.fieldTransforms){const u=e.data.field(s.field),h=xv(s.transform,u||null);h!=null&&(i===null&&(i=ln.empty()),i.set(s.field,h))}return i||null}function c_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&Sr(s,u,((h,d)=>XA(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class su extends Ec{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class La extends Ec{constructor(e,i,s,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function qv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function h_(r,e,i){const s=new Map;qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let u=0;u<i.length;u++){const h=r[u],d=h.transform,y=e.data.field(h.field);s.set(h.field,FA(d,y,i[u]))}return s}function f_(r,e,i){const s=new Map;for(const u of r){const h=u.transform,d=i.data.field(u.field);s.set(u.field,QA(h,d,e))}return s}class Cd extends Ec{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $A extends Ec{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&ZA(h,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Yl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Yl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Nv();return this.mutations.forEach((u=>{const h=e.get(u.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(u.key)?null:y;const v=Bv(d,y);v!==null&&s.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(gt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Dt())}isEqual(e){return this.batchId===e.batchId&&Sr(this.mutations,e.mutations,((i,s)=>c_(i,s)))&&Sr(this.baseMutations,e.baseMutations,((i,s)=>c_(i,s)))}}class Dd{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){qt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let u=(function(){return jA})();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,s[d].version);return new Dd(e,i,s,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,Nt;function nS(r){switch(r){case X.OK:return ht(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ht(15467,{code:r})}}function Pv(r){if(r===void 0)return ki("GRPC error has no .code"),X.UNKNOWN;switch(r){case Se.OK:return X.OK;case Se.CANCELLED:return X.CANCELLED;case Se.UNKNOWN:return X.UNKNOWN;case Se.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Se.INTERNAL:return X.INTERNAL;case Se.UNAVAILABLE:return X.UNAVAILABLE;case Se.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Se.NOT_FOUND:return X.NOT_FOUND;case Se.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Se.ABORTED:return X.ABORTED;case Se.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Se.DATA_LOSS:return X.DATA_LOSS;default:return ht(39323,{code:r})}}(Nt=Se||(Se={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=new Ca([4294967295,4294967295],0);function d_(r){const e=iS().encode(r),i=new tv;return i.update(e),new Uint8Array(i.digest())}function m_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ca([i,s],0),new Ca([u,h],0)]}class Vd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new jl(`Invalid padding: ${i}`);if(s<0)throw new jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new jl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ca.fromNumber(this.ge)}ye(e,i,s){let u=e.add(i.multiply(Ca.fromNumber(s)));return u.compare(aS)===1&&(u=new Ca([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=d_(e),[s,u]=m_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,u,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Vd(h,u,i);return s.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=d_(e),[s,u]=m_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,i,s,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Tc(gt.min(),u,new re(Ct),Gi(),Dt())}}class ru{constructor(e,i,s,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new ru(s,i,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,i,s,u){this.be=e,this.removedTargetIds=i,this.key=s,this.De=u}}class jv{constructor(e,i){this.targetId=e,this.Ce=i}}class Hv{constructor(e,i,s=Ge.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class g_{constructor(){this.ve=0,this.Fe=p_(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Dt(),i=Dt(),s=Dt();return this.Fe.forEach(((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:ht(38017,{changeType:h})}})),new ru(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=p_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class sS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Gi(),this.Je=ko(),this.He=ko(),this.Ye=new re(Ct)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:ht(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,u)=>{this.rt(u)&&i(u)}))}st(e){const i=e.targetId,s=e.Ce.count,u=this.ot(i);if(u){const h=u.target;if(Wf(h))if(s===0){const d=new ut(h.path);this.et(i,d,Xe.newNoDocument(d,gt.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let d,y;try{d=Oa(s).toUint8Array()}catch(v){if(v instanceof fv)return Ar("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Vd(d,u,h)}catch(v){return Ar(v instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let u=0;return s.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),u++)})),u}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&Wf(y.target)){const v=new ut(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let s=Dt();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const u=new Tc(e,i,this.Ye,this.je,s);return this.je=Gi(),this.Je=ko(),this.He=ko(),this.Ye=new re(Ct),u}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new g_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ne(Ct),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ne(Ct),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new g_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function ko(){return new re(ut.comparator)}function p_(){return new re(ut.comparator)}const rS={asc:"ASCENDING",desc:"DESCENDING"},lS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uS={and:"AND",or:"OR"};class oS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function nd(r,e){return r.useProto3Json||gc(e)?e:{value:e}}function uc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function cS(r,e){return uc(r,e.toTimestamp())}function _i(r){return qt(!!r,49232),gt.fromTimestamp((function(i){const s=Na(i);return new ee(s.seconds,s.nanos)})(r))}function Id(r,e){return id(r,e).canonicalString()}function id(r,e){const i=(function(u){return new Jt(["projects",u.projectId,"databases",u.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Gv(r){const e=Jt.fromString(r);return qt(Kv(e),10190,{key:e.toString()}),e}function ad(r,e){return Id(r.databaseId,e.path)}function qf(r,e){const i=Gv(e);if(i.get(1)!==r.databaseId.projectId)throw new nt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new nt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ut(Fv(i))}function Qv(r,e){return Id(r.databaseId,e)}function hS(r){const e=Gv(r);return e.length===4?Jt.emptyPath():Fv(e)}function sd(r){return new Jt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Fv(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function y_(r,e,i){return{name:ad(r,e),fields:i.value.mapValue.fields}}function fS(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ht(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Ge.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ge.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?X.UNKNOWN:Pv(_.code);return new nt(A,_.message||"")})(d);i=new Hv(s,u,h,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=qf(r,s.document.name),h=_i(s.document.updateTime),d=s.document.createTime?_i(s.document.createTime):gt.min(),y=new ln({mapValue:{fields:s.document.fields}}),v=Xe.newFoundDocument(u,h,d,y),_=s.targetIds||[],A=s.removedTargetIds||[];i=new Zo(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=qf(r,s.document),h=s.readTime?_i(s.readTime):gt.min(),d=Xe.newNoDocument(u,h),y=s.removedTargetIds||[];i=new Zo([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=qf(r,s.document),h=s.removedTargetIds||[];i=new Zo([],h,u,null)}else{if(!("filter"in e))return ht(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:h}=s,d=new eS(u,h),y=s.targetId;i=new jv(y,d)}}return i}function dS(r,e){let i;if(e instanceof su)i={update:y_(r,e.key,e.value)};else if(e instanceof Cd)i={delete:ad(r,e.key)};else if(e instanceof La)i={update:y_(r,e.key,e.data),updateMask:AS(e.fieldMask)};else{if(!(e instanceof $A))return ht(16599,{Vt:e.type});i={verify:ad(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const y=d.transform;if(y instanceof lc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof tu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof eu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof nu)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw ht(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(u,h){return h.updateTime!==void 0?{updateTime:cS(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:ht(27497)})(r,e.precondition)),i}function mS(r,e){return r&&r.length>0?(qt(e!==void 0,14353),r.map((i=>(function(u,h){let d=u.updateTime?_i(u.updateTime):_i(h);return d.isEqual(gt.min())&&(d=_i(h)),new KA(d,u.transformResults||[])})(i,e)))):[]}function gS(r,e){return{documents:[Qv(r,e.path)]}}function pS(r,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Qv(r,u);const h=(function(_){if(_.length!==0)return Xv(Qn.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(O){return{field:_r(O.field),direction:vS(O.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=nd(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:u}}function yS(r){let e=hS(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){qt(s===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(b){const O=Yv(b);return O instanceof Qn&&Av(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((O=>(function(J){return new rc(vr(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(O)))})(i.orderBy));let y=null;i.limit&&(y=(function(b){let O;return O=typeof b=="object"?b.value:b,gc(O)?null:O})(i.limit));let v=null;i.startAt&&(v=(function(b){const O=!!b.before,k=b.values||[];return new sc(k,O)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const O=!b.before,k=b.values||[];return new sc(k,O)})(i.endAt)),UA(e,u,d,h,y,"F",v,_)}function _S(r,e){const i=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht(28987,{purpose:u})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Yv(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=vr(i.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=vr(i.unaryFilter.field);return be.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=vr(i.unaryFilter.field);return be.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=vr(i.unaryFilter.field);return be.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ht(61313);default:return ht(60726)}})(r):r.fieldFilter!==void 0?(function(i){return be.create(vr(i.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ht(58110);default:return ht(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Qn.create(i.compositeFilter.filters.map((s=>Yv(s))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return ht(1026)}})(i.compositeFilter.op))})(r):ht(30097,{filter:r})}function vS(r){return rS[r]}function ES(r){return lS[r]}function TS(r){return uS[r]}function _r(r){return{fieldPath:r.canonicalString()}}function vr(r){return ke.fromServerFormat(r.fieldPath)}function Xv(r){return r instanceof be?(function(i){if(i.op==="=="){if(a_(i.value))return{unaryFilter:{field:_r(i.field),op:"IS_NAN"}};if(i_(i.value))return{unaryFilter:{field:_r(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(a_(i.value))return{unaryFilter:{field:_r(i.field),op:"IS_NOT_NAN"}};if(i_(i.value))return{unaryFilter:{field:_r(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_r(i.field),op:ES(i.op),value:i.value}}})(r):r instanceof Qn?(function(i){const s=i.getFilters().map((u=>Xv(u)));return s.length===1?s[0]:{compositeFilter:{op:TS(i.op),filters:s}}})(r):ht(54877,{filter:r})}function AS(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Kv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,i,s,u,h=gt.min(),d=gt.min(),y=Ge.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.yt=e}}function bS(r){const e=yS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.Cn=new wS}addToCollectionParentIndex(e,i){return this.Cn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(Ia.min())}updateCollectionGroup(e,i,s){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class wS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new Ne(Jt.comparator),h=!u.has(s);return this.index[i]=u.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Ne(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zv=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(Zv,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wr(0)}static cr(){return new wr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="LruGarbageCollector",CS=1048576;function E_([r,e],[i,s]){const u=Ct(r,i);return u===0?Ct(e,s):u}class DS{constructor(e){this.Ir=e,this.buffer=new Ne(E_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();E_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class VS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){it(v_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Nr(i)?it(v_,"Ignoring IndexedDB error during garbage collection: ",i):await Ir(i)}await this.Vr(3e5)}))}}class IS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return K.resolve(mc.ce);const s=new DS(i);return this.mr.forEachTarget(e,(u=>s.Ar(u.sequenceNumber))).next((()=>this.mr.pr(e,(u=>s.Ar(u))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(__)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),__):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,u,h,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),u=this.params.maximumSequenceNumbersToCollect):u=b,d=Date.now(),this.nthSequenceNumber(e,u)))).next((b=>(s=b,y=Date.now(),this.removeTargets(e,s,i)))).next((b=>(h=b,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(_=Date.now(),pr()<=Ot.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${b} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:b}))))}}function NS(r,e){return new IS(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.changes=new As((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?K.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((u=>(s=u,this.remoteDocumentCache.getEntry(e,i)))).next((u=>(s!==null&&Yl(s.mutation,u,yn.empty(),ee.now()),u)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Dt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Dt()){const u=ps();return this.populateOverlays(e,u,i).next((()=>this.computeViews(e,i,u,s).next((h=>{let d=Pl();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=ps();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Dt())))}populateOverlays(e,i,s){const u=[];return s.forEach((h=>{i.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(e,u).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,s,u){let h=Gi();const d=Fl(),y=(function(){return Fl()})();return i.forEach(((v,_)=>{const A=s.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof La)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Yl(A.mutation,_,A.mutation.getFieldMask(),ee.now())):d.set(_.key,yn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new MS(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const s=Fl();let u=new re(((d,y)=>d-y)),h=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||yn.empty();A=y.applyToLocalView(_,A),s.set(v,A);const b=(u.get(y.batchId)||Dt()).add(v);u=u.insert(y.batchId,b)}))})).next((()=>{const d=[],y=u.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,b=Nv();A.forEach((O=>{if(!h.has(O)){const k=Bv(i.get(O),s.get(O));k!==null&&b.set(O,k),h=h.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,b))}return K.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,u){return(function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):wv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next((h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-h.size):K.resolve(ps());let y=Zl,v=h;return d.next((_=>K.forEach(_,((A,b)=>(y<b.largestBatchId&&(y=b.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(e,A).next((O=>{v=v.insert(A,O)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Dt()))).next((A=>({batchId:y,changes:Iv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ut(i)).next((s=>{let u=Pl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const h=i.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(e,h).next((y=>K.forEach(y,(v=>{const _=(function(b,O){return new au(O,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,u).next((A=>{A.forEach(((b,O)=>{d=d.insert(b,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,u)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let y=Pl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&Yl(A.mutation,_,yn.empty(),ee.now()),_c(i,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(u){return{id:u.id,version:u.version,createTime:_i(u.createTime)}})(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(u){return{name:u.name,query:bS(u.bundledQuery),readTime:_i(u.readTime)}})(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.overlays=new re(ut.comparator),this.qr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ps();return K.forEach(i,(u=>this.getOverlay(e,u).next((h=>{h!==null&&s.set(u,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((u,h)=>{this.St(e,i,h)})),K.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.qr.get(s);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),K.resolve()}getOverlaysForCollection(e,i,s){const u=ps(),h=i.length+1,d=new ut(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&u.set(v.getKey(),v)}return K.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let h=new re(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=h.get(_.largestBatchId);A===null&&(A=ps(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=ps(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=u)););return K.resolve(y)}St(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(s.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new tS(i,s));let h=this.qr.get(i);h===void 0&&(h=Dt(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(){this.Qr=new Ne(ze.$r),this.Ur=new Ne(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new ze(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new ze(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new ut(new Jt([])),s=new ze(i,e),u=new ze(i,e+1),h=[];return this.Ur.forEachInRange([s,u],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ut(new Jt([])),s=new ze(i,e),u=new ze(i,e+1);let h=Dt();return this.Ur.forEachInRange([s,u],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new ze(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class ze{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ut.comparator(e.key,i.key)||Ct(e.Yr,i.Yr)}static Kr(e,i){return Ct(e.Yr,i.Yr)||ut.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ne(ze.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new WA(h,i,s,u);this.mutationQueue.push(d);for(const y of u)this.Zr=this.Zr.add(new ze(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.ei(s),h=u<0?0:u;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Ed:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new ze(i,0),u=new ze(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,u],(d=>{const y=this.Xr(d.Yr);h.push(y)})),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ne(Ct);return i.forEach((u=>{const h=new ze(u,0),d=new ze(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{s=s.add(y.Yr)}))})),K.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let h=s;ut.isDocumentKey(h)||(h=h.child(""));const d=new ze(new ut(h),0);let y=new Ne(Ct);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===u&&(y=y.add(v.Yr)),!0)}),d),K.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((s=>{const u=this.Xr(s);u!==null&&i.push(u)})),i}removeMutationBatch(e,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return K.forEach(i.mutations,(u=>{const h=new ze(u.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new ze(i,0),u=this.Zr.firstAfterOrEqual(s);return K.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.ri=e,this.docs=(function(){return new re(ut.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),h=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return K.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let s=Gi();return i.forEach((u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():Xe.newInvalidDocument(u))})),K.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let h=Gi();const d=i.path,y=new ut(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||mA(dA(A),s)<=0||(u.has(A.key)||_c(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(e,i,s,u){ht(9500)}ii(e,i){return K.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new PS(this)}getSize(e){return K.resolve(this.size)}}class PS extends OS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(s)})),K.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.persistence=e,this.si=new As((i=>Sd(i)),bd),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.oi=0,this._i=new Nd,this.targetCount=0,this.ai=wr.ur()}forEachTarget(e,i){return this.si.forEach(((s,u)=>i(u))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),K.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new wr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.Pr(i),K.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,s){let u=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&s.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),u++)})),K.waitFor(h).next((()=>u))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return K.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),K.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach((d=>{h.push(u.markPotentiallyOrphaned(e,d))})),K.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return K.resolve(s)}containsKey(e,i){return K.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,i){this.ui={},this.overlays={},this.ci=new mc(0),this.li=!1,this.li=!0,this.hi=new LS,this.referenceDelegate=e(this),this.Pi=new jS(this),this.indexManager=new RS,this.remoteDocumentCache=(function(u){return new qS(u)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new SS(i),this.Ii=new zS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new US,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new BS(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){it("MemoryPersistence","Starting transaction:",e);const u=new HS(this.ci.next());return this.referenceDelegate.Ei(),s(u).next((h=>this.referenceDelegate.di(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ai(e,i){return K.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class HS extends pA{constructor(e){super(),this.currentSequenceNumber=e}}class Od{constructor(e){this.persistence=e,this.Ri=new Nd,this.Vi=null}static mi(e){return new Od(e)}get fi(){if(this.Vi)return this.Vi;throw ht(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),K.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((u=>this.fi.add(u.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((u=>{u.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(s=>{const u=ut.fromPath(s);return this.gi(e,u).next((h=>{h||i.removeEntry(u,gt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class oc{constructor(e,i){this.persistence=e,this.pi=new As((s=>vA(s.path)),((s,u)=>s.isEqual(u))),this.garbageCollector=NS(this,i)}static mi(e,i){return new oc(e,i)}Ei(){}di(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((u=>s+u))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return K.forEach(this.pi,((s,u)=>this.br(e,s,u).next((h=>h?K.resolve():i(u)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(e,(d=>this.br(e,d,i).next((y=>{y||(s++,h.removeEntry(d,gt.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Yo(e.data.value)),i}br(e,i,s){return K.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return K.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=u}static As(e,i){let s=Dt(),u=Dt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Md(e,i.fromCache,s,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return LT()?8:yA(zT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,u){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,u,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new kS;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,s,u){return s.documentReadCount<this.fs?(pr()<=Ot.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",yr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(pr()<=Ot.DEBUG&&it("QueryEngine","Query:",yr(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.gs*u?(pr()<=Ot.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",yr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(i))):K.resolve())}ys(e,i){if(u_(i))return K.resolve(null);let s=yi(i);return this.indexManager.getIndexType(e,s).next((u=>u===0?null:(i.limit!==null&&u===1&&(i=ed(i,null,"F"),s=yi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=Dt(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,ed(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,s,u){return u_(i)||u.isEqual(gt.min())?K.resolve(null):this.ps.getDocuments(e,s).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,u)?K.resolve(null):(pr()<=Ot.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),yr(i)),this.vs(e,d,i,fA(u,Zl)).next((y=>y)))}))}Ds(e,i){let s=new Ne(Dv(e));return i.forEach(((u,h)=>{_c(e,h)&&(s=s.add(h))})),s}Cs(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,s){return pr()<=Ot.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",yr(i)),this.ps.getDocumentsMatchingQuery(e,i,Ia.min(),s)}vs(e,i,s,u){return this.ps.getDocumentsMatchingQuery(e,s,u).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="LocalStore",QS=3e8;class FS{constructor(e,i,s,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new re(Ct),this.xs=new As((h=>Sd(h)),bd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function YS(r,e,i,s){return new FS(r,e,i,s)}async function $v(r,e){const i=yt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next((h=>(u=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],y=[];let v=Dt();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function XS(r,e){const i=yt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const u=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,A){const b=_.batch,O=b.keys();let k=K.resolve();return O.forEach((J=>{k=k.next((()=>A.getEntry(v,J))).next((W=>{const Z=_.docVersions.get(J);qt(Z!==null,48541),W.version.compareTo(Z)<0&&(b.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),A.addEntry(W)))}))})),k.next((()=>y.mutationQueue.removeMutationBatch(v,b)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let v=Dt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,u)))}))}function Wv(r){const e=yt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function KS(r,e){const i=yt(r),s=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const y=[];e.targetChanges.forEach(((A,b)=>{const O=u.get(b);if(!O)return;y.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,b))));let k=O.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(b)!==null?k=k.withResumeToken(Ge.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):A.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(A.resumeToken,s)),u=u.insert(b,k),(function(W,Z,ft){return W.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=QS?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(O,k,A)&&y.push(i.Pi.updateTargetData(h,k))}));let v=Gi(),_=Dt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(ZS(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!s.isEqual(gt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((b=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));y.push(A)}return K.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=u,h)))}function ZS(r,e,i){let s=Dt(),u=Dt();return i.forEach((h=>s=s.add(h))),e.getEntries(r,s).next((h=>{let d=Gi();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(y)),v.isNoDocument()&&v.version.isEqual(gt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):it(xd,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:u}}))}function JS(r,e){const i=yt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ed),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function $S(r,e){const i=yt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let u;return i.Pi.getTargetData(s,e).next((h=>h?(u=h,K.resolve(u)):i.Pi.allocateTargetId(s).next((d=>(u=new ba(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,u).next((()=>u)))))))})).then((s=>{const u=i.Ms.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function rd(r,e,i){const s=yt(r),u=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!Nr(d))throw d;it(xd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(u.target)}function T_(r,e,i){const s=yt(r);let u=gt.min(),h=Dt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const b=yt(v),O=b.xs.get(A);return O!==void 0?K.resolve(b.Ms.get(O)):b.Pi.getTargetData(_,A)})(s,d,yi(e)).next((y=>{if(y)return u=y.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?u:gt.min(),i?h:Dt()))).next((y=>(WS(s,BA(e),y),{documents:y,Qs:h})))))}function WS(r,e,i){let s=r.Os.get(e)||gt.min();i.forEach(((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),r.Os.set(e,s)}class A_{constructor(){this.activeTargetIds=GA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tb{constructor(){this.Mo=new A_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new A_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="ConnectivityMonitor";class b_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(S_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){it(S_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go=null;function ld(){return Go===null?Go=(function(){return 268435456+Math.round(2147483648*Math.random())})():Go++,"0x"+Go.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="RestConnection",nb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ib{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${u}`,this.Wo=this.databaseId.database===ic?`project_id=${s}`:`project_id=${s}&database_id=${u}`}Go(e,i,s,u,h){const d=ld(),y=this.zo(e,i.toUriEncodedString());it(Pf,`Sending RPC '${e}' ${d}:`,y,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,h);const{host:_}=new URL(y),A=pd(_);return this.Jo(e,y,v,s,A).then((b=>(it(Pf,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw Ar(Pf,`RPC '${e}' ${d} failed with error: `,b,"url: ",y,"request:",s),b}))}Ho(e,i,s,u,h,d){return this.Go(e,i,s,u,h)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,h)=>e[h]=u)),s&&s.headers.forEach(((u,h)=>e[h]=u))}zo(e,i){const s=nb[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class sb extends ib{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,u,h){const d=ld();return new Promise(((y,v)=>{const _=new ev;_.setWithCredentials(!0),_.listenOnce(nv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Fo.NO_ERROR:const b=_.getResponseJson();it(Fe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),y(b);break;case Fo.TIMEOUT:it(Fe,`RPC '${e}' ${d} timed out`),v(new nt(X.DEADLINE_EXCEEDED,"Request time out"));break;case Fo.HTTP_ERROR:const O=_.getStatus();if(it(Fe,`RPC '${e}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let k=_.getResponseJson();Array.isArray(k)&&(k=k[0]);const J=k?.error;if(J&&J.status&&J.message){const W=(function(ft){const At=ft.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(At)>=0?At:X.UNKNOWN})(J.status);v(new nt(W,J.message))}else v(new nt(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new nt(X.UNAVAILABLE,"Connection failed."));break;default:ht(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Fe,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(u);it(Fe,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,s,15)}))}T_(e,i,s){const u=ld(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=sv(),y=av(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=h.join("");it(Fe,`Creating RPC '${e}' stream ${u}: ${A}`,v);const b=d.createWebChannel(A,v);this.I_(b);let O=!1,k=!1;const J=new ab({Yo:Z=>{k?it(Fe,`Not sending because RPC '${e}' stream ${u} is closed:`,Z):(O||(it(Fe,`Opening RPC '${e}' stream ${u} transport.`),b.open(),O=!0),it(Fe,`RPC '${e}' stream ${u} sending:`,Z),b.send(Z))},Zo:()=>b.close()}),W=(Z,ft,At)=>{Z.listen(ft,(dt=>{try{At(dt)}catch(Qt){setTimeout((()=>{throw Qt}),0)}}))};return W(b,ql.EventType.OPEN,(()=>{k||(it(Fe,`RPC '${e}' stream ${u} transport opened.`),J.o_())})),W(b,ql.EventType.CLOSE,(()=>{k||(k=!0,it(Fe,`RPC '${e}' stream ${u} transport closed`),J.a_(),this.E_(b))})),W(b,ql.EventType.ERROR,(Z=>{k||(k=!0,Ar(Fe,`RPC '${e}' stream ${u} transport errored. Name:`,Z.name,"Message:",Z.message),J.a_(new nt(X.UNAVAILABLE,"The operation could not be completed")))})),W(b,ql.EventType.MESSAGE,(Z=>{if(!k){const ft=Z.data[0];qt(!!ft,16349);const At=ft,dt=At?.error||At[0]?.error;if(dt){it(Fe,`RPC '${e}' stream ${u} received error:`,dt);const Qt=dt.status;let $t=(function(S){const C=Se[S];if(C!==void 0)return Pv(C)})(Qt),Mt=dt.message;$t===void 0&&($t=X.INTERNAL,Mt="Unknown error status: "+Qt+" with message "+dt.message),k=!0,J.a_(new nt($t,Mt)),b.close()}else it(Fe,`RPC '${e}' stream ${u} received:`,ft),J.u_(ft)}})),W(y,iv.STAT_EVENT,(Z=>{Z.stat===Xf.PROXY?it(Fe,`RPC '${e}' stream ${u} detected buffering proxy`):Z.stat===Xf.NOPROXY&&it(Fe,`RPC '${e}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function jf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(r){return new oS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,i,s=1e3,u=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-s);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="PersistentStream";class e0{constructor(e,i,s,u,h,d,y,v){this.Mi=e,this.S_=s,this.b_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new t0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(ki(i.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,u])=>{this.D_===i&&this.G_(s,u)}),(s=>{e((()=>{const u=new nt(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(u)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{s((()=>this.z_(u)))})),this.stream.onMessage((u=>{s((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return it(R_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(it(R_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rb extends e0{constructor(e,i,s,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=fS(this.serializer,e),s=(function(h){if(!("targetChange"in h))return gt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?gt.min():d.readTime?_i(d.readTime):gt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=sd(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=Wf(v)?{documents:gS(h,v)}:{query:pS(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=kv(h,d.resumeToken);const _=nd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(gt.min())>0){y.readTime=uc(h,d.snapshotVersion.toTimestamp());const _=nd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const s=_S(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=sd(this.serializer),i.removeTarget=e,this.q_(i)}}class lb extends e0{constructor(e,i,s,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=mS(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=sd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>dS(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{}class ob extends ub{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new nt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,id(i,s),u,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new nt(X.UNKNOWN,h.toString())}))}Ho(e,i,s,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,id(i,s),u,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new nt(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class cb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ki(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="RemoteStore";class hb{constructor(e,i,s,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Ss(this)&&(it(Es,"Restarting streams for network reachability change."),await(async function(v){const _=yt(v);_.Ea.add(4),await lu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Sc(_)})(this))}))})),this.Ra=new cb(s,u)}}async function Sc(r){if(Ss(r))for(const e of r.da)await e(!0)}async function lu(r){for(const e of r.da)await e(!1)}function n0(r,e){const i=yt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Bd(i)?Ld(i):Or(i).O_()&&Ud(i,e))}function zd(r,e){const i=yt(r),s=Or(i);i.Ia.delete(e),s.O_()&&i0(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ss(i)&&i.Ra.set("Unknown"))}function Ud(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Or(r).Y_(e)}function i0(r,e){r.Va.Ue(e),Or(r).Z_(e)}function Ld(r){r.Va=new sS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Or(r).start(),r.Ra.ua()}function Bd(r){return Ss(r)&&!Or(r).x_()&&r.Ia.size>0}function Ss(r){return yt(r).Ea.size===0}function a0(r){r.Va=void 0}async function fb(r){r.Ra.set("Online")}async function db(r){r.Ia.forEach(((e,i)=>{Ud(r,e)}))}async function mb(r,e){a0(r),Bd(r)?(r.Ra.ha(e),Ld(r)):r.Ra.set("Unknown")}async function gb(r,e,i){if(r.Ra.set("Online"),e instanceof Hv&&e.state===2&&e.cause)try{await(async function(u,h){const d=h.cause;for(const y of h.targetIds)u.Ia.has(y)&&(await u.remoteSyncer.rejectListen(y,d),u.Ia.delete(y),u.Va.removeTarget(y))})(r,e)}catch(s){it(Es,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await cc(r,s)}else if(e instanceof Zo?r.Va.Ze(e):e instanceof jv?r.Va.st(e):r.Va.tt(e),!i.isEqual(gt.min()))try{const s=await Wv(r.localStore);i.compareTo(s)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Ge.EMPTY_BYTE_STRING,A.snapshotVersion)),i0(h,v);const b=new ba(A.target,v,_,A.sequenceNumber);Ud(h,b)})),h.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(s){it(Es,"Failed to raise snapshot:",s),await cc(r,s)}}async function cc(r,e,i){if(!Nr(e))throw e;r.Ea.add(1),await lu(r),r.Ra.set("Offline"),i||(i=()=>Wv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(Es,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Sc(r)}))}function s0(r,e){return e().catch((i=>cc(r,i,e)))}async function bc(r){const e=yt(r),i=xa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ed;for(;pb(e);)try{const u=await JS(e.localStore,s);if(u===null){e.Ta.length===0&&i.L_();break}s=u.batchId,yb(e,u)}catch(u){await cc(e,u)}r0(e)&&l0(e)}function pb(r){return Ss(r)&&r.Ta.length<10}function yb(r,e){r.Ta.push(e);const i=xa(r);i.O_()&&i.X_&&i.ea(e.mutations)}function r0(r){return Ss(r)&&!xa(r).x_()&&r.Ta.length>0}function l0(r){xa(r).start()}async function _b(r){xa(r).ra()}async function vb(r){const e=xa(r);for(const i of r.Ta)e.ea(i.mutations)}async function Eb(r,e,i){const s=r.Ta.shift(),u=Dd.from(s,e,i);await s0(r,(()=>r.remoteSyncer.applySuccessfulWrite(u))),await bc(r)}async function Tb(r,e){e&&xa(r).X_&&await(async function(s,u){if((function(d){return nS(d)&&d!==X.ABORTED})(u.code)){const h=s.Ta.shift();xa(s).B_(),await s0(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,u))),await bc(s)}})(r,e),r0(r)&&l0(r)}async function w_(r,e){const i=yt(r);i.asyncQueue.verifyOperationInProgress(),it(Es,"RemoteStore received new credentials");const s=Ss(i);i.Ea.add(3),await lu(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Sc(i)}async function Ab(r,e){const i=yt(r);e?(i.Ea.delete(2),await Sc(i)):e||(i.Ea.add(2),await lu(i),i.Ra.set("Unknown"))}function Or(r){return r.ma||(r.ma=(function(i,s,u){const h=yt(i);return h.sa(),new rb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(r.datastore,r.asyncQueue,{Xo:fb.bind(null,r),t_:db.bind(null,r),r_:mb.bind(null,r),H_:gb.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Bd(r)?Ld(r):r.Ra.set("Unknown")):(await r.ma.stop(),a0(r))}))),r.ma}function xa(r){return r.fa||(r.fa=(function(i,s,u){const h=yt(i);return h.sa(),new lb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:_b.bind(null,r),r_:Tb.bind(null,r),ta:vb.bind(null,r),na:Eb.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await bc(r)):(await r.fa.stop(),r.Ta.length>0&&(it(Es,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,i,s,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new Da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,h){const d=Date.now()+s,y=new qd(e,i,d,u,h);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pd(r,e){if(ki("AsyncQueue",`${e}: ${r}`),Nr(r))return new nt(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{static emptySet(e){return new Tr(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ut.comparator(i.key,s.key):(i,s)=>ut.comparator(i.key,s.key),this.keyedMap=Pl(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Tr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.ga=new re(ut.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ht(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Cr{constructor(e,i,s,u,h,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,u,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Cr(e,i,Tr.emptySet(i),d,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class bb{constructor(){this.queries=D_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const u=yt(i),h=u.queries;u.queries=D_(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(s)}))})(this,new nt(X.ABORTED,"Firestore shutting down"))}}function D_(){return new As((r=>Cv(r)),yc)}async function u0(r,e){const i=yt(r);let s=3;const u=e.query;let h=i.queries.get(u);h?!h.ba()&&e.Da()&&(s=2):(h=new Sb,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(u,!0);break;case 1:h.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const y=Pd(d,`Initialization of query '${yr(e.query)}' failed`);return void e.onError(y)}i.queries.set(u,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&jd(i)}async function o0(r,e){const i=yt(r),s=e.query;let u=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.Da()?0:1:!h.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Rb(r,e){const i=yt(r);let s=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(u)&&(s=!0);d.wa=u}}s&&jd(i)}function wb(r,e,i){const s=yt(r),u=s.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);s.queries.delete(e)}function jd(r){r.Ca.forEach((e=>{e.next()}))}var ud,V_;(V_=ud||(ud={})).Ma="default",V_.Cache="cache";class c0{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new Cr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Cr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ud.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e){this.key=e}}class f0{constructor(e){this.key=e}}class Cb{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Dt(),this.mutatedKeys=Dt(),this.eu=Dv(e),this.tu=new Tr(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new C_,u=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,y=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(((A,b)=>{const O=u.get(A),k=_c(this.query,b)?b:null,J=!!O&&this.mutatedKeys.has(O.key),W=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let Z=!1;O&&k?O.data.isEqual(k.data)?J!==W&&(s.track({type:3,doc:k}),Z=!0):this.su(O,k)||(s.track({type:2,doc:k}),Z=!0,(v&&this.eu(k,v)>0||_&&this.eu(k,_)<0)&&(y=!0)):!O&&k?(s.track({type:0,doc:k}),Z=!0):O&&!k&&(s.track({type:1,doc:O}),Z=!0,(v||_)&&(y=!0)),Z&&(k?(d=d.add(k),h=W?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,b)=>(function(k,J){const W=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht(20277,{Rt:Z})}};return W(k)-W(J)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(s),u=u??!1;const y=i&&!u?this._u():[],v=this.Xa.size===0&&this.current&&!u?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Cr(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Dt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new f0(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new h0(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Dt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Cr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hd="SyncEngine";class Db{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Vb{constructor(e){this.key=e,this.hu=!1}}class Ib{constructor(e,i,s,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new As((y=>Cv(y)),yc),this.Iu=new Map,this.Eu=new Set,this.du=new re(ut.comparator),this.Au=new Map,this.Ru=new Nd,this.Vu={},this.mu=new Map,this.fu=wr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Nb(r,e,i=!0){const s=_0(r);let u;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await d0(s,e,i,!0),u}async function Ob(r,e){const i=_0(r);await d0(i,e,!0,!1)}async function d0(r,e,i,s){const u=await $S(r.localStore,yi(e)),h=u.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let y;return s&&(y=await Mb(r,e,h,d==="current",u.resumeToken)),r.isPrimaryClient&&i&&n0(r.remoteStore,u),y}async function Mb(r,e,i,s,u){r.pu=(b,O,k)=>(async function(W,Z,ft,At){let dt=Z.view.ru(ft);dt.Cs&&(dt=await T_(W.localStore,Z.query,!1).then((({documents:D})=>Z.view.ru(D,dt))));const Qt=At&&At.targetChanges.get(Z.targetId),$t=At&&At.targetMismatches.get(Z.targetId)!=null,Mt=Z.view.applyChanges(dt,W.isPrimaryClient,Qt,$t);return N_(W,Z.targetId,Mt.au),Mt.snapshot})(r,b,O,k);const h=await T_(r.localStore,e,!0),d=new Cb(e,h.Qs),y=d.ru(h.documents),v=ru.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",u),_=d.applyChanges(y,r.isPrimaryClient,v);N_(r,i,_.au);const A=new Db(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function xb(r,e,i){const s=yt(r),u=s.Tu.get(e),h=s.Iu.get(u.targetId);if(h.length>1)return s.Iu.set(u.targetId,h.filter((d=>!yc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await rd(s.localStore,u.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(u.targetId),i&&zd(s.remoteStore,u.targetId),od(s,u.targetId)})).catch(Ir)):(od(s,u.targetId),await rd(s.localStore,u.targetId,!0))}async function zb(r,e){const i=yt(r),s=i.Tu.get(e),u=i.Iu.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),zd(i.remoteStore,s.targetId))}async function Ub(r,e,i){const s=kb(r);try{const u=await(function(d,y){const v=yt(d),_=ee.now(),A=y.reduce(((k,J)=>k.add(J.key)),Dt());let b,O;return v.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let J=Gi(),W=Dt();return v.Ns.getEntries(k,A).next((Z=>{J=Z,J.forEach(((ft,At)=>{At.isValidDocument()||(W=W.add(ft))}))})).next((()=>v.localDocuments.getOverlayedDocuments(k,J))).next((Z=>{b=Z;const ft=[];for(const At of y){const dt=JA(At,b.get(At.key).overlayedDocument);dt!=null&&ft.push(new La(At.key,dt,vv(dt.value.mapValue),Gn.exists(!0)))}return v.mutationQueue.addMutationBatch(k,_,ft,y)})).next((Z=>{O=Z;const ft=Z.applyToLocalDocumentSet(b,W);return v.documentOverlayCache.saveOverlays(k,Z.batchId,ft)}))})).then((()=>({batchId:O.batchId,changes:Iv(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new re(Ct)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(s,u.batchId,i),await uu(s,u.changes),await bc(s.remoteStore)}catch(u){const h=Pd(u,"Failed to persist write");i.reject(h)}}async function m0(r,e){const i=yt(r);try{const s=await KS(i.localStore,e);e.targetChanges.forEach(((u,h)=>{const d=i.Au.get(h);d&&(qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?qt(d.hu,14607):u.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await uu(i,s,e)}catch(s){await Ir(s)}}function I_(r,e,i){const s=yt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&u.push(y.snapshot)})),(function(d,y){const v=yt(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,b)=>{for(const O of b.Sa)O.va(y)&&(_=!0)})),_&&jd(v)})(s.eventManager,e),u.length&&s.Pu.H_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Lb(r,e,i){const s=yt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Au.get(e),h=u&&u.key;if(h){let d=new re(ut.comparator);d=d.insert(h,Xe.newNoDocument(h,gt.min()));const y=Dt().add(h),v=new Tc(gt.min(),new Map,new re(Ct),d,y);await m0(s,v),s.du=s.du.remove(h),s.Au.delete(e),kd(s)}else await rd(s.localStore,e,!1).then((()=>od(s,e,i))).catch(Ir)}async function Bb(r,e){const i=yt(r),s=e.batch.batchId;try{const u=await XS(i.localStore,e);p0(i,s,null),g0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await uu(i,u)}catch(u){await Ir(u)}}async function qb(r,e,i){const s=yt(r);try{const u=await(function(d,y){const v=yt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next((b=>(qt(b!==null,37113),A=b.keys(),v.mutationQueue.removeMutationBatch(_,b)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(s.localStore,e);p0(s,e,i),g0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await uu(s,u)}catch(u){await Ir(u)}}function g0(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function p0(r,e,i){const s=yt(r);let u=s.Vu[s.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),s.Vu[s.currentUser.toKey()]=u}}function od(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||y0(r,s)}))}function y0(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(zd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),kd(r))}function N_(r,e,i){for(const s of i)s instanceof h0?(r.Ru.addReference(s.key,e),Pb(r,s)):s instanceof f0?(it(Hd,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||y0(r,s.key)):ht(19791,{wu:s})}function Pb(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(it(Hd,"New document in limbo: "+i),r.Eu.add(s),kd(r))}function kd(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ut(Jt.fromString(e)),s=r.fu.next();r.Au.set(s,new Vb(i)),r.du=r.du.insert(i,s),n0(r.remoteStore,new ba(yi(Rd(i.path)),s,"TargetPurposeLimboResolution",mc.ce))}}async function uu(r,e,i){const s=yt(r),u=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,v)=>{d.push(s.pu(v,e,i).then((_=>{if((_||i)&&s.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){u.push(_);const A=Md.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),s.Pu.H_(u),await(async function(v,_){const A=yt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>K.forEach(_,(O=>K.forEach(O.Es,(k=>A.persistence.referenceDelegate.addReference(b,O.targetId,k))).next((()=>K.forEach(O.ds,(k=>A.persistence.referenceDelegate.removeReference(b,O.targetId,k)))))))))}catch(b){if(!Nr(b))throw b;it(xd,"Failed to update sequence numbers: "+b)}for(const b of _){const O=b.targetId;if(!b.fromCache){const k=A.Ms.get(O),J=k.snapshotVersion,W=k.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(O,W)}}})(s.localStore,h))}async function jb(r,e){const i=yt(r);if(!i.currentUser.isEqual(e)){it(Hd,"User change. New user:",e.toKey());const s=await $v(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new nt(X.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await uu(i,s.Ls)}}function Hb(r,e){const i=yt(r),s=i.Au.get(e);if(s&&s.hu)return Dt().add(s.key);{let u=Dt();const h=i.Iu.get(e);if(!h)return u;for(const d of h){const y=i.Tu.get(d);u=u.unionWith(y.view.nu)}return u}}function _0(r){const e=yt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=m0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lb.bind(null,e),e.Pu.H_=Rb.bind(null,e.eventManager),e.Pu.yu=wb.bind(null,e.eventManager),e}function kb(r){const e=yt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qb.bind(null,e),e}class hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ac(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return YS(this.persistence,new GS,e.initialUser,this.serializer)}Cu(e){return new Jv(Od.mi,this.serializer)}Du(e){return new tb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hc.provider={build:()=>new hc};class Gb extends hc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){qt(this.persistence.referenceDelegate instanceof oc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new VS(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new Jv((s=>oc.mi(s,i)),this.serializer)}}class cd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>I_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=jb.bind(null,this.syncEngine),await Ab(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bb})()}createDatastore(e){const i=Ac(e.databaseInfo.databaseId),s=(function(h){return new sb(h)})(e.databaseInfo);return(function(h,d,y,v){return new ob(h,d,y,v)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,u,h,d,y){return new hb(s,u,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>I_(this.syncEngine,i,0)),(function(){return b_.v()?new b_:new eb})())}createSyncEngine(e,i){return(function(u,h,d,y,v,_,A){const b=new Ib(u,h,d,y,v,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=yt(i);it(Es,"RemoteStore shutting down."),s.Ea.add(5),await lu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cd.provider={build:()=>new cd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="FirestoreClient";class Qb{constructor(e,i,s,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Ye.UNAUTHENTICATED,this.clientId=vd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{it(za,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(it(za,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Pd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Hf(r,e){r.asyncQueue.verifyOperationInProgress(),it(za,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async u=>{s.isEqual(u)||(await $v(e.localStore,u),s=u)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function O_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await Fb(r);it(za,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>w_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,u)=>w_(e.remoteStore,u))),r._onlineComponents=e}async function Fb(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(za,"Using user provided OfflineComponentProvider");try{await Hf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(u){return u.name==="FirebaseError"?u.code===X.FAILED_PRECONDITION||u.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(i))throw i;Ar("Error using user provided cache. Falling back to memory cache: "+i),await Hf(r,new hc)}}else it(za,"Using default OfflineComponentProvider"),await Hf(r,new Gb(void 0));return r._offlineComponents}async function E0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(za,"Using user provided OnlineComponentProvider"),await O_(r,r._uninitializedComponentsProvider._online)):(it(za,"Using default OnlineComponentProvider"),await O_(r,new cd))),r._onlineComponents}function Yb(r){return E0(r).then((e=>e.syncEngine))}async function hd(r){const e=await E0(r),i=e.eventManager;return i.onListen=Nb.bind(null,e.syncEngine),i.onUnlisten=xb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Ob.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=zb.bind(null,e.syncEngine),i}function Xb(r,e,i={}){const s=new Da;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,_){const A=new v0({next:O=>{A.Nu(),d.enqueueAndForget((()=>o0(h,b))),O.fromCache&&v.source==="server"?_.reject(new nt(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(O)},error:O=>_.reject(O)}),b=new c0(y,A,{includeMetadataChanges:!0,qa:!0});return u0(h,b)})(await hd(r),r.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="firestore.googleapis.com",x_=!0;class z_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new nt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A0,this.ssl=x_}else this.host=e.host,this.ssl=e.ssl??x_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Zv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CS)throw new nt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new nt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new nt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new nt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,u){return s.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rc{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new nt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new eA;switch(s.type){case"firstParty":return new sA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new nt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=M_.get(i);s&&(it("ComponentProvider","Removing Datastore"),M_.delete(i),s.terminate())})(this),Promise.resolve()}}function Kb(r,e,i,s={}){r=pi(r,Rc);const u=pd(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;u&&(IT(`https://${y}`),xT("Firestore",!0)),h.host!==A0&&h.host!==y&&Ar("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:u,emulatorOptions:s};if(!Wo(v,d)&&(r._setSettings(v),s.mockUserToken)){let _,A;if(typeof s.mockUserToken=="string")_=s.mockUserToken,A=Ye.MOCK_USER;else{_=NT(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new nt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(b)}r._authCredentials=new nA(new lv(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new bs(this.firestore,e,this._query)}}class we{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new we(this.firestore,e,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(iu(i,we._jsonSchema))return new we(e,s||null,new ut(Jt.fromString(i.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:Re("string",we._jsonSchemaVersion),referencePath:Re("string")};class Va extends bs{constructor(e,i,s){super(e,i,Rd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new we(this.firestore,null,new ut(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function Qo(r,e,...i){if(r=Ti(r),uv("collection","path",e),r instanceof Rc){const s=Jt.fromString(e,...i);return Xy(s),new Va(r,null,s)}{if(!(r instanceof we||r instanceof Va))throw new nt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(e,...i));return Xy(s),new Va(r.firestore,null,s)}}function fd(r,e,...i){if(r=Ti(r),arguments.length===1&&(e=vd.newId()),uv("doc","path",e),r instanceof Rc){const s=Jt.fromString(e,...i);return Yy(s),new we(r,null,new ut(s))}{if(!(r instanceof we||r instanceof Va))throw new nt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(e,...i));return Yy(s),new we(r.firestore,r instanceof Va?r.converter:null,new ut(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="AsyncQueue";class L_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new t0(this,"async_queue_retry"),this._c=()=>{const s=jf();s&&it(U_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=jf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=jf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Da;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Nr(e))throw e;it(U_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ki("INTERNAL UNHANDLED ERROR: ",B_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=qd.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&ht(47125,{Pc:B_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function B_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of s)if(h in u&&typeof u[h]=="function")return!0;return!1})(r,["next","error","complete"])}class Ts extends Rc{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new L_,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new L_(e),this._firestoreClient=void 0,await e}}}function Zb(r,e){const i=typeof r=="object"?r:G1(),s=typeof r=="string"?r:ic,u=q1(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=DT("firestore");h&&Kb(u,...h)}return u}function Gd(r){if(r._terminated)throw new nt(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Jb(r),r._firestoreClient}function Jb(r){const e=r._freezeSettings(),i=(function(u,h,d,y){return new AA(u,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,T0(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Qb(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(Ge.fromBase64String(e))}catch(i){throw new nt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Nn(Ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:Re("string",Nn._jsonSchemaVersion),bytes:Re("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new nt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new nt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new nt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(iu(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:Re("string",vi._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,Ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ei(e.vectorValues);throw new nt(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:Re("string",Ei._jsonSchemaVersion),vectorValues:Re("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=/^__.*__$/;class Wb{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new La(e,this.data,this.fieldMask,i,this.fieldTransforms):new su(e,this.data,i,this.fieldTransforms)}}class S0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new La(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function b0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht(40011,{Ac:r})}}class Qd{constructor(e,i,s,u,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return fc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(b0(this.Ac)&&$b.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class t2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Ac(e)}Cc(e,i,s,u=!1){return new Qd({Ac:e,methodName:i,Dc:s,path:ke.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fd(r){const e=r._freezeSettings(),i=Ac(r._databaseId);return new t2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function e2(r,e,i,s,u,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,u);Xd("Data must be an object, but it was:",d,s);const y=R0(s,d);let v,_;if(h.merge)v=new yn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const b of h.mergeFields){const O=dd(e,b,i);if(!d.contains(O))throw new nt(X.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);C0(A,O)||A.push(O)}v=new yn(A),_=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,_=d.fieldTransforms;return new Wb(new ln(y),v,_)}class Dc extends Cc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dc}}class Yd extends Cc{constructor(e,i){super(e),this.Fc=i}_toFieldTransform(e){const i=new nu(e.serializer,Mv(e.serializer,this.Fc));return new YA(e.path,i)}isEqual(e){return e instanceof Yd&&this.Fc===e.Fc}}function n2(r,e,i,s){const u=r.Cc(1,e,i);Xd("Data must be an object, but it was:",u,s);const h=[],d=ln.empty();Ua(s,((v,_)=>{const A=Kd(e,v,i);_=Ti(_);const b=u.yc(A);if(_ instanceof Dc)h.push(A);else{const O=ou(_,b);O!=null&&(h.push(A),d.set(A,O))}}));const y=new yn(h);return new S0(d,y,u.fieldTransforms)}function i2(r,e,i,s,u,h){const d=r.Cc(1,e,i),y=[dd(e,s,i)],v=[u];if(h.length%2!=0)throw new nt(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<h.length;O+=2)y.push(dd(e,h[O])),v.push(h[O+1]);const _=[],A=ln.empty();for(let O=y.length-1;O>=0;--O)if(!C0(_,y[O])){const k=y[O];let J=v[O];J=Ti(J);const W=d.yc(k);if(J instanceof Dc)_.push(k);else{const Z=ou(J,W);Z!=null&&(_.push(k),A.set(k,Z))}}const b=new yn(_);return new S0(A,b,d.fieldTransforms)}function a2(r,e,i,s=!1){return ou(i,r.Cc(s?4:3,e))}function ou(r,e){if(w0(r=Ti(r)))return Xd("Unsupported field value:",e,r),R0(r,e);if(r instanceof Cc)return(function(s,u){if(!b0(u.Ac))throw u.Sc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,u){const h=[];let d=0;for(const y of s){let v=ou(y,u.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(s,u){if((s=Ti(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Mv(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=ee.fromDate(s);return{timestampValue:uc(u.serializer,h)}}if(s instanceof ee){const h=new ee(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:uc(u.serializer,h)}}if(s instanceof vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Nn)return{bytesValue:kv(u.serializer,s._byteString)};if(s instanceof we){const h=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw u.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Id(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Ei)return(function(d,y){return{mapValue:{fields:{[yv]:{stringValue:_v},[ac]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return wd(y.serializer,_)}))}}}}}})(s,u);throw u.Sc(`Unsupported field value: ${dc(s)}`)})(r,e)}function R0(r,e){const i={};return hv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ua(r,((s,u)=>{const h=ou(u,e.mc(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function w0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ee||r instanceof vi||r instanceof Nn||r instanceof we||r instanceof Cc||r instanceof Ei)}function Xd(r,e,i){if(!w0(i)||!ov(i)){const s=dc(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function dd(r,e,i){if((e=Ti(e))instanceof wc)return e._internalPath;if(typeof e=="string")return Kd(r,e);throw fc("Field path arguments must be of type string or ",r,!1,void 0,i)}const s2=new RegExp("[~\\*/\\[\\]]");function Kd(r,e,i){if(e.search(s2)>=0)throw fc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new wc(...e.split("."))._internalPath}catch{throw fc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function fc(r,e,i,s,u){const h=s&&!s.isEmpty(),d=u!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${u}`),v+=")"),new nt(X.INVALID_ARGUMENT,y+r+v)}function C0(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,i,s,u,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(V0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class r2 extends D0{data(){return super.data()}}function V0(r,e){return typeof e=="string"?Kd(r,e):e instanceof wc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new nt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zd{}class l2 extends Zd{}function P_(r,e,...i){let s=[];e instanceof Zd&&s.push(e),s=s.concat(i),(function(h){const d=h.filter((v=>v instanceof $d)).length,y=h.filter((v=>v instanceof Jd)).length;if(d>1||d>0&&y>0)throw new nt(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const u of s)r=u._apply(r);return r}class Jd extends l2{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Jd(e,i,s)}_apply(e){const i=this._parse(e);return N0(e._query,i),new bs(e.firestore,e.converter,td(e._query,i))}_parse(e){const i=Fd(e.firestore);return(function(h,d,y,v,_,A,b){let O;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new nt(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){H_(b,A);const J=[];for(const W of b)J.push(j_(v,h,W));O={arrayValue:{values:J}}}else O=j_(v,h,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||H_(b,A),O=a2(y,d,b,A==="in"||A==="not-in");return be.create(_,A,O)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class $d extends Zd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new $d(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Qn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(u,h){let d=u;const y=h.getFlattenedFilters();for(const v of y)N0(d,v),d=td(d,v)})(e._query,i),new bs(e.firestore,e.converter,td(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function j_(r,e,i){if(typeof(i=Ti(i))=="string"){if(i==="")throw new nt(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wv(e)&&i.indexOf("/")!==-1)throw new nt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Jt.fromString(i));if(!ut.isDocumentKey(s))throw new nt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return n_(r,new ut(s))}if(i instanceof we)return n_(r,i._key);throw new nt(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dc(i)}.`)}function H_(r,e){if(!Array.isArray(r)||r.length===0)throw new nt(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function N0(r,e){const i=(function(u,h){for(const d of u)for(const y of d.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null})(r.filters,(function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new nt(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new nt(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class u2{convertValue(e,i="none"){switch(Ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ht(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ua(e,((u,h)=>{s[u]=this.convertValue(h,i)})),s}convertVectorValue(e){const i=e.fields?.[ac].arrayValue?.values?.map((s=>de(s.doubleValue)));return new Ei(i)}convertGeoPoint(e){return new vi(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=pc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const i=Na(e);return new ee(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Jt.fromString(e);qt(Kv(s),9688,{name:e});const u=new $l(s.get(1),s.get(3)),h=new ut(s.popFirst(5));return u.isEqual(i)||ki(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Hl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ys extends D0{constructor(e,i,s,u,h,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Jo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(V0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ys._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",ys._jsonSchema={type:Re("string",ys._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Jo extends ys{data(e={}){return super.data(e)}}class _s{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Hl(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Jo(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new nt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((y=>{const v=new Jo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Hl(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Jo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Hl(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:c2(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_s._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function c2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht(61501,{type:r})}}_s._jsonSchemaVersion="firestore/querySnapshot/1.0",_s._jsonSchema={type:Re("string",_s._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class Wd extends u2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new we(this.firestore,null,i)}}function k_(r){r=pi(r,bs);const e=pi(r.firestore,Ts),i=Gd(e),s=new Wd(e);return I0(r._query),Xb(i,r._query).then((u=>new _s(e,s,r,u)))}function h2(r,e,i,...s){r=pi(r,we);const u=pi(r.firestore,Ts),h=Fd(u);let d;return d=typeof(e=Ti(e))=="string"||e instanceof wc?i2(h,"updateDoc",r._key,e,i,s):n2(h,"updateDoc",r._key,e),tm(u,[d.toMutation(r._key,Gn.exists(!0))])}function f2(r){return tm(pi(r.firestore,Ts),[new Cd(r._key,Gn.none())])}function d2(r,e){const i=pi(r.firestore,Ts),s=fd(r),u=o2(r.converter,e);return tm(i,[e2(Fd(r.firestore),"addDoc",s._key,u,r.converter!==null,{}).toMutation(s._key,Gn.exists(!1))]).then((()=>s))}function m2(r,...e){r=Ti(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||q_(e[s])||(i=e[s++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(q_(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let h,d,y;if(r instanceof we)d=pi(r.firestore,Ts),y=Rd(r._key.path),h={next:v=>{e[s]&&e[s](g2(d,r,v))},error:e[s+1],complete:e[s+2]};else{const v=pi(r,bs);d=pi(v.firestore,Ts),y=v._query;const _=new Wd(d);h={next:A=>{e[s]&&e[s](new _s(d,_,v,A))},error:e[s+1],complete:e[s+2]},I0(r._query)}return(function(_,A,b,O){const k=new v0(O),J=new c0(A,k,b);return _.asyncQueue.enqueueAndForget((async()=>u0(await hd(_),J))),()=>{k.Nu(),_.asyncQueue.enqueueAndForget((async()=>o0(await hd(_),J)))}})(Gd(d),y,u,h)}function tm(r,e){return(function(s,u){const h=new Da;return s.asyncQueue.enqueueAndForget((async()=>Ub(await Yb(s),u,h))),h.promise})(Gd(r),e)}function g2(r,e,i){const s=i.docs.get(e._key),u=new Wd(r);return new ys(r,u,e._key,s,new Hl(i.hasPendingWrites,i.fromCache),e.converter)}function p2(r){return new Yd("increment",r)}(function(e,i=!0){(function(u){Vr=u})(k1),ec(new Xl("firestore",((s,{instanceIdentifier:u,options:h})=>{const d=s.getProvider("app").getImmediate(),y=new Ts(new iA(s.getProvider("auth-internal")),new rA(d,s.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new nt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(_.options.projectId,A)})(d,u),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),Er(ky,Gy,e),Er(ky,Gy,"esm2020")})();var y2="firebase",_2="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(y2,_2,"app");const v2={apiKey:"AIzaSyABn_psgC9m8NutspAY_848jJeNJARIRI8",authDomain:"halloween-poll-69b0b.firebaseapp.com",projectId:"halloween-poll-69b0b",storageBucket:"halloween-poll-69b0b.firebasestorage.app",messagingSenderId:"209279646625",appId:"1:209279646625:web:239ca0a3a974684eb2e9e0",measurementId:"G-BEH1LK9Y3M"},E2=J_(v2),gr=Zb(E2),T2=()=>{const[r,e]=gi.useState([]),[i,s]=gi.useState(!0),[u,h]=gi.useState(null),[d,y]=gi.useState(!1);gi.useEffect(()=>{const O=localStorage.getItem("hasVoted")==="true";y(O);const k=m2(Qo(gr,"poll-options"),J=>{const W=J.docs.map(Z=>({id:Z.id,text:Z.data().text,votes:Z.data().votes}));e(W.sort((Z,ft)=>ft.votes-Z.votes)),s(!1)},J=>{h(J.message),s(!1)});return()=>k()},[]);const v=async O=>{if(d){h("You have already voted!");return}try{const k=fd(gr,"poll-options",O);await h2(k,{votes:p2(1)}),localStorage.setItem("hasVoted","true"),y(!0)}catch(k){h(k instanceof Error?k.message:"Failed to vote")}},_=async O=>{try{const k=P_(Qo(gr,"poll-options"));if((await k_(k)).docs.some(Z=>Z.data().text.toLowerCase()===O.toLowerCase()))throw new Error("This option already exists");await d2(Qo(gr,"poll-options"),{text:O,votes:0})}catch(k){throw k}},A=async()=>{try{const O=P_(Qo(gr,"poll-options")),J=(await k_(O)).docs.map(W=>f2(fd(gr,"poll-options",W.id)));await Promise.all(J),await b()}catch(O){h(O instanceof Error?O.message:"Failed to reset poll")}},b=async()=>{localStorage.removeItem("hasVoted"),y(!1)};return{options:r,loading:i,error:u,vote:v,addCustomOption:_,resetAllVotes:A,hasVoted:d,resetHasVoted:b}},A2=({option:r,onVote:e,totalVotes:i,maxVote:s,disabled:u=!1})=>{const h=i>0?Math.round(r.votes/s*100):0;return Gt.jsxs("button",{onClick:()=>!u&&e(r.id),disabled:u,className:`relative w-full min-h-[60px] px-6 py-4 bg-gray-300 text-white rounded-lg shadow-lg transition-all duration-200 touch-manipulation overflow-hidden ${u?"opacity-75 cursor-not-allowed":"hover:bg-gray-400 hover:shadow-xl active:scale-95"}`,children:[Gt.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-cyan-500 transition-all duration-500 ease-out rounded-lg",style:{width:`${h}%`}}),Gt.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[Gt.jsx("span",{className:"text-lg font-semibold drop-shadow-md",children:r.text}),Gt.jsx("div",{className:"flex items-center gap-3",children:Gt.jsx("span",{className:"text-sm font-medium bg-black/30 px-3 py-1 rounded-full drop-shadow-sm",children:r.votes})})]})]})},S2=({onAdd:r})=>{const[e,i]=gi.useState(""),[s,u]=gi.useState(!1),[h,d]=gi.useState(null),y=async v=>{if(v.preventDefault(),!e.trim()){d("Please enter an answer");return}u(!0),d(null);try{await r(e.trim()),i("")}catch(_){d(_ instanceof Error?_.message:"Failed to add option")}finally{u(!1)}};return Gt.jsxs("form",{onSubmit:y,className:"w-full space-y-2",children:[Gt.jsxs("div",{className:"flex gap-2",children:[Gt.jsx("input",{type:"text",value:e,onChange:v=>{i(v.target.value),d(null)},placeholder:"Add your own answer...",className:"flex-1 px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 text-gray-900 placeholder-gray-500 min-h-[48px] touch-manipulation",disabled:s,maxLength:50}),Gt.jsx("button",{type:"submit",disabled:s||!e.trim(),className:"px-6 py-3 bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white rounded-lg font-semibold shadow-md hover:shadow-lg transition-all duration-200 active:scale-95 min-w-[80px] min-h-[48px] touch-manipulation",children:s?"...":"Add"})]}),h&&Gt.jsx("p",{className:"text-red-500 text-sm font-medium px-1",children:h})]})};function b2(){const{options:r,loading:e,error:i,vote:s,addCustomOption:u,resetAllVotes:h,hasVoted:d,resetHasVoted:y}=T2(),v=r.reduce((A,b)=>A+b.votes,0),_=r.reduce((A,b)=>b.votes>A?b.votes:A,0);return gi.useEffect(()=>{const b=new URLSearchParams(window.location.search).get("reset");b==="all"?(h(),window.history.replaceState({},"",window.location.pathname)):b==="vote"&&(y(),window.history.replaceState({},"",window.location.pathname))},[h]),e?Gt.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 to-cyan-100 flex items-center justify-center p-4",children:Gt.jsx("div",{className:"text-2xl font-bold text-blue-600 animate-pulse",children:"Loading..."})}):Gt.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-100 to-cyan-100 py-8 px-4 sm:px-6 lg:px-8",children:Gt.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[i&&Gt.jsx("div",{className:"bg-red-100 border-2 border-red-400 text-red-700 px-6 py-4 rounded-lg",children:Gt.jsx("p",{className:"font-semibold",children:i})}),Gt.jsxs("div",{className:"text-center space-y-2",children:[Gt.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-gray-800 mb-2",children:"Which costume should Matteo wear?"}),Gt.jsx("p",{className:"text-lg text-gray-600",children:d?"Thanks for voting! See the results below":"Vote for your favorite or add your own"})]}),!d&&Gt.jsx("div",{className:"bg-white/50 rounded-lg p-4 shadow-lg",children:Gt.jsx(S2,{onAdd:u})}),Gt.jsxs("div",{className:"space-y-4",children:[Gt.jsxs("div",{className:"text-xl text-center font-bold",children:["Total Votes: ",v]}),d&&Gt.jsx("div",{className:"text-sm text-blue-600 font-semibold bg-white/50 px-4 py-2 rounded-lg mx-auto w-fit",children:" You have already voted"}),Gt.jsx("div",{className:"space-y-3",children:r.map(A=>Gt.jsx(A2,{option:A,onVote:s,totalVotes:v,maxVote:_,disabled:d},A.id))})]})]})})}yT.createRoot(document.getElementById("root")).render(Gt.jsx(gi.StrictMode,{children:Gt.jsx(b2,{})}));
